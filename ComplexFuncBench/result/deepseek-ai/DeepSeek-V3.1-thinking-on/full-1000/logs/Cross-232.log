2025-08-25 12:13:03,188 - evaluation_logger_Cross-232 - INFO - Test Example Cross-232
2025-08-25 12:13:03,188 - evaluation_logger_Cross-232 - INFO - Query: Book the fastest flight from Quebec to New York on October 5, 2024; I don't accept flights with overnight layovers. Also, book a hotel near Central Park in New York for a two-week stay. Additionally, I need a taxi to take me from the airport to the hotel one hour after the flight lands.
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Function Calls: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Quebec"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "New York"
        }
    },
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "Central Park"
        }
    }
]

2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Quebec"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "New York"
        }
    },
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "Central Park"
        }
    },
    {
        "name": "Search_Flights",
        "arguments": {
            "fromId": "YMQ.CITY",
            "toId": "NYC.CITY",
            "departDate": "2024-10-05",
            "sort": "FASTEST"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "dest_id": 973,
            "search_type": "district",
            "arrival_date": "2024-10-05",
            "departure_date": "2024-10-19"
        }
    }
]

2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Quebec'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Quebec'}}
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'New York'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'New York'}}
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Central Park'}}
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Central Park'}}
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Success matched: [{'name': 'Search_Flight_Location', 'arguments': {'query': 'Quebec'}}, {'name': 'Search_Flight_Location', 'arguments': {'query': 'New York'}}, {'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Central Park'}}]
2025-08-25 12:13:13,871 - evaluation_logger_Cross-232 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "YMQ.CITY",
                "type": "CITY",
                "name": "Montréal",
                "code": "YMQ",
                "region": "QC",
                "regionName": "Quebec",
                "country": "CA",
                "countryName": "Canada"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "NYC.CITY",
                "type": "CITY",
                "name": "New York",
                "code": "NYC",
                "regionName": "New York",
                "country": "US",
                "countryName": "United States"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "dest_id": "973",
                "search_type": "district",
                "label": "New York Central Park, New York, New York, United States",
                "cc1": "us",
                "country": "United States",
                "latitude": 40.78202,
                "hotels": 39,
                "type": "di",
                "city_name": "New York",
                "longitude": -73.96583,
                "lc": "en",
                "nr_hotels": 39,
                "roundtrip": "GgEwIAAoATICZW46DENlbnRyYWwgUGFya0AASgBQAA==",
                "city_ufi": 20088325,
                "region": "New York",
                "name": "New York Central Park",
                "dest_type": "district"
            }
        ]
    }
]

2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Function Calls: 
[
    {
        "name": "Search_Flights",
        "arguments": {
            "fromId": "YMQ.CITY",
            "toId": "NYC.CITY",
            "departDate": "2024-10-05",
            "sort": "FASTEST"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "dest_id": 973,
            "search_type": "district",
            "arrival_date": "2024-10-05",
            "departure_date": "2024-10-19"
        }
    }
]

2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flights",
        "arguments": {
            "departDate": "2024-10-05",
            "fromId": "YMQ.CITY",
            "sort": "FASTEST",
            "toId": "NYC.CITY"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "arrival_date": "2024-10-05",
            "departure_date": "2024-10-19",
            "dest_id": 973,
            "search_type": "district"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Shoreham Hotel"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "LaGuardia Airport"
        }
    }
]

2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Flights', 'arguments': {'departDate': '2024-10-05', 'fromId': 'YMQ.CITY', 'sort': 'FASTEST', 'toId': 'NYC.CITY'}}
{'name': 'Search_Flights', 'arguments': {'departDate': '2024-10-05', 'fromId': 'YMQ.CITY', 'sort': 'FASTEST', 'toId': 'NYC.CITY'}}
2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-10-05', 'departure_date': '2024-10-19', 'dest_id': 973, 'search_type': 'district'}}
{'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-10-05', 'departure_date': '2024-10-19', 'dest_id': 973, 'search_type': 'district'}}
2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:25,665 - evaluation_logger_Cross-232 - INFO - Success matched: [{'name': 'Search_Flights', 'arguments': {'departDate': '2024-10-05', 'fromId': 'YMQ.CITY', 'sort': 'FASTEST', 'toId': 'NYC.CITY'}}, {'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-10-05', 'departure_date': '2024-10-19', 'dest_id': 973, 'search_type': 'district'}}]
2025-08-25 12:13:25,666 - evaluation_logger_Cross-232 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "flightOffers": [
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2QbW-DIBSFf037TQR0WpuQhVjTLLV1fXV-IkrR0nVlEbba_voxbYBznnNzLyGcjPnWU9etL7I5Ge38aNAoo5rSCMDVl1u3ViqlPuW1cUvZusVyvSpi-JLFOxe5jl18WryKzji65WQsKwFK4kRRNKDmZPKklgTApwHabHHRl7gyxAf-R7KYUA_NZ0OxJfMsX1PapyNZzvQte9BwudOdPTBPDmmWJPfV47DOUINyeetWB4rTGG33Z31LY9ils2TkDdcJzgkCwA8j1GdVauINxA1BcMCjIdtFmD5n7LMwxmgY6AjCOArGWlwEN1JdF-JOaDwJfOjYX-AG-85uhOOqquVvZ2HkUbsbBq2eei3Z-95axcKNNT7YkXmBFwlLom-qmW9VMgQg-M9n9pZbezB0L9sHNH_a9qI1qQEAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "YUL",
                                "name": "Montreal-Trudeau International Airport",
                                "city": "YMQ",
                                "cityName": "Montréal",
                                "country": "CA",
                                "countryName": "Canada"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LGA",
                                "name": "LaGuardia Airport",
                                "city": "NYC",
                                "cityName": "New York",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-10-05T15:30:00",
                            "arrivalTime": "2024-10-05T16:59:00",
                            "legs": [
                                {
                                    "departureTime": "2024-10-05T15:30:00",
                                    "arrivalTime": "2024-10-05T16:59:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "YUL",
                                        "name": "Montreal-Trudeau International Airport",
                                        "city": "YMQ",
                                        "cityName": "Montréal",
                                        "country": "CA",
                                        "countryName": "Canada"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LGA",
                                        "name": "LaGuardia Airport",
                                        "city": "NYC",
                                        "cityName": "New York",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 8640,
                                        "planeType": "E75",
                                        "carrierInfo": {
                                            "operatingCarrier": "AC",
                                            "marketingCarrier": "AC",
                                            "operatingCarrierDisclosureText": "Air Canada Express - Jazz"
                                        }
                                    },
                                    "carriers": [
                                        "AC",
                                        "AC"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        },
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        }
                                    ],
                                    "totalTime": 5340,
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 5340,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d7699_H4sIAAAAAAAA_y2QYU-DMBCGf832jUILwljSGAJolg3QAU78QqDrGBNXpTUDfr2VLr28z3uXu_bSsxDffK3rp65tzoJrvxw0TLCmEhQQ9qWfeik1Y5_ttdGrtteL6DUufOMh8TMd6po8ZF080kFovCd42dYUVFhzXVdZTjC8ux7bwPJsuE9RMZcIE9gC1nu4XXkm9FJV7PFzEjx9qKkjjgJ-SybPiTOO4oAbh_Btl4ThGHfRmEwhinKDR1kxZP5N5N3GiSSj9DbM45TI5wGwHFddxyp-X4cRgaGh7FHgdOvszEClAiOEoGobMETItZecdpSIll23dMS5t4IrW5N_QASytGyB_PqnqS9MmoXpyWhKQ-p51qp8ySXq0tlLEIVjadqmS6Wjc9OptKS2JQQG-M8v5eYgMZVwrPrJEH8IJrLTpwEAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "YUL",
                                "name": "Montreal-Trudeau International Airport",
                                "city": "YMQ",
                                "cityName": "Montréal",
                                "country": "CA",
                                "countryName": "Canada"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LGA",
                                "name": "LaGuardia Airport",
                                "city": "NYC",
                                "cityName": "New York",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-10-05T15:30:00",
                            "arrivalTime": "2024-10-05T16:59:00",
                            "legs": [
                                {
                                    "departureTime": "2024-10-05T15:30:00",
                                    "arrivalTime": "2024-10-05T16:59:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "YUL",
                                        "name": "Montreal-Trudeau International Airport",
                                        "city": "YMQ",
                                        "cityName": "Montréal",
                                        "country": "CA",
                                        "countryName": "Canada"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LGA",
                                        "name": "LaGuardia Airport",
                                        "city": "NYC",
                                        "cityName": "New York",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 8186,
                                        "planeType": "E75",
                                        "carrierInfo": {
                                            "operatingCarrier": "UA",
                                            "marketingCarrier": "UA",
                                            "operatingCarrierDisclosureText": "Air Canada Express - Jazz"
                                        }
                                    },
                                    "carriers": [
                                        "UA",
                                        "UA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "United Airlines",
                                            "code": "UA"
                                        },
                                        {
                                            "name": "United Airlines",
                                            "code": "UA"
                                        }
                                    ],
                                    "totalTime": 5340,
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 5340,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9BSQEyahQBxiyhRnI5PDZby4pxdaBeRX78Kpu05z7m5t2naKPUrl6ZZXdu6UdL4k6AWStSF4oCJH7PqtJyF-G5vtVm0nZlvdts8tJw0PJjQNPRiy_yN98qQHSPz9sxBQQzf9yeUjCxe1BEX4MCF-wzlY4kJRTDAX_F6EdjwfTcVO7JKD852NaaSbCJ5T4fA2xxkr491io9JGseP7XDcpbCGp_beb48BSkKYfV7kPQmtPonimR2NF3DGCAQAez4csygksSdiikBrwlKRbO0lrxn9LOT4CI-hJxAh351LfuVMteK25g8ShJ7vGvoTmELYyGYoLMqm7gYNMzvQu6aW1mbUgkYnbWfq7bWxyUpqV7hYaOJjU0Wx1pZCYIFnvtCP59BARVX2zj-B2wiMpgEAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "YUL",
                                "name": "Montreal-Trudeau International Airport",
                                "city": "YMQ",
                                "cityName": "Montréal",
                                "country": "CA",
                                "countryName": "Canada"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "EWR",
                                "name": "Newark Liberty International Airport",
                                "city": "NYC",
                                "cityName": "New York",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-10-05T08:20:00",
                            "arrivalTime": "2024-10-05T09:49:00",
                            "legs": [
                                {
                                    "departureTime": "2024-10-05T08:20:00",
                                    "arrivalTime": "2024-10-05T09:49:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "YUL",
                                        "name": "Montreal-Trudeau International Airport",
                                        "city": "YMQ",
                                        "cityName": "Montréal",
                                        "country": "CA",
                                        "countryName": "Canada"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "EWR",
                                        "name": "Newark Liberty International Airport",
                                        "city": "NYC",
                                        "cityName": "New York",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 796,
                                        "planeType": "223",
                                        "carrierInfo": {
                                            "operatingCarrier": "AC",
                                            "marketingCarrier": "AC"
                                        }
                                    },
                                    "carriers": [
                                        "AC",
                                        "AC"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        },
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        }
                                    ],
                                    "totalTime": 5340,
                                    "arrivalTerminal": "A"
                                }
                            ],
                            "totalTime": 5340,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2QbW-CMBSFf41-o6WFgZg0S4PELKLMl8n41ECpiHPW0C4gv94OTNtznnNzb9P0rPVdzSE8XevqrJX1p0AltaxyLQCXv_DUGCmk_KlvFczrBmbr7SYL7bckPEAELbP4PHsXnbZUw8m0LgTIiRUEwYiKk9mLGuIBl3pot8fZUOJSExe439FqRh20jMZiQ5ZJuqV0SCVZL1Sb9NRfH1Rnjp1GxziJosemP24TVKG0brvNkeI4RPuvi2rj0O7iRTRxFsMFgnOCAHD9AA1Z5oo4I3FNkD1iqcl-5cevGfMsjDEaBzqCMA68qRJXwXUtbyvxIDSceQ62zC9wjV3rMMFhUbTlPTcwcajZFbONngfNGf00VjB_Z4yPVjLHcwJhSAxNJ-YarRkCNvjPF_aRGusZeuRNb-snoZdlM6kBAAA.",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "YUL",
                                "name": "Montreal-Trudeau International Airport",
                                "city": "YMQ",
                                "cityName": "Montréal",
                                "country": "CA",
                                "countryName": "Canada"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LGA",
                                "name": "LaGuardia Airport",
                                "city": "NYC",
                                "cityName": "New York",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-10-05T06:25:00",
                            "arrivalTime": "2024-10-05T07:55:00",
                            "legs": [
                                {
                                    "departureTime": "2024-10-05T06:25:00",
                                    "arrivalTime": "2024-10-05T07:55:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "YUL",
                                        "name": "Montreal-Trudeau International Airport",
                                        "city": "YMQ",
                                        "cityName": "Montréal",
                                        "country": "CA",
                                        "countryName": "Canada"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LGA",
                                        "name": "LaGuardia Airport",
                                        "city": "NYC",
                                        "cityName": "New York",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 8632,
                                        "planeType": "E75",
                                        "carrierInfo": {
                                            "operatingCarrier": "AC",
                                            "marketingCarrier": "AC",
                                            "operatingCarrierDisclosureText": "Air Canada Express - Jazz"
                                        }
                                    },
                                    "carriers": [
                                        "AC",
                                        "AC"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        },
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        }
                                    ],
                                    "totalTime": 5400,
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 5400,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2QbW-DIBSFf037TQR0WpuQhajpltqavqzOT4RSqnZdWYSl1l8_pg1wznNu7iWE2pgfPXfd87WpaqOdXw0qZVTFjQRCfbvn1spRqa_mVrm8ad1ytVmXMXzJ472LXMcuMS9fZWcc3QoybY4ScOJEUTSiFmT2pJYEwKcB2u5wOZSEMsQH_me6nFEPLd7GYksWebGhdEgnskr0Pe9puNrrzh5YpIcsT9PHuj9sclShorl36wPFWYx2Hxd9z2LYZUk68ZLhAikEQQD4YYSGrLgm3kjCEARHPBmyW4bZc8Y-C2OMxoGOIIyjYKrlVQrTqNtSPgiNQw869hOEwb6zn-CYh9yvoYWJR-2uGLRaD8pZsrJ2ZOHWmhjtxLzAi6QlOTSdmW-1YQhA8J8v7L2w1jP04G0PzR88-fWnqAEAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "YUL",
                                "name": "Montreal-Trudeau International Airport",
                                "city": "YMQ",
                                "cityName": "Montréal",
                                "country": "CA",
                                "countryName": "Canada"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LGA",
                                "name": "LaGuardia Airport",
                                "city": "NYC",
                                "cityName": "New York",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-10-05T08:10:00",
                            "arrivalTime": "2024-10-05T09:40:00",
                            "legs": [
                                {
                                    "departureTime": "2024-10-05T08:10:00",
                                    "arrivalTime": "2024-10-05T09:40:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "YUL",
                                        "name": "Montreal-Trudeau International Airport",
                                        "city": "YMQ",
                                        "cityName": "Montréal",
                                        "country": "CA",
                                        "countryName": "Canada"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LGA",
                                        "name": "LaGuardia Airport",
                                        "city": "NYC",
                                        "cityName": "New York",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 730,
                                        "planeType": "223",
                                        "carrierInfo": {
                                            "operatingCarrier": "AC",
                                            "marketingCarrier": "AC"
                                        }
                                    },
                                    "carriers": [
                                        "AC",
                                        "AC"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        },
                                        {
                                            "name": "Air Canada",
                                            "code": "AC"
                                        }
                                    ],
                                    "totalTime": 5400,
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 5400,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                }
            ],
            "flightDeals": [
                {
                    "key": "CHEAPEST",
                    "offerToken": "d7699_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9BSeTFpFoLOGFAG6LZ-IlB5c84a2kXk16-C6c05z7m5bW7aSHkTS12vLm3dSKH9CVBzyetcloDxX73qlBSc_7TXWs_bTqe7eE99YxH5Bx3qmjpsSd_KXmqiY2TeFiXIiea67oSCkQ_PeXFHLIA9CyYpomOLcUkwwN_rwPFMGG2mZkc20YI6-zGdyG4l7tHwGUfD1owGakRDQpOjwPFha8ZHbu8OtE8f935_fg9CH6bHs7iHvtGHq_XMXI2PlIwRCAC2XThmngtiOy9mkkBjwpMkaWCHr1tqOYgRQmPoCUTIteaivJRMtvwalA_iedi2kaZ-g0mEtXiG_CJvpGspmJmeqjozlDaj5lmaKCsy-2lsslOGUOEwReU4VGVYaZtBYIBnPmfbL2VDVuU3aPwDlWbkUK8BAAA.",
                    "price": {
                        "currencyCode": "USD",
                        "units": 142,
                        "nanos": 220000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 142,
                                    "nanos": 220000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 65,
                                    "nanos": 0
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 77,
                                    "nanos": 220000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 143
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 142,
                                    "nanos": 220000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 143
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "FASTEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_y2QbW-DIBSFf037TQR0WpuQhVjTLLV1fXV-IkrR0nVlEbba_voxbYBznnNzLyGcjPnWU9etL7I5Ge38aNAoo5rSCMDVl1u3ViqlPuW1cUvZusVyvSpi-JLFOxe5jl18WryKzji65WQsKwFK4kRRNKDmZPKklgTApwHabHHRl7gyxAf-R7KYUA_NZ0OxJfMsX1PapyNZzvQte9BwudOdPTBPDmmWJPfV47DOUINyeetWB4rTGG33Z31LY9ils2TkDdcJzgkCwA8j1GdVauINxA1BcMCjIdtFmD5n7LMwxmgY6AjCOArGWlwEN1JdF-JOaDwJfOjYX-AG-85uhOOqquVvZ2HkUbsbBq2eei3Z-95axcKNNT7YkXmBFwlLom-qmW9VMgQg-M9n9pZbezB0L9sHNH_a9qI1qQEAAA..",
                    "price": {
                        "currencyCode": "USD",
                        "units": 222,
                        "nanos": 110000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 222,
                                    "nanos": 110000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 136,
                                    "nanos": 0
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 86,
                                    "nanos": 110000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 223
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 222,
                                    "nanos": 110000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 223
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "BEST",
                    "offerToken": "d7699_H4sIAAAAAAAA_y2QbW-CMBSFf41-o9BSeTFpFoLOGFAG6LZ-IlB5c84a2kXk16-C6c05z7m5bW7aSHkTS12vLm3dSKH9CVBzyetcloDxX73qlBSc_7TXWs_bTqe7eE99YxH5Bx3qmjpsSd_KXmqiY2TeFiXIiea67oSCkQ_PeXFHLIA9CyYpomOLcUkwwN_rwPFMGG2mZkc20YI6-zGdyG4l7tHwGUfD1owGakRDQpOjwPFha8ZHbu8OtE8f935_fg9CH6bHs7iHvtGHq_XMXI2PlIwRCAC2XThmngtiOy9mkkBjwpMkaWCHr1tqOYgRQmPoCUTIteaivJRMtvwalA_iedi2kaZ-g0mEtXiG_CJvpGspmJmeqjozlDaj5lmaKCsy-2lsslOGUOEwReU4VGVYaZtBYIBnPmfbL2VDVuU3aPwDlWbkUK8BAAA.",
                    "price": {
                        "currencyCode": "USD",
                        "units": 142,
                        "nanos": 220000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 142,
                                    "nanos": 220000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 65,
                                    "nanos": 0
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 77,
                                    "nanos": 220000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 143
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 142,
                                    "nanos": 220000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 143
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                }
            ],
            "atolProtectedStatus": "NONE",
            "searchId": "82780ED1ABA0DD34CD154C9212B01568",
            "isOffersCabinClassExtended": false,
            "searchCriteria": {
                "cabinClass": "ECONOMY"
            }
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "hotels": [
                {
                    "hotel_id": 55861,
                    "accessibilityLabel": "Shoreham Hotel.\n4 out of 5 stars.\n7.3 Good 2849 reviews.\n‎1.6 km from centre‬.\n Private suite – 39 m² : 2 beds • 1 bedroom • 1 living room • 1 bathroom.\nOriginal price 8926 USD. Current price 6277 USD..\nIncludes taxes and charges.",
                    "property": {
                        "checkoutDate": "2024-10-19",
                        "ufi": 20088325,
                        "isFirstPage": true,
                        "currency": "USD",
                        "priceBreakdown": {
                            "benefitBadges": [
                                {
                                    "explanation": "Mobile-only price",
                                    "variant": "constructive",
                                    "identifier": "Mobile Rate",
                                    "text": "Mobile-only price"
                                }
                            ],
                            "strikethroughPrice": {
                                "currency": "USD",
                                "value": 8925.601
                            },
                            "grossPrice": {
                                "value": 6277.251325,
                                "currency": "USD"
                            }
                        },
                        "qualityClass": 0,
                        "longitude": -73.9763680100441,
                        "reviewCount": 2849,
                        "accuratePropertyClass": 4,
                        "name": "Shoreham Hotel",
                        "checkout": {
                            "fromTime": "11:00",
                            "untilTime": "11:00"
                        },
                        "propertyClass": 4,
                        "checkin": {
                            "untilTime": "00:00",
                            "fromTime": "15:00"
                        },
                        "countryCode": "us",
                        "isPreferred": true,
                        "optOutFromGalleryChanges": 0,
                        "latitude": 40.7624213001252,
                        "checkinDate": "2024-10-05",
                        "reviewScoreWord": "Good",
                        "mainPhotoId": 228177186,
                        "rankingPosition": 0,
                        "id": 55861,
                        "position": 0,
                        "wishlistName": "New York",
                        "blockIds": [
                            "5586102_91458470_3_0_0"
                        ],
                        "reviewScore": 7.3
                    }
                }
            ],
            "meta": [
                {
                    "title": "44 properties"
                }
            ],
            "appear": [
                {
                    "id": "cma",
                    "component": {
                        "props": {
                            "content": {
                                "props": {
                                    "items": [
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "items": [
                                                            {
                                                                "props": {
                                                                    "text": [
                                                                        {
                                                                            "text": "Commission paid and other benefits may affect an accommodation's ranking.",
                                                                            "font": "body_2"
                                                                        },
                                                                        {
                                                                            "font": "strong_2",
                                                                            "text": "  ",
                                                                            "color": "foreground"
                                                                        },
                                                                        {
                                                                            "linkActions": [
                                                                                {}
                                                                            ],
                                                                            "font": "body_2",
                                                                            "text": "Find out more",
                                                                            "color": "action_foreground"
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ],
                                                        "spacing": "spacing_half"
                                                    }
                                                }
                                            }
                                        },
                                        {},
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "variant": "tertiary_tinted",
                                                        "accessibilityLabel": "Close",
                                                        "icon": "close",
                                                        "tertiaryTintedColor": "foreground"
                                                    }
                                                }
                                            }
                                        }
                                    ],
                                    "fitContentWidth": true
                                }
                            },
                            "fill": true
                        }
                    }
                },
                {},
                {
                    "id": "signin_now",
                    "component": {
                        "props": {
                            "title": "Sign in and save money",
                            "text": "Get instant access to our Genius loyalty programme and enjoy discounts at properties worldwide."
                        }
                    }
                }
            ]
        }
    }
]

2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Function Calls: 
[
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "LaGuardia Airport"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Shoreham Hotel"
        }
    }
]

2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Golden Function Call: 
[
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Shoreham Hotel"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "LaGuardia Airport"
        }
    },
    {
        "name": "Search_Taxi",
        "arguments": {
            "pick_up_place_id": "ChIJtU1Cg4lfwokRs2aWDmbEL3c",
            "drop_off_place_id": "ChIJt76oPPpYwokRR4Vj9oMB7EA",
            "pick_up_date": "2024-10-05",
            "pick_up_time": "17:59"
        }
    }
]

2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'LaGuardia Airport'}}
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'LaGuardia Airport'}}
2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'Shoreham Hotel'}}
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'Shoreham Hotel'}}
2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Success matched: [{'name': 'Taxi_Search_Location', 'arguments': {'query': 'LaGuardia Airport'}}, {'name': 'Taxi_Search_Location', 'arguments': {'query': 'Shoreham Hotel'}}]
2025-08-25 12:13:39,325 - evaluation_logger_Cross-232 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "googlePlaceId": "ChIJtU1Cg4lfwokRs2aWDmbEL3c",
                "countryCode": "us",
                "iata": "LGA",
                "city": "New York",
                "latitude": 40.7742,
                "country": "United States",
                "types": "airport",
                "name": "LaGuardia Airport",
                "longitude": -73.8719
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "longitude": -73.97637,
                "countryCode": "us",
                "name": "Shoreham Hotel",
                "googlePlaceId": "ChIJt76oPPpYwokRR4Vj9oMB7EA",
                "city": "New York",
                "country": "United States",
                "types": "hotel",
                "latitude": 40.76242
            },
            {
                "longitude": -77.05434,
                "countryCode": "us",
                "city": "Washington",
                "name": "Omni Shoreham Hotel",
                "googlePlaceId": "ChIJM8SHd9O3t4kRBBTsKyveUXQ",
                "latitude": 38.923363,
                "types": "hotel",
                "country": "United States"
            },
            {
                "googlePlaceId": "ChIJVXl6BZYpuYkRTcBFdtWRcEY",
                "name": "Shoreham Oceanfront Hotel",
                "city": "Ocean City",
                "country": "United States",
                "types": "hotel",
                "latitude": 38.33436,
                "longitude": -75.08345,
                "countryCode": "us"
            },
            {
                "types": "hotel",
                "latitude": 41.173046,
                "country": "United States",
                "city": "New Shoreham",
                "googlePlaceId": "ChIJU_HxmSWN5YkR4ZqMZdzvP-Y",
                "name": "National Hotel",
                "countryCode": "us",
                "longitude": -71.5585
            }
        ]
    }
]

2025-08-25 12:13:53,016 - evaluation_logger_Cross-232 - INFO - Function Calls: 
[
    {
        "name": "Search_Taxi",
        "arguments": {
            "pick_up_place_id": "ChIJtU1Cg4lfwokRs2aWDmbEL3c",
            "drop_off_place_id": "ChIJt76oPPpYwokRR4Vj9oMB7EA",
            "pick_up_date": "2024-10-05",
            "pick_up_time": "17:59"
        }
    }
]

2025-08-25 12:13:53,017 - evaluation_logger_Cross-232 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Taxi",
        "arguments": {
            "drop_off_place_id": "ChIJt76oPPpYwokRR4Vj9oMB7EA",
            "pick_up_date": "2024-10-05",
            "pick_up_place_id": "ChIJtU1Cg4lfwokRs2aWDmbEL3c",
            "pick_up_time": "17:59"
        }
    }
]

2025-08-25 12:13:53,017 - evaluation_logger_Cross-232 - INFO - Start compare_single_call: 
{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJt76oPPpYwokRR4Vj9oMB7EA', 'pick_up_date': '2024-10-05', 'pick_up_place_id': 'ChIJtU1Cg4lfwokRs2aWDmbEL3c', 'pick_up_time': '17:59'}}
{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJt76oPPpYwokRR4Vj9oMB7EA', 'pick_up_date': '2024-10-05', 'pick_up_place_id': 'ChIJtU1Cg4lfwokRs2aWDmbEL3c', 'pick_up_time': '17:59'}}
2025-08-25 12:13:53,017 - evaluation_logger_Cross-232 - INFO - Rule-based compare success.
2025-08-25 12:13:53,017 - evaluation_logger_Cross-232 - INFO - Success matched: [{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJt76oPPpYwokRR4Vj9oMB7EA', 'pick_up_date': '2024-10-05', 'pick_up_place_id': 'ChIJtU1Cg4lfwokRs2aWDmbEL3c', 'pick_up_time': '17:59'}}]
2025-08-25 12:13:53,017 - evaluation_logger_Cross-232 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "results": [
                {
                    "meetGreet": false,
                    "bags": 3,
                    "vehicleType": "STANDARD",
                    "supplierId": 2544,
                    "nonRefundable": false,
                    "geniusDiscount": false,
                    "supplierName": "Carzen+",
                    "categoryLocalised": "Standard",
                    "janusResultReference": "1",
                    "duration": 25,
                    "priceRuleId": 19305,
                    "legPriceBreakdown": [
                        {
                            "supplierId": 2544,
                            "price": {
                                "amount": "61.88",
                                "currencyCode": "USD"
                            },
                            "supplierLocationId": 6183,
                            "supplierName": "Carzen+",
                            "journeyDirection": "OUTBOUND"
                        }
                    ],
                    "passengerCapacity": 3,
                    "discountType": "NONE",
                    "cancellationLeadTimeMinutes": 1440,
                    "description": "Standard",
                    "category": "Standard",
                    "drivingDistance": 14.76,
                    "price": {
                        "currencyCode": "USD",
                        "amount": "61.88"
                    },
                    "resultId": "0fe271aa-4c52-400e-9576-7e898800f561",
                    "descriptionLocalised": "Perfect for solo travellers, couples and small families."
                },
                {
                    "priceRuleId": 19309,
                    "duration": 25,
                    "janusResultReference": "5",
                    "supplierName": "Carzen+",
                    "categoryLocalised": "People carrier",
                    "nonRefundable": false,
                    "geniusDiscount": false,
                    "vehicleType": "LARGE",
                    "supplierId": 2544,
                    "meetGreet": false,
                    "bags": 4,
                    "descriptionLocalised": "Great choice for families.",
                    "price": {
                        "currencyCode": "USD",
                        "amount": "66.30"
                    },
                    "resultId": "3528dc90-3029-4b47-97e0-9b55f3c0d0e9",
                    "category": "People Carrier",
                    "description": "People Carrier",
                    "drivingDistance": 14.76,
                    "cancellationLeadTimeMinutes": 1440,
                    "passengerCapacity": 5,
                    "discountType": "NONE",
                    "legPriceBreakdown": [
                        {
                            "price": {
                                "currencyCode": "USD",
                                "amount": "66.30"
                            },
                            "supplierId": 2544,
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Carzen+",
                            "supplierLocationId": 6183
                        }
                    ]
                },
                {
                    "drivingDistance": 14.76,
                    "category": "Large People Carrier",
                    "description": "Large People Carrier",
                    "cancellationLeadTimeMinutes": 1440,
                    "discountType": "NONE",
                    "passengerCapacity": 5,
                    "legPriceBreakdown": [
                        {
                            "supplierId": 2544,
                            "price": {
                                "amount": "67.23",
                                "currencyCode": "USD"
                            },
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Carzen+",
                            "supplierLocationId": 6183
                        }
                    ],
                    "descriptionLocalised": "Ideal for small groups.",
                    "resultId": "829c0371-2262-4f76-a847-c89d80e83ea1",
                    "price": {
                        "amount": "67.23",
                        "currencyCode": "USD"
                    },
                    "categoryLocalised": "Large people carrier",
                    "supplierName": "Carzen+",
                    "geniusDiscount": false,
                    "nonRefundable": false,
                    "supplierId": 2544,
                    "vehicleType": "LARGE",
                    "bags": 5,
                    "meetGreet": false,
                    "priceRuleId": 19310,
                    "duration": 25,
                    "janusResultReference": "6"
                },
                {
                    "discountType": "NONE",
                    "passengerCapacity": 3,
                    "legPriceBreakdown": [
                        {
                            "price": {
                                "amount": "81.98",
                                "currencyCode": "USD"
                            },
                            "supplierId": 668,
                            "supplierLocationId": 4929,
                            "supplierName": "E-Life Limo",
                            "journeyDirection": "OUTBOUND"
                        }
                    ],
                    "drivingDistance": 14.76,
                    "category": "Executive",
                    "description": "Executive",
                    "cancellationLeadTimeMinutes": 1440,
                    "resultId": "c2161899-f417-4ecb-a2f9-b3e838d0573b",
                    "price": {
                        "amount": "81.98",
                        "currencyCode": "USD"
                    },
                    "descriptionLocalised": "Plenty of space to travel in comfort.",
                    "supplierId": 668,
                    "vehicleType": "EXECUTIVE",
                    "bags": 3,
                    "meetGreet": true,
                    "categoryLocalised": "Executive",
                    "supplierName": "E-Life Limo",
                    "nonRefundable": false,
                    "geniusDiscount": false,
                    "duration": 25,
                    "janusResultReference": "2",
                    "priceRuleId": 19306
                },
                {
                    "supplierId": 957,
                    "vehicleType": "LARGE_EXECUTIVE",
                    "bags": 7,
                    "meetGreet": true,
                    "categoryLocalised": "Executive people carrier",
                    "supplierName": "Genelou Luxury Car",
                    "nonRefundable": false,
                    "geniusDiscount": false,
                    "duration": 25,
                    "janusResultReference": "3",
                    "priceRuleId": 19307,
                    "discountType": "NONE",
                    "passengerCapacity": 7,
                    "legPriceBreakdown": [
                        {
                            "supplierId": 957,
                            "price": {
                                "amount": "98.40",
                                "currencyCode": "USD"
                            },
                            "supplierName": "Genelou Luxury Car",
                            "journeyDirection": "OUTBOUND",
                            "supplierLocationId": 2753
                        }
                    ],
                    "drivingDistance": 14.76,
                    "category": "Executive People Carrier",
                    "description": "Executive People Carrier",
                    "cancellationLeadTimeMinutes": 1440,
                    "resultId": "0944a36f-1e3d-49b4-a466-ba80e2faad50",
                    "price": {
                        "currencyCode": "USD",
                        "amount": "98.40"
                    },
                    "descriptionLocalised": "Perfect for groups that want a touch of luxury."
                }
            ],
            "journeys": [
                {
                    "requestedPickupDateTime": "2024-10-05T17:59:00",
                    "journeyDirection": "OUTBOUND",
                    "dropOffLocation": {
                        "country": "US",
                        "locationType": "GEO",
                        "city": "New York",
                        "postcode": "10019",
                        "name": "Shoreham Hotel, 33 W 55th St, New York, NY 10019, USA",
                        "description": "33 W 55th St, New York, NY 10019, USA",
                        "locationId": "ChIJt76oPPpYwokRR4Vj9oMB7EA",
                        "establishment": "Shoreham Hotel"
                    },
                    "janusSearchReference": "3b73f22d-bd25-4c2c-8876-70de7b4bcafa",
                    "pickupLocation": {
                        "description": "East Elmhurst, NY 11371, USA",
                        "name": "La Guardia Airport (LGA), East Elmhurst, NY 11371, USA",
                        "establishment": "La Guardia Airport (LGA)",
                        "city": "New York",
                        "locationType": "AIRPORT",
                        "airportCode": "LGA",
                        "country": "US",
                        "locationId": "ChIJtU1Cg4lfwokRs2aWDmbEL3c",
                        "timezone": "America/New_York",
                        "postcode": "11371"
                    }
                }
            ]
        }
    }
]

2025-08-25 12:16:12,065 - evaluation_logger_Cross-232 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应配置化，即用户可以配置`url`、`method`、`params`、`data`以及响应回来的`data`。我们可以通过如下方式来调用：

```typescript
axios({
  method: "post",
  url: "/api/handleRequest/post",
  data: {
    msg: "hello",
  },
});
```

但是，这种调用方式是不是显得有点笨拙，这么长一串。我们理想中的调用方式应该更简单，比如：

```typescript
// 发送get请求
axios.get(url[, config])
// 发送post请求
axios.post(url[, data[, config]])
```

没错，这才是我们想要的调用方式，并且`axios`本身就支持这中调用方式，我们把这中调用方式称为`axios`的重载。

# 2. 接口定义

根据需求，我们可以知道，`axios`函数不仅仅支持接收一个参数，还支持接收两个参数。如果是接收一个参数，那么该参数就是我们之前定义的`AxiosRequestConfig`对象；如果是接收两个参数，那么第一个参数是请求`url`，第二个参数是`AxiosRequestConfig`对象。所以，我们先在`src/types/index.ts`中修改`AxiosInstance`接口的类型定义。

```typescript
export interface AxiosInstance {
  (config: AxiosRequestConfig): AxiosPromise;

  (url: string, config?: AxiosRequestConfig): AxiosPromise;
}
```

这样，我们就支持两种函数类型的重载了。

# 3. 实现重载

我们修改`src/axios.ts`文件，在里面实现重载。

```typescript
import { AxiosRequestConfig, AxiosPromise, Method } from "./types";
import dispatchRequest from "./dispatchRequest";

export default function axios(config: AxiosRequestConfig): AxiosPromise {
  return dispatchRequest(config);
}

export default function axios(
  url: string,
  config?: AxiosRequestConfig
): AxiosPromise {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      method: (config && config.method) || "get",
    })
  );
}
```

但是这样写，两个同名的函数，TypeScript 会报错，所以我们需要把它们合并到一个函数里，然后根据参数个数和类型的不同做不同的处理。

```typescript
import { AxiosRequestConfig, AxiosPromise, Method } from "./types";
import dispatchRequest from "./dispatchRequest";

export default function axios(
  config: AxiosRequestConfig | string,
  config2?: AxiosRequestConfig
): AxiosPromise {
  if (typeof config === "string") {
    if (config2) {
      return dispatchRequest(
        Object.assign(config2, {
          url: config,
          method: (config2 && config2.method) || "get",
        })
      );
    } else {
      return dispatchRequest({
        url: config,
        method: "get",
      });
    }
  } else {
    return dispatchRequest(config);
  }
}
```

这样，我们就实现了函数的重载。但是，这样写感觉还是有点麻烦，我们可以换种写法：

```typescript
import { AxiosRequestConfig, AxiosPromise, Method } from "./types";
import dispatchRequest from "./dispatchRequest";

export default function axios(
  config: AxiosRequestConfig | string,
  config2?: AxiosRequestConfig
): AxiosPromise {
  if (typeof config === "string") {
    if (!config2) {
      config2 = {};
    }
    config2.url = config;
    if (!config2.method) {
      config2.method = "get";
    }
    return dispatchRequest(config2);
  } else {
    return dispatchRequest(config);
  }
}
```

这样写，代码就简洁多了。

# 4. 添加更多的方法

虽然我们已经实现了函数的重载，但是目前只支持`get`和`post`方法，并且`post`方法只能通过`axios({method:'post'})`这种方式调用，我们想要通过`axios.get()`和`axios.post()`这种方式调用，所以接下来我们还要在`axios`上添加这些方法。

我们先在`src/types/index.ts`中的`AxiosInstance`接口中添加这些方法。

```typescript
export interface AxiosInstance {
  (config: AxiosRequestConfig): AxiosPromise;

  (url: string, config?: AxiosRequestConfig): AxiosPromise;

  get(url: string, config?: AxiosRequestConfig): AxiosPromise;

  delete(url: string, config?: AxiosRequestConfig): AxiosPromise;

  head(url: string, config?: AxiosRequestConfig): AxiosPromise;

  options(url: string, config?: AxiosRequestConfig): AxiosPromise;

  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise;

  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise;

  patch(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise;
}
```

可以看到，`get`、`delete`、`head`、`options` 这些方法只需要接收 `url` 和可选的 `config`；而 `post`、`put`、`patch` 这些方法需要接收 `url`、可选的 `data` 和可选的 `config`，因为 `data` 是作为请求体来发送的。

然后我们在`src/axios.ts`中来实现这些方法。

```typescript
import { AxiosRequestConfig, AxiosPromise, Method } from "./types";
import dispatchRequest from "./dispatchRequest";

export default function axios(
  config: AxiosRequestConfig | string,
  config2?: AxiosRequestConfig
): AxiosPromise {
  if (typeof config === "string") {
    if (!config2) {
      config2 = {};
    }
    config2.url = config;
    if (!config2.method) {
      config2.method = "get";
    }
    return dispatchRequest(config2);
  } else {
    return dispatchRequest(config);
  }
}

axios.get = function (url: string, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      method: "get",
    })
  );
};

axios.delete = function (url: string, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      method: "delete",
    })
  );
};

axios.head = function (url: string, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      method: "head",
    })
  );
};

axios.options = function (url: string, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      method: "options",
    })
  );
};

axios.post = function (url: string, data?: any, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      data,
      method: "post",
    })
  );
};

axios.put = function (url: string, data?: any, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      data,
      method: "put",
    })
  );
};

axios.patch = function (url: string, data?: any, config?: AxiosRequestConfig) {
  return dispatchRequest(
    Object.assign(config || {}, {
      url,
      data,
      method: "patch",
    })
  );
};
```

# 5. 编写 demo

接下来，我们在 `examples/more-method` 目录下创建 `index.html`:

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>More-method example</title>
  </head>
  <body>
    <script src="/__build__/more-method.js"></script>
  </body>
</html>
```

再创建 `app.ts` 作为入口文件：

```typescript
import axios from "../../src/axios";

// get
axios
  .get("/api/more-method/get", {
    params: {
      a: 1,
      b: 2,
    },
  })
  .then((res) => {
    console.log(res);
  });

// post
axios
  .post("/api/more-method/post", {
    a: 3,
    b: 4,
  })
  .then((res) => {
    console.log(res);
  });

// put
axios
  .put("/api/more-method/put", {
    a: 5,
    b: 6,
  })
  .then((res) => {
    console.log(res);
  });

// delete
axios
  .delete("/api/more-method/delete", {
    params: {
      a: 7,
      b: 8,
    },
  })
  .then((res) => {
    console.log(res);
  });

// head
axios
  .head("/api/more-method/head", {
    params: {
      a: 9,
      b: 10,
    },
  })
  .then((res) => {
    console.log(res);
  });

// options
axios
  .options("/api/more-method/options", {
    params: {
      a: 11,
      b: 12,
    },
  })
  .then((res) => {
    console.log(res);
  });

// patch
axios
  .patch("/api/more-method/patch", {
    a: 13,
    b: 14,
  })
  .then((res) => {
    console.log(res);
  });
```

接着在 `server/server.js` 添加新的接口路由：

```javascript
// 更多方法测试
router.get("/api/more-method/get", function(req, res) {
  res.json(req.query);
});

router.post("/api/more-method/post", function(req, res) {
  res.json(req.body);
});

router.put("/api/more-method/put", function(req, res) {
  res.json(req.body);
});

router.delete("/api/more-method/delete", function(req, res) {
  res.json(req.query);
});

router.head("/api/more-method/head", function(req, res) {
  res.setHeader("Name", "The header was set by head method");
  res.json(req.query);
});

router.options("/api/more-method/options", function(req, res) {
  res.setHeader("Name", "The header was set by options method");
  res.json(req.query);
});

router.patch("/api/more-method/patch", function(req, res) {
  res.json(req.body);
});
```

最后在根目录下的`index.html`中加上启动该`demo`的入口：

```html
<li><a href="examples/more-method">More-method</a></li>
```

OK, 我们在命令行中执行：

```bash
# 同时开启客户端和服务端
npm run server | npm start
```

接着我们打开 `chrome` 浏览器，访问 <http://localhost:8000/> 即可访问我们的 `demo` 了，我们点击 `More-method`，通过`F12`的 `network` 部分我们可以看到不同的请求方法请求已经正常发出，并且返回正常。

![](~@/axios/09/01.png)

![](~@/axios/09/02.png)

![](~@/axios/09/03.png)

![](~@/axios/09/04.png)

![](~@/axios/09/05.png)

![](~@/axios/09/06.png)

![](~@/axios/09/07.png)

# 6. 遗留问题

虽然我们已经实现了`axios`的重载，但是目前我们的`axios`函数既是一个函数，又是一个包含若干方法的对象，这看起来似乎有点怪怪的。并且，我们目前是把`axios`函数和它的方法都写在了同一个文件里，这样随着功能的增多，这个文件会变得越来越大，越来越难以维护。

所以，在下一篇文章中，我们将会对`axios`进行模块化拆分，把不同的功能拆分到不同的文件中，这样代码结构会更加清晰，也更容易维护。


2025-08-25 12:16:17,109 - evaluation_logger_Cross-232 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any of the requested information in the user's query."}
2025-08-25 12:16:22,999 - evaluation_logger_Cross-232 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:16:22,999 - evaluation_logger_Cross-232 - INFO - Message: Success.
2025-08-25 12:16:22,999 - evaluation_logger_Cross-232 - INFO - Success turn num = 4
2025-08-25 12:16:22,999 - evaluation_logger_Cross-232 - INFO - ----------------------------------------------------------------------------------------------------
