2025-08-25 13:13:43,656 - evaluation_logger_Attraction-88 - INFO - Test Example Attraction-88
2025-08-25 13:13:43,656 - evaluation_logger_Attraction-88 - INFO - Query: Check the ticket availability for the top-rated tourist attraction in Oslo on December 1, 2024, and provide detailed information about it.
2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Function Calls: 
[
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Oslo"
        }
    }
]

2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Oslo"
        }
    },
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzM4Mzd9",
            "sortBy": "attr_book_score"
        }
    }
]

2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Start compare_single_call: 
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Oslo'}}
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Oslo'}}
2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Rule-based compare success.
2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Success matched: [{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Oslo'}}]
2025-08-25 13:13:52,035 - evaluation_logger_Attraction-88 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "products": [
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJ1VkdGa1E4eUttIiwidWZpIjotMjczODM3fQ==",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "2 Hour Sea Kayak Tour on Oslofjord from Central Oslo",
                    "productId": "PRuVGFkQ8yKm",
                    "productSlug": "pruvgfkq8ykm-2-hour-sea-kayak-tour-on-oslofjord-from-central-oslo",
                    "taxonomySlug": "tours",
                    "cityUfi": -273837,
                    "cityName": "Oslo",
                    "countryCode": "no"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJlcGpvdldrS0IwIiwidWZpIjotMjczODM3fQ==",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Oslo Airport Transfers : Oslo Airport OSL to Oslo City in Business Car",
                    "productId": "PRepjovWkKB0",
                    "productSlug": "prepjovwkkb0-oslo-airport-transfers-oslo-airport-osl-to-oslo-city-in-business-ca",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -273837,
                    "cityName": "Oslo",
                    "countryCode": "no"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJYbDBHQjZGa0V5IiwidWZpIjotMjczODM3fQ==",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Oslo Airport Transfers : Oslo Airport OSL to Oslo City in Business Van",
                    "productId": "PRXl0GB6FkEy",
                    "productSlug": "prxl0gb6fkey-oslo-airport-transfers-oslo-airport-osl-to-oslo-city-in-business-va",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -273837,
                    "cityName": "Oslo",
                    "countryCode": "no"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFIyQ1VUUElFUmE2IiwidWZpIjotMjczODM3fQ==",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Oslo City Walks - In the Heart of Oslo",
                    "productId": "PR2CUTPIERa6",
                    "productSlug": "pr2cutpiera6-oslo-city-walks-in-the-heart-of-oslo",
                    "taxonomySlug": "tours",
                    "cityUfi": -273837,
                    "cityName": "Oslo",
                    "countryCode": "no"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJUeHVUaDN1MllrIiwidWZpIjotMjczODM3fQ==",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Oslo Airport Transfers : Oslo City to Oslo Airport OSL in Business Van",
                    "productId": "PRTxuTh3u2Yk",
                    "productSlug": "prtxuth3u2yk-oslo-airport-transfers-oslo-city-to-oslo-airport-osl-in-business-va",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -273837,
                    "cityName": "Oslo",
                    "countryCode": "no"
                }
            ],
            "destinations": [
                {
                    "id": "eyJ1ZmkiOi0yNzM4Mzd9",
                    "__typename": "AttractionsSearchDestinationSuggestion",
                    "ufi": -273837,
                    "country": "Norway",
                    "cityName": "Oslo",
                    "productCount": 167,
                    "cc1": "no"
                },
                {
                    "id": "eyJ1ZmkiOi0yNjAxODg5fQ==",
                    "__typename": "AttractionsSearchDestinationSuggestion",
                    "ufi": -2601889,
                    "country": "United Kingdom",
                    "cityName": "London",
                    "productCount": 2898,
                    "cc1": "gb"
                }
            ]
        }
    }
]

2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Function Calls: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzM4Mzd9",
            "sortBy": "attr_book_score"
        }
    }
]

2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzM4Mzd9",
            "sortBy": "attr_book_score"
        }
    },
    {
        "name": "Get_Availability",
        "arguments": {
            "slug": "prxkdlbreosn-three-hour-bike-city-tour",
            "date": "2024-12-01"
        }
    },
    {
        "name": "Get_Attraction_Details",
        "arguments": {
            "slug": "prxkdlbreosn-three-hour-bike-city-tour"
        }
    }
]

2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Start compare_single_call: 
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzM4Mzd9', 'sortBy': 'attr_book_score'}}
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzM4Mzd9', 'sortBy': 'attr_book_score'}}
2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Rule-based compare success.
2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Success matched: [{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzM4Mzd9', 'sortBy': 'attr_book_score'}}]
2025-08-25 13:14:01,908 - evaluation_logger_Attraction-88 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "__typename": "AttractionsProductSearchResponse",
            "products": [
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRXKdLbReosN",
                    "name": "Oslo Highlights Bike Tour",
                    "slug": "prxkdlbreosn-three-hour-bike-city-tour",
                    "shortDescription": "See the highlights of Oslo in one afternoon on a leisurely paced, 3-hour bike tour. Suitable for ...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 44.81,
                        "currency": "USD",
                        "publicAmount": 44.81
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 4,
                        "percentage": "75%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.9,
                            "total": 151
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Oslo",
                        "ufi": -273837
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OItf74RjSvsa"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIApY4gpmme2"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIn3PiCdSCg3"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIZeXL4l4Vnp"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 8
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "highlyRated",
                            "value": true,
                            "rank": 1
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRqKwvtEe5pf",
                    "name": "Free City Walking Tour in Oslo",
                    "slug": "prqkwvtee5pf-free-city-walking-tour-in-oslo",
                    "shortDescription": "Discover the heart of Oslo on this 1.5-hour long free city walking tour.\nYou will see the Opera H...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 3.22,
                        "currency": "USD",
                        "publicAmount": 3.22
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.6,
                            "total": 58
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Oslo",
                        "ufi": -273837
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIgfo4XonPKU"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIhfAYYY1nRa"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 4
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRBlK4CvSj5Z",
                    "name": "The Viking Planet Experience",
                    "slug": "prblk4cvsj5z-the-viking-planet-experience",
                    "shortDescription": "A digital museum to discover the world of the Vikings through VR",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 24.05,
                        "currency": "USD",
                        "publicAmount": 24.05
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 42,
                        "percentage": "81%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.3,
                            "total": 81
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Oslo",
                        "ufi": -273837
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI4fM8hTzcQ0"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI2cBP4OIMF2"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI2m275z6MWi"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIuorDs53Cxb"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIJJX9ZAyMaX"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI4D7aDqekAz"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 6
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerInMonth",
                            "value": true,
                            "rank": 2
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerInWeek",
                            "value": true,
                            "rank": 2
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerOnWeekends",
                            "value": true,
                            "rank": 2
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerForActivities",
                            "value": true,
                            "rank": 1
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRgbHAfgTOyI",
                    "name": "48-hour City Tour on a Hop-on Hop-off Bus",
                    "slug": "prgbhafgtoyi-48-hour-city-tour-on-a-hop-on-hop-off-bus",
                    "shortDescription": "Exploration of Oslo on board an environmentally-friendly bus, with stops along the way",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 49.91,
                        "currency": "USD",
                        "publicAmount": 49.91
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 3.7,
                            "total": 7
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Oslo",
                        "ufi": -273837
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIOd52HqP4yA"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIvgE8gXBUcU"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIeNe6aVs8ku"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIieqk6WhnW0"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIoGXZWoR8j4"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIKSoEhcbGNk"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIcWbZNSoZ4w"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIzKrFxukTU7"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIXQgynlaGGF"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIrDD5XvD8wH"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIs4ZDmq6n0N"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    }
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRzMY7Lz7Q3w",
                    "name": "Walking Tour of Historic Oslo",
                    "slug": "przmy7lz7q3w-free-tour-of-oslo-in-spanish",
                    "shortDescription": "Our Free Tour lasts 2 hours and we will show you the city of Oslo from a different perspective, y...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 16.16,
                        "currency": "USD",
                        "publicAmount": 16.16
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 3.4,
                            "total": 5
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Oslo",
                        "ufi": -273837
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIVFn0WqoBuD"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIKr5hjlAadK"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIsfra0W2dlJ"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI6rlqK7BVt6"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    }
                }
            ],
            "filterStats": {
                "__typename": "FilterStats",
                "unfilteredProductCount": 168,
                "filteredProductCount": 168
            },
            "sorters": [
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Our top picks",
                    "value": "trending"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Most popular",
                    "value": "attr_book_score"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Lowest price",
                    "value": "lowest_price"
                }
            ],
            "defaultSorter": {
                "__typename": "AttractionsSorterOption",
                "name": "Our top picks",
                "value": "trending"
            },
            "filterOptions": {
                "__typename": "FilterOptions",
                "typeFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Tours",
                        "tagname": "tours",
                        "productCount": 30
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Nature & outdoor",
                        "tagname": "nature-outdoor",
                        "productCount": 25
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Museums, arts & culture",
                        "tagname": "museums-arts-culture",
                        "productCount": 7
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Entertainment & tickets",
                        "tagname": "entertainment-tickets",
                        "productCount": 3
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Travel services & rentals",
                        "tagname": "travel-services-rental",
                        "productCount": 1
                    }
                ],
                "labelFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Free cancellation",
                        "tagname": "free_cancellation",
                        "productCount": 148
                    }
                ],
                "ufiFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Oslo",
                        "tagname": "-273837",
                        "productCount": 168
                    }
                ],
                "priceFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "US$0 - US$22",
                        "tagname": "b0",
                        "productCount": 15
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$22 - US$44",
                        "tagname": "b1",
                        "productCount": 21
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$44 - US$83",
                        "tagname": "b2",
                        "productCount": 15
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$83 - US$138",
                        "tagname": "b3",
                        "productCount": 19
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$138+",
                        "tagname": "b4",
                        "productCount": 101
                    }
                ]
            }
        }
    }
]

2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Function Calls: 
[
    {
        "name": "Get_Attraction_Details",
        "arguments": {
            "slug": "prxkdlbreosn-three-hour-bike-city-tour"
        }
    },
    {
        "name": "Get_Availability",
        "arguments": {
            "slug": "prxkdlbreosn-three-hour-bike-city-tour",
            "date": "2024-12-01"
        }
    }
]

2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Availability",
        "arguments": {
            "date": "2024-12-01",
            "slug": "prxkdlbreosn-three-hour-bike-city-tour"
        }
    },
    {
        "name": "Get_Attraction_Details",
        "arguments": {
            "slug": "prxkdlbreosn-three-hour-bike-city-tour"
        }
    }
]

2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Start compare_single_call: 
{'name': 'Get_Attraction_Details', 'arguments': {'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}
{'name': 'Get_Attraction_Details', 'arguments': {'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}
2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Rule-based compare success.
2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Start compare_single_call: 
{'name': 'Get_Availability', 'arguments': {'date': '2024-12-01', 'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}
{'name': 'Get_Availability', 'arguments': {'date': '2024-12-01', 'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}
2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Rule-based compare success.
2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Success matched: [{'name': 'Get_Attraction_Details', 'arguments': {'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}, {'name': 'Get_Availability', 'arguments': {'date': '2024-12-01', 'slug': 'prxkdlbreosn-three-hour-bike-city-tour'}}]
2025-08-25 13:14:13,461 - evaluation_logger_Attraction-88 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "__typename": "AttractionsProduct",
            "additionalInfo": "Public transportation options are available nearby\n\nSpecialized infant seats are available\n\nNot recommended for travelers with spinal injuries\n\nNot recommended for travelers with poor cardiovascular health\n\nSuitable for all physical fitness levels\n\nNot wheelchair accessible\n\nPlease bring your ticket with you to the attraction.\n\nBe aware that operators may cancel for unforeseen reasons.\n\nYou need to be 18 years or older to book or be accompanied by an adult. ",
            "applicableTerms": [
                {
                    "__typename": "TermsConditions",
                    "policyProvider": "Booking.com"
                },
                {
                    "__typename": "TermsConditions",
                    "policyProvider": "Viator"
                }
            ],
            "cancellationPolicy": {
                "__typename": "AttractionsCancellationPolicy",
                "hasFreeCancellation": true
            },
            "description": "See the highlights of Oslo in one afternoon on a leisurely paced, 3-hour bike tour. Suitable for all fitness levels, your tour takes in top Oslo sights, like Frognerparken (Vigeland Park), Aker Brygge shipyard, the Royal Palace, City Hall and Akershus Castle. Following an expert guide, you‚Äôll discover all the insider information about this gorgeous Scandinavian city while exploring its best sites.\n\nThis small-group Oslo bike tour is limited to 15 people, ensuring you'll receive personal attention from your guide.\n\nFrom 01 November 2023 ‚Äì 29 February 2024 we alter the tour to accommodate winter conditions. We equip our bikes with spiked tires so that we can explore Oslo‚Äôs sights safely. Sites visited can change based on weather and seasonal activities such as Christmas markets, and are chosen by our guides based on being safely accessible. Please note that this winter tour is recommended only for individuals with cycling experience and is only available to those over the age of 12.",
            "flags": [
                {
                    "__typename": "AttractionsProductFlags",
                    "flag": "bestseller",
                    "value": true,
                    "rank": 8
                },
                {
                    "__typename": "AttractionsProductFlags",
                    "flag": "highlyRated",
                    "value": true,
                    "rank": 1
                }
            ],
            "id": "PRXKdLbReosN",
            "isBookable": true,
            "labels": [
                {
                    "__typename": "AttractionsLabel",
                    "text": "Free cancellation",
                    "type": "free_cancellation"
                }
            ],
            "name": "Oslo Highlights Bike Tour",
            "notIncluded": [
                "Food and drinks Entrance fees"
            ],
            "offers": [
                {
                    "__typename": "Offer",
                    "availabilityType": "date_time",
                    "id": "OFMNLFLJFlDP"
                }
            ],
            "onSiteRequirements": {
                "__typename": "OnSiteRequirements"
            },
            "operatedBy": "Viking Biking & Hiking",
            "representativePrice": {
                "__typename": "AttractionsPrice",
                "chargeAmount": 44.81,
                "currency": "USD",
                "publicAmount": 44.81
            },
            "reviews": {
                "__typename": "AttractionsGetReviewsResponse",
                "total": 22,
                "reviews": [
                    {
                        "__typename": "AttractionsReview",
                        "id": "RSwZQXQO0Gv9",
                        "epochMs": 1727188539000,
                        "language": "de",
                        "numericRating": 5,
                        "user": {
                            "__typename": "AttractionsReviewUser",
                            "name": "Melanie",
                            "cc1": "at"
                        }
                    },
                    {
                        "__typename": "AttractionsReview",
                        "id": "RS0QV5lxWETm",
                        "content": "Fuimos dos adultos con tres ni√±os y el paseo en bici es apto para todos. Oslo es una ciudad magn√≠fica para recorrerla en bici. Tranquila y con pocos coches. La gu√≠a muy simp√°tica. Nos encant√≥!!",
                        "epochMs": 1724665080000,
                        "language": "es",
                        "numericRating": 5,
                        "user": {
                            "__typename": "AttractionsReviewUser",
                            "name": "ANA MAR√çA",
                            "cc1": "es"
                        }
                    },
                    {
                        "__typename": "AttractionsReview",
                        "id": "RSN3aSP3olHn",
                        "epochMs": 1724486485000,
                        "numericRating": 5,
                        "user": {
                            "__typename": "AttractionsReviewUser",
                            "name": "Thomas",
                            "cc1": "at"
                        }
                    },
                    {
                        "__typename": "AttractionsReview",
                        "id": "RS6Xz8EHyIDk",
                        "content": "Assolutamente da consigliare . La guida Alicia ci ha portato in zone della citt√† che da soli non avremmo mai visitato. Spiegazioni dettagliate e interessanti dei luoghi e dei monumenti . Il massimo dei voti per questa esperienza üëçüèª",
                        "epochMs": 1724261828000,
                        "language": "it",
                        "numericRating": 5,
                        "user": {
                            "__typename": "AttractionsReviewUser",
                            "name": "Patrizia",
                            "cc1": "it"
                        }
                    },
                    {
                        "__typename": "AttractionsReview",
                        "id": "RSMojzeLRoTG",
                        "content": "A faire d√®s votre arriv√©e en ville !! Notre guide Shaf a rendu cette visite tr√®s int√©ressante , sympathique avec un anglais facile √† comprendre.",
                        "epochMs": 1723928348000,
                        "language": "fr",
                        "numericRating": 5,
                        "user": {
                            "__typename": "AttractionsReviewUser",
                            "name": "alice",
                            "cc1": "fr"
                        }
                    }
                ]
            },
            "reviewsStats": {
                "__typename": "AttractionsProductReviewStats",
                "allReviewsCount": 4,
                "percentage": "75%",
                "combinedNumericStats": {
                    "__typename": "AttractionsProductCombinedReviewStats",
                    "average": 4.9,
                    "total": 151
                }
            },
            "slug": "prxkdlbreosn-three-hour-bike-city-tour",
            "supportedFeatures": {
                "__typename": "AttractionsProductSupportedFeatures",
                "nativeApp": true,
                "nativeAppBookProcess": true,
                "liveAvailabilityCheckSupported": true
            },
            "ufiDetails": {
                "__typename": "AttractionLocationResponse",
                "ufi": -273837,
                "bCityName": "Oslo"
            },
            "whatsIncluded": [
                "Professional guide",
                "Use of a bike and helmet"
            ]
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "__typename": "AttractionTimeSlot",
                "fullDay": false,
                "start": "2024-12-01T10:00:00+01:00",
                "timeSlotId": "ATS-PRXKdLbReosN-202412011000-nullnull",
                "timeSlotOffers": [
                    {
                        "__typename": "AttractionTimeSlotOffer",
                        "languageOptions": [
                            {
                                "__typename": "OfferLanguageOption",
                                "label": "English - Tour guide",
                                "language": "en",
                                "type": "guide"
                            }
                        ],
                        "benefits": {
                            "__typename": "Benefits"
                        },
                        "id": "OFMNLFLJFlDP",
                        "items": [
                            {
                                "__typename": "AttractionTimeSlotOfferItem",
                                "cancellationPolicy": {
                                    "__typename": "AttractionsCancellationPolicy",
                                    "comparedTo": "start",
                                    "hasFreeCancellation": true,
                                    "isStillRefundable": true,
                                    "percentage": 100,
                                    "period": "P1D"
                                },
                                "constraint": {
                                    "__typename": "Constraint",
                                    "label": "(age 18-99)"
                                },
                                "id": "ATO-371568eb-2204-490f-8364-70a337f3e841_PRXKdLbReosN_20241201_1000",
                                "offerItemId": "OIApY4gpmme2",
                                "type": "adult",
                                "tieredPricing": false,
                                "price": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 45.92,
                                    "currency": "EUR",
                                    "publicAmount": 45.92
                                },
                                "convertedPrice": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 49.48,
                                    "currency": "USD",
                                    "publicAmount": 49.48
                                },
                                "languageOption": {
                                    "__typename": "LanguageOption",
                                    "language": "en",
                                    "type": "guide"
                                },
                                "ticketsAvailable": 10000,
                                "maxPerReservation": 9,
                                "minPerReservation": 1,
                                "label": "Adult"
                            },
                            {
                                "__typename": "AttractionTimeSlotOfferItem",
                                "cancellationPolicy": {
                                    "__typename": "AttractionsCancellationPolicy",
                                    "comparedTo": "start",
                                    "hasFreeCancellation": true,
                                    "isStillRefundable": true,
                                    "percentage": 100,
                                    "period": "P1D"
                                },
                                "constraint": {
                                    "__typename": "Constraint",
                                    "label": "(age 12-17)"
                                },
                                "id": "ATO-f1bc807a-6571-431f-bd04-b951d102c183_PRXKdLbReosN_20241201_1000",
                                "offerItemId": "OItf74RjSvsa",
                                "type": "children",
                                "tieredPricing": false,
                                "price": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 41.59,
                                    "currency": "EUR",
                                    "publicAmount": 41.59
                                },
                                "convertedPrice": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 44.81,
                                    "currency": "USD",
                                    "publicAmount": 44.81
                                },
                                "languageOption": {
                                    "__typename": "LanguageOption",
                                    "language": "en",
                                    "type": "guide"
                                },
                                "ticketsAvailable": 10000,
                                "maxPerReservation": 9,
                                "minPerReservation": 1,
                                "label": "Child"
                            },
                            {
                                "__typename": "AttractionTimeSlotOfferItem",
                                "cancellationPolicy": {
                                    "__typename": "AttractionsCancellationPolicy",
                                    "comparedTo": "start",
                                    "hasFreeCancellation": true,
                                    "isStillRefundable": true,
                                    "percentage": 100,
                                    "period": "P1D"
                                },
                                "constraint": {
                                    "__typename": "Constraint",
                                    "label": "(age 6-11)"
                                },
                                "id": "ATO-5c878c29-ebfd-4ee9-a0c3-b8eddbf0635e_PRXKdLbReosN_20241201_1000",
                                "offerItemId": "OIn3PiCdSCg3",
                                "type": "children",
                                "tieredPricing": false,
                                "price": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 36.39,
                                    "currency": "EUR",
                                    "publicAmount": 36.39
                                },
                                "convertedPrice": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 39.21,
                                    "currency": "USD",
                                    "publicAmount": 39.21
                                },
                                "languageOption": {
                                    "__typename": "LanguageOption",
                                    "language": "en",
                                    "type": "guide"
                                },
                                "ticketsAvailable": 10000,
                                "maxPerReservation": 9,
                                "minPerReservation": 1,
                                "label": "Child"
                            },
                            {
                                "__typename": "AttractionTimeSlotOfferItem",
                                "cancellationPolicy": {
                                    "__typename": "AttractionsCancellationPolicy",
                                    "comparedTo": "start",
                                    "hasFreeCancellation": true,
                                    "isStillRefundable": true,
                                    "percentage": 100,
                                    "period": "P1D"
                                },
                                "constraint": {
                                    "__typename": "Constraint",
                                    "label": "(age 1-5)"
                                },
                                "id": "ATO-f0d78f74-a14c-4752-977e-32e9ee0a6c64_PRXKdLbReosN_20241201_1000",
                                "offerItemId": "OIZeXL4l4Vnp",
                                "type": "infant",
                                "tieredPricing": false,
                                "price": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 36.39,
                                    "currency": "EUR",
                                    "publicAmount": 36.39
                                },
                                "convertedPrice": {
                                    "__typename": "AttractionsPrice",
                                    "chargeAmount": 39.21,
                                    "currency": "USD",
                                    "publicAmount": 39.21
                                },
                                "languageOption": {
                                    "__typename": "LanguageOption",
                                    "language": "en",
                                    "type": "guide"
                                },
                                "ticketsAvailable": 10000,
                                "maxPerReservation": 9,
                                "minPerReservation": 1,
                                "label": "Infant"
                            }
                        ],
                        "label": "Oslo Highlights Bike Tour",
                        "reservationRestrictions": {
                            "__typename": "ReservationRestrictions",
                            "adultRequiredForReservation": true,
                            "maxOfferItemsPerReservation": 9,
                            "minOfferItemsPerReservation": 1
                        }
                    }
                ]
            }
        ]
    }
]

2025-08-25 13:16:35,357 - evaluation_logger_Attraction-88 - INFO - Final Response: <ÔΩúbegin‚ñÅof‚ñÅsentenceÔΩú># 1. Ê¶ÇËø∞

Êú¨ÊñáÔºåÊàë‰ª¨Êù•ÂàÜ‰∫´ [„ÄäÁ≤æÂ∞Ω Spring Boot Ê∫êÁ†ÅÂàÜÊûê ‚Äî‚Äî SpringApplication„Äã](http://svip.iocoder.cn/Spring-Boot/SpringApplication/) ÁöÑ**ÂàùÂßãÂåñ**ÁöÑÊ∫êÁ†ÅËß£Êûê„ÄÇ

Âú® SpringApplication ÂÆû‰æãÂØπË±°ÂàõÂª∫Êó∂Ôºå‰ºöËøõË°å‰∏Ä‰∫õÂàùÂßãÂåñÁöÑÂ∑•‰Ωú„ÄÇËôΩÁÑ∂ËØ¥ÔºåÂÆÉ‰ªÖ‰ªÖÊòØ‰∏Ä‰∫õÂàùÂßãÂåñÁöÑÂ∑•‰ΩúÔºå‰ΩÜÊòØËøòÊòØÊúâ‰∏Ä‰∫õÊàë‰ª¨ÂèØËÉΩ‰ºöÂøΩÁï•ÁöÑÁü•ËØÜÁÇπ„ÄÇÊâÄ‰ª•ÔºåÊàë‰ª¨Êù•ÁûÖÁûÖ„ÄÇ

# 2. ÊûÑÈÄ†ÊñπÊ≥ï

SpringApplication ÁöÑÊûÑÈÄ†ÊñπÊ≥ïÔºå‰∏ªË¶Å‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ËµÑÊ∫êÂä†ËΩΩÂô®
 */
private ResourceLoader resourceLoader;
/**
 * ‰∏ªË¶ÅÁöÑ Java Config Á±ªÁöÑÊï∞ÁªÑ
 */
private Set<Class<?>> primarySources;
/**
 * Â∫îÁî®‰∏ä‰∏ãÊñáÁ±ª
 */
private Class<?> applicationContextClass;

public SpringApplication(Class<?>... primarySources) {
    this(null, primarySources);
}

public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources) {
    this.resourceLoader = resourceLoader;
    Assert.notNull(primarySources, "PrimarySources must not be null");
    this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));
    // <1> Êé®Êñ≠ Web Â∫îÁî®Á±ªÂûã
    this.webApplicationType = deduceWebApplicationType();
    // <2> ËÆæÁΩÆ ApplicationContextInitializer
    setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));
    // <3> ËÆæÁΩÆ ApplicationListener
    setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
    // <4> Êé®Êñ≠ main ÊñπÊ≥ïÊâÄÂú®ÁöÑÁ±ª
    this.mainApplicationClass = deduceMainApplicationClass();
}
```

- `primarySources` ÂèÇÊï∞Ôºå‰∏ªË¶ÅÁöÑ Java Config Á±ªÁöÑÊï∞ÁªÑ„ÄÇÂú®ÊñáÂàùÊèê‰æõÁöÑÁ§∫‰æãÔºåÂ∞±ÊòØ `DemoApplication` Á±ª„ÄÇ
- `resourceLoader` Â±ûÊÄßÔºåËµÑÊ∫êÂä†ËΩΩÂô®„ÄÇÈªòËÆ§‰∏∫Á©∫„ÄÇ
- `primarySources` Â±ûÊÄßÔºå‰∏ªË¶ÅÁöÑ Java Config Á±ªÁöÑÊï∞ÁªÑ„ÄÇ
- `applicationContextClass` Â±ûÊÄßÔºåÂ∫îÁî®‰∏ä‰∏ãÊñáÁ±ª„ÄÇÈªòËÆ§‰∏∫Á©∫„ÄÇ

- `<1>` Â§ÑÔºåË∞ÉÁî® `#deduceWebApplicationType()` ÊñπÊ≥ïÔºåÊé®Êñ≠ Web Â∫îÁî®Á±ªÂûã„ÄÇËØ¶ÁªÜËß£ÊûêÔºåËßÅ [„Äå2.1 deduceWebApplicationType„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) „ÄÇ
- `<2>` Â§ÑÔºåË∞ÉÁî® `#getSpringFactoriesInstances(Class<T> type)` ÊñπÊ≥ïÔºåËé∑Âæó `ApplicationContextInitializer` Á±ªÂûãÁöÑÂÆûÁé∞Á±ªÁöÑÊï∞ÁªÑÔºåÁÑ∂ÂêéË∞ÉÁî® `#setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers)` ÊñπÊ≥ïÔºåËÆæÁΩÆÂà∞ `initializers` Â±ûÊÄß‰∏≠„ÄÇËØ¶ÁªÜËß£ÊûêÔºåËßÅ [„Äå2.2 ApplicationContextInitializer„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) „ÄÇ
- `<3>` Â§ÑÔºåË∞ÉÁî® `#getSpringFactoriesInstances(Class<T> type)` ÊñπÊ≥ïÔºåËé∑Âæó `ApplicationListener` Á±ªÂûãÁöÑÂÆûÁé∞Á±ªÁöÑÊï∞ÁªÑÔºåÁÑ∂ÂêéË∞ÉÁî® `#setListeners(Collection<? extends ApplicationListener<?>> listeners)` ÊñπÊ≥ïÔºåËÆæÁΩÆÂà∞ `listeners` Â±ûÊÄß‰∏≠„ÄÇËØ¶ÁªÜËß£ÊûêÔºåËßÅ [„Äå2.3 ApplicationListener„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) „ÄÇ
- `<4>` Â§ÑÔºåË∞ÉÁî® `#deduceMainApplicationClass()` ÊñπÊ≥ïÔºåÊé®Êñ≠ `main` ÊñπÊ≥ïÊâÄÂú®ÁöÑÁ±ª„ÄÇËØ¶ÁªÜËß£ÊûêÔºåËßÅ [„Äå2.4 deduceMainApplicationClass„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) „ÄÇ

## 2.1 deduceWebApplicationType

`#deduceWebApplicationType()` ÊñπÊ≥ïÔºåÊé®Êñ≠ Web Â∫îÁî®Á±ªÂûã„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * Web Â∫îÁî®Á±ªÂûã
 */
private WebApplicationType webApplicationType;

private WebApplicationType deduceWebApplicationType() {
    // Â¶ÇÊûú classpath ‰∏ãÂ≠òÂú® org.springframework.web.reactive.DispatcherHandler
    if (ClassUtils.isPresent(REACTIVE_WEB_ENVIRONMENT_CLASS, null)
            // Â¶ÇÊûú classpath ‰∏ã‰∏çÂ≠òÂú® org.springframework.web.servlet.DispatcherServlet
            && !ClassUtils.isPresent(SERVLET_WEB_ENVIRONMENT_CLASS, null)
            // Â¶ÇÊûú classpath ‰∏ã‰∏çÂ≠òÂú® org.glassfish.jersey.servlet.ServletContainer
            && !ClassUtils.isPresent(JERSEY_SERVLET_CONTAINER_CLASS, null)) {
        return WebApplicationType.REACTIVE;
    }
    // Â¶ÇÊûú classpath ‰∏ã‰∏çÂ≠òÂú® javax.servlet.Servlet ÊàñËÄÖ org.springframework.web.context.ConfigurableWebApplicationContext
    for (String className : WEB_ENVIRONMENT_CLASSES) {
        if (!ClassUtils.isPresent(className, null)) {
            return WebApplicationType.NONE;
        }
    }
    // Âê¶ÂàôÔºåÊòØ SERVLET Web Á±ªÂûã
    return WebApplicationType.SERVLET;
}
```

- Ê†πÊçÆ‰∏çÂêåÁöÑÊù°‰ª∂ÔºåËøîÂõû‰∏çÂêåÁöÑ WebApplicationType ÂØπË±°„ÄÇ
- `REACTIVE_WEB_ENVIRONMENT_CLASS` ÊòØ `"org.springframework.web.reactive.DispatcherHandler"` „ÄÇ
- `SERVLET_WEB_ENVIRONMENT_CLASS` ÊòØ `"org.springframework.web.servlet.DispatcherServlet"` „ÄÇ
- `JERSEY_SERVLET_CONTAINER_CLASS` ÊòØ `"org.glassfish.jersey.servlet.ServletContainer"` „ÄÇ
- `WEB_ENVIRONMENT_CLASSES` ÊòØ `"javax.servlet.Servlet"` Âíå `"org.springframework.web.context.ConfigurableWebApplicationContext"` „ÄÇ

- ÂÖ≥‰∫é WebApplicationType ÁöÑÊûö‰∏æÔºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

  ```java
  // WebApplicationType.java
  
  public enum WebApplicationType {
  
  	/**
  	 * Èùû Web Á±ªÂûã
  	 */
  	NONE,
  
  	/**
  	 * Servlet Web Á±ªÂûã
  	 */
  	SERVLET,
  
  	/**
  	 * Reactive Web Á±ªÂûã
  	 */
  	REACTIVE;
  
  }
  ```

## 2.2 ApplicationContextInitializer

`#getSpringFactoriesInstances(Class<T> type)` ÊñπÊ≥ïÔºåËé∑ÂæóÊåáÂÆöÁ±ªÂØπÂ∫îÁöÑÂÆûÁé∞Á±ªÁöÑÊï∞ÁªÑ„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type) {
    return getSpringFactoriesInstances(type, new Class<?>[] {});
}

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, Object... args) {
    ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
    // Use names and ensure unique to protect against duplicates
    // <1> Âä†ËΩΩÊåáÂÆöÁ±ªÂûãÂØπÂ∫îÁöÑÔºåÂú® `META-INF/spring.factories` ÈáåÁöÑÁ±ªÂêçÁöÑÊï∞ÁªÑ
    Set<String> names = new LinkedHashSet<>(SpringFactoriesLoader.loadFactoryNames(type, classLoader));
    // <2> ÂàõÂª∫ÂØπË±°
    List<T> instances = createSpringFactoriesInstances(type, parameterTypes, classLoader, args, names);
    // <3> ÊéíÂ∫è
    AnnotationAwareOrderComparator.sort(instances);
    return instances;
}
```

- `<1>` Â§ÑÔºåË∞ÉÁî® `SpringFactoriesLoader#loadFactoryNames(Class<?> factoryClass, ClassLoader classLoader)` ÊñπÊ≥ïÔºåÂä†ËΩΩÊåáÂÆöÁ±ªÂûãÂØπÂ∫îÁöÑÔºåÂú® `META-INF/spring.factories` ÈáåÁöÑÁ±ªÂêçÁöÑÊï∞ÁªÑ„ÄÇ
- `<2>` Â§ÑÔºåË∞ÉÁî® `#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` ÊñπÊ≥ïÔºåÂàõÂª∫ÂØπË±°Êï∞ÁªÑ„ÄÇËØ¶ÁªÜËß£ÊûêÔºåËßÅ [„Äå2.2.1 createSpringFactoriesInstances„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) „ÄÇ
- `<3>` Â§ÑÔºåÊéíÂ∫èÂØπË±°Êï∞ÁªÑ„ÄÇ

### 2.2.1 createSpringFactoriesInstances

`#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` ÊñπÊ≥ïÔºåÂàõÂª∫ÂØπË±°Êï∞ÁªÑ„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

private <T> List<T> createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes,
        ClassLoader classLoader, Object[] args, Set<String> names) {
    // Êï∞ÁªÑÂ§ßÂ∞è
    List<T> instances = new ArrayList<>(names.size());
    // ÈÅçÂéÜ names Êï∞ÁªÑ
    for (String name : names) {
        try {
            // Ëé∑Âæó name ÂØπÂ∫îÁöÑÁ±ª
            Class<?> instanceClass = ClassUtils.forName(name, classLoader);
            // Âà§Êñ≠Á±ªÊòØÂê¶ÂÆûÁé∞Ëá™ type
            Assert.isAssignable(type, instanceClass);
            // Ëé∑ÂæóÊûÑÈÄ†ÊñπÊ≥ï
            Constructor<?> constructor = instanceClass.getDeclaredConstructor(parameterTypes);
            // ÂàõÂª∫ÂØπË±°
            T instance = (T) BeanUtils.instantiateClass(constructor, args);
            // Ê∑ªÂä†Âà∞ instances ‰∏≠
            instances.add(instance);
        } catch (Throwable ex) {
            throw new IllegalArgumentException("Cannot instantiate " + type + " : " + name, ex);
        }
    }
    return instances;
}
```

- ÊØîËæÉÁÆÄÂçïÔºåÂ∞±ÊòØÈÄöËøá**ÂèçÂ∞Ñ**ÔºåÂàõÂª∫ÂØπË±°„ÄÇ

## 2.3 ApplicationListener

Âêå [„Äå2.2 ApplicationContextInitializer„Äç](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) ‰∏ÄÊ†∑„ÄÇ

## 2.4 deduceMainApplicationClass

`#deduceMainApplicationClass()` ÊñπÊ≥ïÔºåÊé®Êñ≠ `main` ÊñπÊ≥ïÊâÄÂú®ÁöÑÁ±ª„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

private Class<?> deduceMainApplicationClass() {
    try {
        // Ëé∑ÂæóÂΩìÂâçÊ†à
        StackTraceElement[] stackTrace = new RuntimeException().getStackTrace();
        // ÈÅçÂéÜ stackTrace Êï∞ÁªÑÔºåÂà§Êñ≠Âì™‰∏™ÊâßË°å‰∫Ü main ÊñπÊ≥ï
        for (StackTraceElement stackTraceElement : stackTrace) {
            if ("main".equals(stackTraceElement.getMethodName())) {
                return Class.forName(stackTraceElement.getClassName());
            }
        }
    } catch (ClassNotFoundException ex) {
        // Swallow and continue
    }
    return null;
}
```

- ÈÄöËøáÂºÇÂ∏∏ÁöÑÊñπÂºèÔºåËé∑ÂèñÂΩìÂâçÊ†àÔºåÁÑ∂ÂêéÈÅçÂéÜÂà§Êñ≠Âì™‰∏™ÊâßË°å‰∫Ü `main` ÊñπÊ≥ïÔºå‰ªéËÄåËé∑ÂæóÂØπÂ∫îÁöÑÁ±ª„ÄÇ

# 3. Ëá™ÂÆö‰πâ SpringApplication

Âú® SpringApplication ÂÆû‰æãÂØπË±°ÂàõÂª∫ÂÆåÊàêÂêéÔºåÊàë‰ª¨ËøòÂèØ‰ª•ÈíàÂØπÂÖ∂ËøõË°å‰∏Ä‰∫õËá™ÂÆö‰πâ„ÄÇÁõÆÂâç SpringApplication Êèê‰æõ‰∫ÜÂ¶Ç‰∏ãÁöÑËá™ÂÆö‰πâÊñπÂºèÔºö

## 3.1 setResourceLoader

`#setResourceLoader(ResourceLoader resourceLoader)` ÊñπÊ≥ïÔºåËÆæÁΩÆ ResourceLoader ÂØπË±°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ËµÑÊ∫êÂä†ËΩΩÂô®
 */
private ResourceLoader resourceLoader;

public void setResourceLoader(ResourceLoader resourceLoader) {
	this.resourceLoader = resourceLoader;
}
```

## 3.2 setBeanNameGenerator

`#setBeanNameGenerator(BeanNameGenerator beanNameGenerator)` ÊñπÊ≥ïÔºåËÆæÁΩÆ BeanNameGenerator ÂØπË±°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * Bean ÂêçÂ≠óÁîüÊàêÂô®
 */
private BeanNameGenerator beanNameGenerator;

public void setBeanNameGenerator(BeanNameGenerator beanNameGenerator) {
	this.beanNameGenerator = beanNameGenerator;
}
```

## 3.3 setEnvironment

`#setEnvironment(ConfigurableEnvironment environment)` ÊñπÊ≥ïÔºåËÆæÁΩÆ ConfigurableEnvironment ÂØπË±°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ÁéØÂ¢ÉÂèòÈáè
 */
private ConfigurableEnvironment environment;

public void setEnvironment(ConfigurableEnvironment environment) {
	this.environment = environment;
}
```

## 3.4 addInitializers

`#addInitializers(ApplicationContextInitializer<?>... initializers)` ÊñπÊ≥ïÔºåÊ∑ªÂä† ApplicationContextInitializer ÂØπË±°‰ª¨„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ApplicationContextInitializer Êï∞ÁªÑ
 */
private List<ApplicationContextInitializer<?>> initializers;

public void addInitializers(ApplicationContextInitializer<?>... initializers) {
	this.initializers.addAll(Arrays.asList(initializers));
}
```

## 3.5 addListeners

`#addListeners(ApplicationListener<?>... listeners)` ÊñπÊ≥ïÔºåÊ∑ªÂä† ApplicationListener ÂØπË±°‰ª¨„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ApplicationListener Êï∞ÁªÑ
 */
private List<ApplicationListener<?>> listeners;

public void addListeners(ApplicationListener<?>... listeners) {
	this.listeners.addAll(Arrays.asList(listeners));
}
```

## 3.6 setWebApplicationType

`#setWebApplicationType(WebApplicationType webApplicationType)` ÊñπÊ≥ïÔºåËÆæÁΩÆ WebApplicationType ÂØπË±°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * Web Â∫îÁî®Á±ªÂûã
 */
private WebApplicationType webApplicationType;

public void setWebApplicationType(WebApplicationType webApplicationType) {
	Assert.notNull(webApplicationType, "WebApplicationType must not be null");
	this.webApplicationType = webApplicationType;
}
```

## 3.7 setApplicationContextClass

`#setApplicationContextClass(Class<? extends ConfigurableApplicationContext> applicationContextClass)` ÊñπÊ≥ïÔºåËÆæÁΩÆÂ∫îÁî®‰∏ä‰∏ãÊñáÁ±ª„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * Â∫îÁî®‰∏ä‰∏ãÊñáÁ±ª
 */
private Class<?> applicationContextClass;

public void setApplicationContextClass(Class<? extends ConfigurableApplicationContext> applicationContextClass) {
	this.applicationContextClass = applicationContextClass;
}
```

## 3.8 setApplicationStartup

`#setApplicationStartup(ApplicationStartup applicationStartup)` ÊñπÊ≥ïÔºåËÆæÁΩÆ ApplicationStartup ÂØπË±°„ÄÇ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```java
// SpringApplication.java

/**
 * ApplicationStartup ÂØπË±°
 */
private ApplicationStartup applicationStartup = ApplicationStartup.DEFAULT;

public void setApplicationStartup(ApplicationStartup applicationStartup) {
	Assert.notNull(applicationStartup, "ApplicationStartup must not be null");
	this.applicationStartup = applicationStartup;
}
```

- ÂÖ≥‰∫é ApplicationStartup Á±ªÔºåÂêéÁª≠ÊñáÁ´†ÔºåËØ¶ÁªÜËß£Êûê„ÄÇ

# 4. Â∞èÁªì

üòà Êú¨ÊñáÁöÑÂÜÖÂÆπÔºåÁõ∏ÂØπËÄåË®ÄÔºåËøòÊòØÊØîËæÉÁÆÄÂçïÁöÑ„ÄÇ‰∏çËøáÔºåËøòÊòØÊúâ‰∏Ä‰∫õÊàë‰ª¨ÂèØËÉΩ‰ºöÂøΩÁï•ÁöÑÁü•ËØÜÁÇπÔºå‰æãÂ¶ÇËØ¥Ôºö

- ÈÄöËøá `SpringFactoriesLoader#loadFactoryNames(Class<?> factoryClass, ClassLoader classLoader)` ÊñπÊ≥ïÔºåÂä†ËΩΩ `META-INF/spring.factories` ÁöÑÈÖçÁΩÆÔºåËé∑ÂæóÁõ∏Â∫îÁöÑÁ±ª„ÄÇÁÑ∂ÂêéÔºåÈÄöËøáÂèçÂ∞ÑÔºåÂàõÂª∫ÂØπÂ∫îÁöÑÂØπË±°„ÄÇ

2025-08-25 13:16:40,459 - evaluation_logger_Attraction-88 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about ticket availability or detailed information about the top-rated tourist attraction in Oslo.'}
2025-08-25 13:16:46,330 - evaluation_logger_Attraction-88 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 13:16:46,330 - evaluation_logger_Attraction-88 - INFO - Message: Success.
2025-08-25 13:16:46,330 - evaluation_logger_Attraction-88 - INFO - Success turn num = 3
2025-08-25 13:16:46,330 - evaluation_logger_Attraction-88 - INFO - ----------------------------------------------------------------------------------------------------
