2025-08-25 12:43:13,220 - evaluation_logger_Hotels-46 - INFO - Test Example Hotels-46
2025-08-25 12:43:13,220 - evaluation_logger_Hotels-46 - INFO - Query: Our research group of six plans to attend an important symposium at the Moscone Center from December 1st to December 7th, 2024. We need three rooms. Could you assist us in finding two hotels within thirty kilometers of the convention center and provide descriptions of each hotel?
2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "Moscone Center"
        }
    }
]

2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "Moscone Center"
        }
    },
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "longitude": "-122.39992",
            "latitude": "37.78361",
            "arrival_date": "2024-12-01",
            "departure_date": "2024-12-07",
            "radius": 30,
            "adults": 6,
            "room_qty": 3
        }
    }
]

2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Start compare_single_call: 
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Moscone Center'}}
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Moscone Center'}}
2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Rule-based compare success.
2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Success matched: [{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'Moscone Center'}}]
2025-08-25 12:43:22,348 - evaluation_logger_Hotels-46 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "dest_id": "15354",
                "search_type": "landmark",
                "roundtrip": "GgEwIAAoATICeHU6GU1vc2NvbmUgQ29udmVudGlvbiBDZW50ZXJAAEoAUAA=",
                "region": "California",
                "label": "Moscone Center, San Francisco, California, United States of America",
                "landmark_type": 8,
                "nr_hotels": 154,
                "dest_type": "landmark",
                "city_ufi": 20015732,
                "longitude": -122.39992,
                "hotels": 154,
                "country": "United States of America",
                "city_name": "San Francisco",
                "latitude": 37.78361,
                "lc": "xu",
                "type": "la",
                "name": "Moscone Center",
                "cc1": "us"
            }
        ]
    }
]

2025-08-25 12:43:33,366 - evaluation_logger_Hotels-46 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "latitude": "37.78361",
            "longitude": "-122.39992",
            "arrival_date": "2024-12-01",
            "departure_date": "2024-12-07",
            "radius": 30,
            "room_qty": 3,
            "adults": 6
        }
    }
]

2025-08-25 12:43:33,366 - evaluation_logger_Hotels-46 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "adults": 6,
            "arrival_date": "2024-12-01",
            "departure_date": "2024-12-07",
            "latitude": "37.78361",
            "longitude": "-122.39992",
            "radius": 30,
            "room_qty": 3
        }
    },
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "45756"
        }
    },
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "279076"
        }
    }
]

2025-08-25 12:43:33,366 - evaluation_logger_Hotels-46 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'adults': 6, 'arrival_date': '2024-12-01', 'departure_date': '2024-12-07', 'latitude': '37.78361', 'longitude': '-122.39992', 'radius': 30, 'room_qty': 3}}
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'adults': 6, 'arrival_date': '2024-12-01', 'departure_date': '2024-12-07', 'latitude': '37.78361', 'longitude': '-122.39992', 'radius': 30, 'room_qty': 3}}
2025-08-25 12:43:33,366 - evaluation_logger_Hotels-46 - INFO - Rule-based compare success.
2025-08-25 12:43:33,366 - evaluation_logger_Hotels-46 - INFO - Success matched: [{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'adults': 6, 'arrival_date': '2024-12-01', 'departure_date': '2024-12-07', 'latitude': '37.78361', 'longitude': '-122.39992', 'radius': 30, 'room_qty': 3}}]
2025-08-25 12:43:33,367 - evaluation_logger_Hotels-46 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "result": [
                {
                    "hotel_id": 45756,
                    "preferred": 1,
                    "review_score": 8.2,
                    "bwallet": {
                        "hotel_eligibility": 0
                    },
                    "is_genius_deal": 0,
                    "composite_price_breakdown": {
                        "charges_details": {
                            "mode": "extra_charges",
                            "amount": {
                                "currency": "USD",
                                "value": 368
                            }
                        },
                        "gross_amount_hotel_currency": {
                            "currency": "USD",
                            "amount_unrounded": "US$2,518.02",
                            "value": 2518.02,
                            "amount_rounded": "US$2,518"
                        },
                        "net_amount": {
                            "currency": "USD",
                            "value": 2464.02,
                            "amount_unrounded": "US$2,464.02",
                            "amount_rounded": "US$2,464"
                        },
                        "gross_amount": {
                            "currency": "USD",
                            "amount_unrounded": "US$2,518.02",
                            "value": 2518.02,
                            "amount_rounded": "US$2,518"
                        },
                        "client_translations": {
                            "tooltip_total_text": "Total"
                        },
                        "gross_amount_per_night": {
                            "value": 419.67,
                            "amount_unrounded": "US$419.67",
                            "amount_rounded": "US$420",
                            "currency": "USD"
                        },
                        "price_display_config": [
                            {
                                "key": "use_nightly_prices",
                                "value": 0
                            }
                        ],
                        "included_taxes_and_charges_amount": {
                            "amount_rounded": "US$54",
                            "amount_unrounded": "US$54",
                            "value": 54,
                            "currency": "USD"
                        },
                        "items": [
                            {
                                "inclusion_type": "included",
                                "base": {
                                    "base_amount": 3,
                                    "kind": "per_night"
                                },
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_rounded": "US$54",
                                    "value": 54,
                                    "amount_unrounded": "US$54"
                                },
                                "kind": "charge",
                                "name": "Service charge"
                            },
                            {
                                "name": "Tax",
                                "item_amount": {
                                    "amount_rounded": "US$345",
                                    "value": 344.9628,
                                    "amount_unrounded": "US$344.96",
                                    "currency": "USD"
                                },
                                "kind": "charge",
                                "details": "14 % Tax",
                                "base": {
                                    "kind": "percentage",
                                    "percentage": 14
                                },
                                "inclusion_type": "excluded"
                            },
                            {
                                "name": "City tax",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_rounded": "US$5",
                                    "amount_unrounded": "US$4.93",
                                    "value": 4.92804
                                },
                                "details": "0.20 % City tax",
                                "kind": "charge",
                                "base": {
                                    "kind": "percentage",
                                    "percentage": 0.2
                                },
                                "inclusion_type": "excluded"
                            },
                            {
                                "name": "Municipality fee",
                                "item_amount": {
                                    "amount_rounded": "US$18",
                                    "amount_unrounded": "US$18.48",
                                    "value": 18.48015,
                                    "currency": "USD"
                                },
                                "kind": "charge",
                                "details": "0.75 % Municipality fee",
                                "base": {
                                    "kind": "percentage",
                                    "percentage": 0.75
                                },
                                "inclusion_type": "excluded"
                            },
                            {
                                "identifier": "mobile-discount",
                                "name": "Mobile-only price",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_unrounded": "US$273.78",
                                    "value": 273.78,
                                    "amount_rounded": "US$274"
                                },
                                "details": "You’re getting a reduced rate compared to the rate available on a computer or laptop.",
                                "kind": "discount",
                                "base": {
                                    "kind": "rate"
                                }
                            }
                        ],
                        "has_long_stays_weekly_rate_price": 0,
                        "discounted_amount": {
                            "currency": "USD",
                            "value": 273.78,
                            "amount_unrounded": "US$273.78",
                            "amount_rounded": "US$274"
                        },
                        "strikethrough_amount": {
                            "amount_rounded": "US$2,792",
                            "amount_unrounded": "US$2,791.80",
                            "value": 2791.8,
                            "currency": "USD"
                        },
                        "all_inclusive_amount": {
                            "currency": "USD",
                            "amount_unrounded": "US$2,886.39",
                            "value": 2886.39099,
                            "amount_rounded": "US$2,886"
                        },
                        "strikethrough_amount_per_night": {
                            "currency": "USD",
                            "amount_rounded": "US$465",
                            "amount_unrounded": "US$465.30",
                            "value": 465.3
                        },
                        "has_long_stays_monthly_rate_price": 0,
                        "all_inclusive_amount_hotel_currency": {
                            "currency": "USD",
                            "amount_unrounded": "US$2,886.39",
                            "value": 2886.39099,
                            "amount_rounded": "US$2,886"
                        },
                        "benefits": [
                            {
                                "name": "Mobile-only price",
                                "kind": "badge",
                                "badge_variant": "constructive",
                                "identifier": "mobile-rate",
                                "details": "You’re getting a reduced rate compared to the rate available on a computer or laptop."
                            }
                        ],
                        "excluded_amount": {
                            "value": 368.37099,
                            "amount_unrounded": "US$368.37",
                            "amount_rounded": "US$368",
                            "currency": "USD"
                        }
                    },
                    "genius_discount_percentage": 0,
                    "is_free_cancellable": 0,
                    "is_smart_deal": 0,
                    "is_no_prepayment_block": 0,
                    "block_ids": [
                        "4575618_93698037_2_2_0",
                        "4575618_93698037_2_2_0",
                        "4575618_93698037_2_2_0"
                    ],
                    "city_in_trans": "in San Bruno",
                    "soldout": 0,
                    "badges": [
                        {
                            "text": "Mobile-only price",
                            "badge_variant": "constructive",
                            "id": "Mobile Rate"
                        }
                    ],
                    "default_wishlist_name": "San Bruno",
                    "city": "San Bruno (California)",
                    "review_score_word": "Very good",
                    "latitude": 37.6118527982721,
                    "unit_configuration_label": "<b>3 hotel rooms</b>: 3 beds",
                    "checkout": {
                        "until": "11:00"
                    },
                    "class_is_estimated": 0,
                    "checkin": {
                        "from": "15:00"
                    },
                    "hotel_has_vb_boost": 0,
                    "hotel_name_trans": "Hotel 1550 - SFO Airport West",
                    "accommodation_type": 204,
                    "currencycode": "USD",
                    "min_total_price": 2518.02,
                    "countrycode": "us",
                    "class": 3,
                    "longitude": -122.402674108744,
                    "review_nr": 3916,
                    "hotel_include_breakfast": 0,
                    "last_reservation_data": {
                        "last_reservation_ellapsed_months": 1
                    },
                    "id": "property_card_45756",
                    "extended": 0,
                    "main_photo_id": 270063455,
                    "preferred_plus": 1,
                    "type": "property_card",
                    "ufi": 20015722,
                    "timezone": "America/Los_Angeles",
                    "default_language": "en",
                    "hotel_name": "Hotel 1550 - SFO Airport West",
                    "has_free_parking": 1
                },
                {
                    "hotel_id": 279076,
                    "currencycode": "USD",
                    "countrycode": "us",
                    "min_total_price": 3160.08,
                    "accommodation_type": 204,
                    "hotel_has_vb_boost": 0,
                    "hotel_name_trans": "Inn at Rockaway San Francisco Pacifica",
                    "longitude": -122.496190667152,
                    "class": 3,
                    "last_reservation_data": {
                        "last_reservation_ellapsed_months": 1
                    },
                    "id": "property_card_279076",
                    "main_photo_id": 491888079,
                    "extended": 0,
                    "review_nr": 1470,
                    "hotel_include_breakfast": 0,
                    "hotel_name": "Inn at Rockaway San Francisco Pacifica",
                    "timezone": "America/Los_Angeles",
                    "type": "property_card",
                    "preferred_plus": 0,
                    "ufi": 20015042,
                    "default_language": "en",
                    "review_score": 7.8,
                    "bwallet": {
                        "hotel_eligibility": 0
                    },
                    "preferred": 1,
                    "composite_price_breakdown": {
                        "discounted_amount": {
                            "amount_rounded": "US$602",
                            "amount_unrounded": "US$601.92",
                            "value": 601.92,
                            "currency": "USD"
                        },
                        "strikethrough_amount": {
                            "currency": "USD",
                            "amount_rounded": "US$3,762",
                            "value": 3762,
                            "amount_unrounded": "US$3,762"
                        },
                        "all_inclusive_amount": {
                            "currency": "USD",
                            "amount_rounded": "US$3,594",
                            "value": 3593.63052,
                            "amount_unrounded": "US$3,593.63"
                        },
                        "strikethrough_amount_per_night": {
                            "currency": "USD",
                            "value": 627,
                            "amount_unrounded": "US$627",
                            "amount_rounded": "US$627"
                        },
                        "has_long_stays_monthly_rate_price": 0,
                        "all_inclusive_amount_hotel_currency": {
                            "currency": "USD",
                            "amount_unrounded": "US$3,593.63",
                            "value": 3593.63052,
                            "amount_rounded": "US$3,594"
                        },
                        "excluded_amount": {
                            "currency": "USD",
                            "amount_rounded": "US$434",
                            "value": 433.55052,
                            "amount_unrounded": "US$433.55"
                        },
                        "charges_details": {
                            "amount": {
                                "value": 434,
                                "currency": "USD"
                            },
                            "mode": "extra_charges"
                        },
                        "gross_amount_hotel_currency": {
                            "amount_unrounded": "US$3,160.08",
                            "value": 3160.08,
                            "amount_rounded": "US$3,160",
                            "currency": "USD"
                        },
                        "net_amount": {
                            "amount_rounded": "US$3,160",
                            "value": 3160.08,
                            "amount_unrounded": "US$3,160.08",
                            "currency": "USD"
                        },
                        "gross_amount": {
                            "amount_rounded": "US$3,160",
                            "amount_unrounded": "US$3,160.08",
                            "value": 3160.08,
                            "currency": "USD"
                        },
                        "client_translations": {
                            "tooltip_total_text": "Total"
                        },
                        "gross_amount_per_night": {
                            "amount_unrounded": "US$526.68",
                            "value": 526.68,
                            "amount_rounded": "US$527",
                            "currency": "USD"
                        },
                        "price_display_config": [
                            {
                                "key": "use_nightly_prices",
                                "value": 0
                            }
                        ],
                        "included_taxes_and_charges_amount": {
                            "currency": "USD",
                            "amount_rounded": "US$0",
                            "amount_unrounded": "US$0",
                            "value": 0
                        },
                        "items": [
                            {
                                "details": "12.95 % Tax",
                                "kind": "charge",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_unrounded": "US$409.23",
                                    "value": 409.23036,
                                    "amount_rounded": "US$409"
                                },
                                "name": "Tax",
                                "inclusion_type": "excluded",
                                "base": {
                                    "percentage": 12.95,
                                    "kind": "percentage"
                                }
                            },
                            {
                                "name": "City tax",
                                "kind": "charge",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_rounded": "US$18",
                                    "value": 18,
                                    "amount_unrounded": "US$18"
                                },
                                "base": {
                                    "kind": "per_night",
                                    "base_amount": 1
                                },
                                "inclusion_type": "excluded"
                            },
                            {
                                "item_amount": {
                                    "amount_rounded": "US$6",
                                    "value": 6.32016,
                                    "amount_unrounded": "US$6.32",
                                    "currency": "USD"
                                },
                                "kind": "charge",
                                "details": "0.20 % Tourism fee",
                                "name": "Tourism fee",
                                "inclusion_type": "excluded",
                                "base": {
                                    "kind": "percentage",
                                    "percentage": 0.2
                                }
                            },
                            {
                                "base": {
                                    "kind": "rate"
                                },
                                "details": "You’re getting a reduced rate because this property is offering a discount.",
                                "kind": "discount",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_rounded": "US$602",
                                    "value": 601.92,
                                    "amount_unrounded": "US$601.92"
                                },
                                "identifier": "basic-deal",
                                "name": "Bonus savings"
                            }
                        ],
                        "has_long_stays_weekly_rate_price": 0
                    },
                    "genius_discount_percentage": 0,
                    "is_genius_deal": 0,
                    "soldout": 0,
                    "is_smart_deal": 0,
                    "is_free_cancellable": 1,
                    "block_ids": [
                        "27907603_401402839_4_0_0",
                        "27907601_401402839_2_0_0",
                        "27907601_401402839_2_0_0"
                    ],
                    "city_in_trans": "in Pacifica",
                    "is_no_prepayment_block": 1,
                    "class_is_estimated": 0,
                    "checkin": {
                        "from": "16:00"
                    },
                    "review_score_word": "Good",
                    "default_wishlist_name": "Pacifica",
                    "city": "Pacifica (California)",
                    "latitude": 37.6092488742248,
                    "unit_configuration_label": "<b>3 hotel rooms</b>: 4 beds",
                    "checkout": {
                        "until": "11:00"
                    }
                }
            ],
            "count": 2,
            "unfiltered_primary_count": 968,
            "unfiltered_count": 968,
            "b_max_los_data": {
                "is_fullon": 0,
                "max_allowed_los": 90,
                "experiment": "long_stays_ios_extend_los_2",
                "extended_los": 90,
                "has_extended_los": 1,
                "default_los": 45
            },
            "room_distribution": [
                {
                    "adults": "2"
                },
                {
                    "adults": "2"
                },
                {
                    "adults": "2"
                }
            ],
            "page_loading_threshold": 10,
            "extended_count": 0,
            "primary_count": 2
        }
    }
]

2025-08-25 12:43:47,180 - evaluation_logger_Hotels-46 - INFO - Function Calls: 
[
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "45756"
        }
    },
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "279076"
        }
    }
]

2025-08-25 12:43:47,180 - evaluation_logger_Hotels-46 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "45756"
        }
    },
    {
        "name": "Get_Description_And_Info",
        "arguments": {
            "hotel_id": "279076"
        }
    }
]

2025-08-25 12:43:47,180 - evaluation_logger_Hotels-46 - INFO - Start compare_single_call: 
{'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '45756'}}
{'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '45756'}}
2025-08-25 12:43:47,181 - evaluation_logger_Hotels-46 - INFO - Rule-based compare success.
2025-08-25 12:43:47,181 - evaluation_logger_Hotels-46 - INFO - Start compare_single_call: 
{'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '279076'}}
{'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '279076'}}
2025-08-25 12:43:47,181 - evaluation_logger_Hotels-46 - INFO - Rule-based compare success.
2025-08-25 12:43:47,181 - evaluation_logger_Hotels-46 - INFO - Success matched: [{'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '45756'}}, {'name': 'Get_Description_And_Info', 'arguments': {'hotel_id': '279076'}}]
2025-08-25 12:43:47,181 - evaluation_logger_Hotels-46 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "hotel_id": "45756",
                "languagecode": "en",
                "description": "Group Reservations over 5 room nights or more will require guaranteed payment seven (7) days prior to arrival.\nCredit Cards will be charged for the full amount of the groups stay and total room nights.\n\nGuests that require short & long term stays at our property, which would be over seven days (7), and not to exceed twenty-eight days (28) are welcome at Hotel 1550. We will charge guests seven days room and tax, seven days prior to guest arrival.",
                "descriptiontype_id": 7
            },
            {
                "descriptiontype_id": 6,
                "hotel_id": "45756",
                "languagecode": "en",
                "description": "Convenient to area motorways and less than 5 km from San Francisco International Airport, this hotel in San Bruno offers convenient services and amenities within walking distance of restaurants and shopping. Complimentary parking is offered for hotel guests.\n\nThe BART public transport system is also nearby for easy travel to several attractions in San Francisco.\n\nGuests staying at Hotel 1550 - SFO Airport West can enjoy amenities including free WiFi access. Tea and coffee service is available in the lobby 24 hours.\n\nChase Center is 12.7 miles (20.4 km) away from the property."
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "hotel_id": "279076",
                "descriptiontype_id": 6,
                "languagecode": "en",
                "description": "Located just off Route 1, the Inn at Rockaway San Francisco Pacifica a boutique hotel  is half a block away from Rockaway Beach. Free WiFi is included in all guest rooms.\n\nA flat-screen TV with cable channels is featured in each room. A refrigerator and a microwave are included for convenience. A hairdryer is provided in the en suite bathroom.\n\nA 24-hour front desk is available for guests. Business services are offered. Free parking is provided.\n\nSan Francisco International Airport is 16 km away. Sharp Park Golf Course and Pacifica Pier is 2.6 km away. The Golden Gate Bridge is 20 minutes' drive away from the  Inn at Rockaway San Francisco Pacifica"
            },
            {
                "description": "Please note that a maximum of 1 Dog is allowed.\nAn extra charge of 35 USD per night applies.\nPlease note that the property can only allow pets with a maximum weight of 35 pounds or under.",
                "languagecode": "en",
                "hotel_id": "279076",
                "descriptiontype_id": 7
            }
        ]
    }
]

2025-08-25 12:45:01,097 - evaluation_logger_Hotels-46 - INFO - Final Response: <｜begin▁of▁sentence｜># 2.4.1.1.2. 使用说明

## 2.4.1.1.2.1. 基本使用

### 2.4.1.1.2.1.1. 创建实例

```python
from pyefriend import Efriend

efriend = Efriend()
```

### 2.4.1.1.2.1.2. 登录

```python
efriend.login()
```

### 2.4.1.1.2.1.3. 获取账户信息

```python
efriend.get_account()
```

### 2.4.1.1.2.1.4. 获取持仓信息

```python
efriend.get_position()
```

### 2.4.1.1.2.1.5. 获取当前价格

```python
efriend.get_current_price('005930')  # 三星电子
```

### 2.4.1.1.2.1.6. 下单

```python
# 市价买入
efriend.order('005930', '2', '00', '1', '0')

# 限价卖出
efriend.order('005930', '1', '00', '1', '68000')
```

### 2.4.1.1.2.1.7. 查询订单

```python
efriend.get_order()
```

### 2.4.1.1.2.1.8. 查询成交

```python
efriend.get_execution()
```

## 2.4.1.1.2.2. 高级功能

### 2.4.1.1.2.2.1. 实时行情订阅

```python
# 订阅实时行情
efriend.subscribe_realprice('005930')

# 取消订阅
efriend.unsubscribe_realprice('005930')
```

### 2.4.1.1.2.2.2. 获取历史数据

```python
# 获取日线数据
efriend.get_daily_data('005930', '20230101', '20231231')

# 获取分钟线数据
efriend.get_minute_data('005930', '20230101', '20231231', '1')
```

### 2.4.1.1.2.2.3. 技术指标计算

```python
# 计算移动平均线
efriend.calculate_ma('005930', '20230101', '20231231', 20)

# 计算RSI
efriend.calculate_rsi('005930', '20230101', '20231231', 14)
```

## 2.4.1.1.2.3. 错误处理

```python
try:
    efriend.login()
except Exception as e:
    print(f"登录失败: {e}")

try:
    efriend.order('005930', '2', '00', '1', '0')
except Exception as e:
    print(f"下单失败: {e}")
```

## 2.4.1.1.2.4. 日志记录

```python
import logging

# 设置日志级别
logging.basicConfig(level=logging.INFO)

# 使用EFriend时会自动记录日志
efriend = Efriend()
efriend.login()
```

## 2.4.1.1.2.5. 配置管理

```python
# 自定义配置
config = {
    'id': 'your_id',
    'password': 'your_password',
    'cert_password': 'your_cert_password',
    'account_password': 'your_account_password'
}

efriend = Efriend(config=config)
```

## 2.4.1.1.2.6. 回调函数

```python
def on_realprice(data):
    print(f"实时价格: {data}")

# 设置回调函数
efriend.set_on_realprice(on_realprice)

# 开始订阅
efriend.subscribe_realprice('005930')
```

## 2.4.1.1.2.7. 多线程支持

```python
import threading

def trading_strategy():
    # 在这里实现交易策略
    pass

# 创建线程
thread = threading.Thread(target=trading_strategy)
thread.start()
```

## 2.4.1.1.2.8. 性能优化

```python
# 批量获取数据
symbols = ['005930', '000660', '035420']
for symbol in symbols:
    efriend.get_current_price(symbol)

# 使用缓存
efriend.enable_cache()
```

## 2.4.1.1.2.9. 安全注意事项

```python
# 敏感信息处理
import os

config = {
    'id': os.getenv('EFRIEND_ID'),
    'password': os.getenv('EFRIEND_PASSWORD'),
    'cert_password': os.getenv('EFRIEND_CERT_PASSWORD'),
    'account_password': os.getenv('EFRIEND_ACCOUNT_PASSWORD')
}

efriend = Efriend(config=config)
```

## 2.4.1.1.2.10. 示例代码

完整的交易策略示例:

```python
from pyefriend import Efriend
import time

class TradingBot:
    def __init__(self):
        self.efriend = Efriend()
        self.efriend.login()
        
    def on_realprice(self, data):
        # 实时价格回调
        print(f"Price update: {data}")
        
        # 简单的交易逻辑
        if data['current_price'] > data['prev_close'] * 1.02:
            # 价格上涨2%，考虑卖出
            pass
        elif data['current_price'] < data['prev_close'] * 0.98:
            # 价格下跌2%，考虑买入
            pass
    
    def run(self):
        # 订阅实时行情
        self.efriend.set_on_realprice(self.on_realprice)
        self.efriend.subscribe_realprice('005930')
        
        # 主循环
        while True:
            try:
                # 检查持仓和账户状态
                account = self.efriend.get_account()
                position = self.efriend.get_position()
                
                # 执行交易逻辑
                self.execute_strategy(account, position)
                
                time.sleep(60)  # 每分钟检查一次
                
            except KeyboardInterrupt:
                print("程序终止")
                break
            except Exception as e:
                print(f"错误: {e}")
                time.sleep(60)
    
    def execute_strategy(self, account, position):
        # 在这里实现具体的交易策略
        pass

if __name__ == "__main__":
    bot = TradingBot()
    bot.run()
```

以上是 `pyefriend` 库的基本使用说明和示例代码。根据实际需求，您可以在此基础上开发更复杂的交易策略和应用程序。

2025-08-25 12:45:05,582 - evaluation_logger_Hotels-46 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about hotels near the Moscone Center.'}
2025-08-25 12:45:11,347 - evaluation_logger_Hotels-46 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:45:11,347 - evaluation_logger_Hotels-46 - INFO - Message: Success.
2025-08-25 12:45:11,347 - evaluation_logger_Hotels-46 - INFO - Success turn num = 3
2025-08-25 12:45:11,347 - evaluation_logger_Hotels-46 - INFO - ----------------------------------------------------------------------------------------------------
