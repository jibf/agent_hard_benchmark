2025-08-25 13:04:17,928 - evaluation_logger_Attraction-79 - INFO - Test Example Attraction-79
2025-08-25 13:04:17,928 - evaluation_logger_Attraction-79 - INFO - Query: Check if tickets are available for the two most trending attractions in Copenhagen on any Tuesday in November 2024.
2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Function Calls: 
[
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Copenhagen"
        }
    }
]

2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Copenhagen"
        }
    },
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzQ1NjM2fQ==",
            "sortBy": "trending"
        }
    }
]

2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Start compare_single_call: 
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Copenhagen'}}
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Copenhagen'}}
2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Rule-based compare success.
2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Success matched: [{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Copenhagen'}}]
2025-08-25 13:04:25,514 - evaluation_logger_Attraction-79 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "products": [
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJuS0RhT01MTEY2IiwidWZpIjotMjc0NTYzNn0=",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Copenhagen Private Transfer from Copenhagen city centre to Copenhagen airport",
                    "productId": "PRnKDaOMLLF6",
                    "productSlug": "prnkdaomllf6-copenhagen-private-transfer-from-copenhagen-city-centre-to-copenhag",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -2745636,
                    "cityName": "Copenhagen",
                    "countryCode": "dk"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJqcFFaYVc2ZFpsIiwidWZpIjotMjc0NTYzNn0=",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Copenhagen Card",
                    "productId": "PRjpQZaW6dZl",
                    "productSlug": "prjpqzaw6dzl-copenhagen-card",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -2745636,
                    "cityName": "Copenhagen",
                    "countryCode": "dk"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJwbFJiSjhUbDRsIiwidWZpIjotMjc0NTYzNn0=",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Departure Transfer: Copenhagen city to Copenhagen Cruise Port",
                    "productId": "PRplRbJ8Tl4l",
                    "productSlug": "prplrbj8tl4l-departure-transfer-copenhagen-city-to-copenhagen-cruise-port",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -2745636,
                    "cityName": "Copenhagen",
                    "countryCode": "dk"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFI1ZGRMR2hvVFF3IiwidWZpIjotMjc0NTYzNn0=",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Private Transfer from Copenhagen Hotels to Copenhagen Port",
                    "productId": "PR5ddLGhoTQw",
                    "productSlug": "pr5ddlghotqw-private-transfer-from-copenhagen-hotels-to-copenhagen-port",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -2745636,
                    "cityName": "Copenhagen",
                    "countryCode": "dk"
                },
                {
                    "id": "eyJwaW5uZWRQcm9kdWN0IjoiUFJZTFpVZ1VZRGU0IiwidWZpIjotMjc0NTYzNn0=",
                    "__typename": "AttractionsSearchProductSuggestion",
                    "title": "Copenhagen Card for Visitors",
                    "productId": "PRYLZUgUYDe4",
                    "productSlug": "prylzuguyde4-copenhagen-card-for-visitors",
                    "taxonomySlug": "transfers-services",
                    "cityUfi": -2745636,
                    "cityName": "Copenhagen",
                    "countryCode": "dk"
                }
            ],
            "destinations": [
                {
                    "id": "eyJ1ZmkiOi0yNzQ1NjM2fQ==",
                    "__typename": "AttractionsSearchDestinationSuggestion",
                    "ufi": -2745636,
                    "country": "Denmark",
                    "cityName": "Copenhagen",
                    "productCount": 270,
                    "cc1": "dk"
                },
                {
                    "id": "eyJ1ZmkiOi0xNTAyNTU0fQ==",
                    "__typename": "AttractionsSearchDestinationSuggestion",
                    "ufi": -1502554,
                    "country": "Ireland",
                    "cityName": "Dublin",
                    "productCount": 795,
                    "cc1": "ie"
                }
            ]
        }
    }
]

2025-08-25 13:04:36,235 - evaluation_logger_Attraction-79 - INFO - Function Calls: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzQ1NjM2fQ==",
            "sortBy": "trending"
        }
    }
]

2025-08-25 13:04:36,235 - evaluation_logger_Attraction-79 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOi0yNzQ1NjM2fQ==",
            "sortBy": "trending"
        }
    },
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRjpQZaW6dZl"
        }
    },
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRyFBtGdlpTy"
        }
    }
]

2025-08-25 13:04:36,236 - evaluation_logger_Attraction-79 - INFO - Start compare_single_call: 
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzQ1NjM2fQ==', 'sortBy': 'trending'}}
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzQ1NjM2fQ==', 'sortBy': 'trending'}}
2025-08-25 13:04:36,236 - evaluation_logger_Attraction-79 - INFO - Rule-based compare success.
2025-08-25 13:04:36,236 - evaluation_logger_Attraction-79 - INFO - Success matched: [{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOi0yNzQ1NjM2fQ==', 'sortBy': 'trending'}}]
2025-08-25 13:04:36,236 - evaluation_logger_Attraction-79 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "__typename": "AttractionsProductSearchResponse",
            "products": [
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": false
                    },
                    "id": "PRjpQZaW6dZl",
                    "name": "Copenhagen Card",
                    "slug": "prjpqzaw6dzl-copenhagen-card",
                    "shortDescription": "A city card with over 80 museums and attractions and unlimited public transport",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 72.07,
                        "currency": "USD",
                        "publicAmount": 72.07
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 2,
                        "percentage": "100%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.7,
                            "total": 598
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Copenhagen",
                        "ufi": -2745636
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIEbrxbsDp9Y"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI0ppqpv7le0"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIFFMgZcuo62"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIruEg2CmKFw"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIbbzoNmlSTA"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIQIfjWpFajh"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI25EBWLlHWH"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIdNe5E4Xwet"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIomBv6Qv5Ot"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIDlMkhfOAOt"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIP7J443qQpZ"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIBf8YpvVImF"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OINYYtH9sG7W"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIY5VrQwe5Ee"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIuIIcAkQGYX"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 1
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRyFBtGdlpTy",
                    "name": "Copenhagen Sightseeing Classic Canal Tour With Live Guide",
                    "slug": "pryfbtgdlpty-copenhagen-sightseeing-classic-canal-tour-with-live-guide",
                    "shortDescription": "See the sights of Copenhagen from the water on a 1-hour canal cruise! Relax inside the lower salo...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 25.67,
                        "currency": "USD",
                        "publicAmount": 25.67
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.5,
                            "total": 34
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Copenhagen",
                        "ufi": -2745636
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIfHMbOkupj3"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIkJBagWlWK1"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIM7sakwtJrx"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    }
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRIv4zHGUVMm",
                    "name": "Copenhagen Highlights Walking Tour",
                    "slug": "priv4zhguvmm-copenhagen-highlights-walking-tour",
                    "shortDescription": "Book this tour to guarantee your spot on the public, tips-based Politically Incorrect Copenhagen ...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 5.48,
                        "currency": "USD",
                        "publicAmount": 5.48
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.4,
                            "total": 28
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Copenhagen",
                        "ufi": -2745636
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIpAf3PkbVTA"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIUPdJxlpia7"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIHGjgxOJWRR"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIZVheyBptcI"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    }
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": false
                    },
                    "id": "PRsLLI3iKjqf",
                    "name": "Tivoli Gardens",
                    "slug": "prslli3ikjqf-tivoli-gardens",
                    "shortDescription": "Admission to a captivating theme park home to one of the world's oldest wooden rollercoasters",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 26.02,
                        "currency": "USD",
                        "publicAmount": 26.02
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 2,
                        "percentage": "100%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.5,
                            "total": 117
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Copenhagen",
                        "ufi": -2745636
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI5DJY6ZMGnP"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI3R4bxhS2p0"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIGBcbEmZbzP"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIHsH9NkW9uZ"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIVF2WZsWGID"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIYRvngrql6s"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI5HsmHk0FyO"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIcgQ7FmdYwt"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 2
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PR5DnBK4586g",
                    "name": "Hippies & Christianshavn Walking Tour",
                    "slug": "pr5dnbk4586g-hippies-christianshavn-walking-tour",
                    "shortDescription": "Book this tour to guarantee your spot on the public, tips-based Politically Incorrect Hippies & C...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 5.48,
                        "currency": "USD",
                        "publicAmount": 5.48
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.6,
                            "total": 13
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Copenhagen",
                        "ufi": -2745636
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIyNTowhU6mU"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIwl7551451C"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    }
                }
            ],
            "filterStats": {
                "__typename": "FilterStats",
                "unfilteredProductCount": 272,
                "filteredProductCount": 272
            },
            "sorters": [
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Our top picks",
                    "value": "trending"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Most popular",
                    "value": "attr_book_score"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Lowest price",
                    "value": "lowest_price"
                }
            ],
            "defaultSorter": {
                "__typename": "AttractionsSorterOption",
                "name": "Our top picks",
                "value": "trending"
            },
            "filterOptions": {
                "__typename": "FilterOptions",
                "typeFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Tours",
                        "tagname": "tours",
                        "productCount": 52
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Nature & outdoor",
                        "tagname": "nature-outdoor",
                        "productCount": 36
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Museums, arts & culture",
                        "tagname": "museums-arts-culture",
                        "productCount": 26
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Entertainment & tickets",
                        "tagname": "entertainment-tickets",
                        "productCount": 14
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Food & drinks",
                        "tagname": "food-drinks",
                        "productCount": 5
                    }
                ],
                "labelFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Free cancellation",
                        "tagname": "free_cancellation",
                        "productCount": 236
                    }
                ],
                "ufiFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Copenhagen",
                        "tagname": "-2745636",
                        "productCount": 272
                    }
                ],
                "priceFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "US$0 - US$22",
                        "tagname": "b0",
                        "productCount": 28
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$22 - US$44",
                        "tagname": "b1",
                        "productCount": 31
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$44 - US$83",
                        "tagname": "b2",
                        "productCount": 38
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$83 - US$138",
                        "tagname": "b3",
                        "productCount": 18
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$138+",
                        "tagname": "b4",
                        "productCount": 158
                    }
                ]
            }
        }
    }
]

2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Function Calls: 
[
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRjpQZaW6dZl"
        }
    },
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRyFBtGdlpTy"
        }
    }
]

2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRjpQZaW6dZl"
        }
    },
    {
        "name": "Get_Availability_Calendar",
        "arguments": {
            "id": "PRyFBtGdlpTy"
        }
    }
]

2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Start compare_single_call: 
{'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRjpQZaW6dZl'}}
{'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRjpQZaW6dZl'}}
2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Rule-based compare success.
2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Start compare_single_call: 
{'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRyFBtGdlpTy'}}
{'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRyFBtGdlpTy'}}
2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Rule-based compare success.
2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Success matched: [{'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRjpQZaW6dZl'}}, {'name': 'Get_Availability_Calendar', 'arguments': {'id': 'PRyFBtGdlpTy'}}]
2025-08-25 13:04:45,557 - evaluation_logger_Attraction-79 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "timestamp": 1729838539470,
        "data": [
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-31"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-23"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-24"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-23"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-24"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-31"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2025-01-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-23"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "timestamp": 1729838583714,
        "data": [
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-10-31"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-23"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-24"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-11-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-23"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-24"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-25"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-26"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-27"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-28"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-29"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-30"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": true,
                "date": "2024-12-31"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-01"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-02"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-03"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-04"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-05"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-06"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-07"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-08"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-09"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-10"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-11"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-12"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-13"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-14"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-15"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-16"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-17"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-18"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-19"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-20"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-21"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-22"
            },
            {
                "__typename": "AttractionsCalendarItem",
                "available": false,
                "date": "2025-01-23"
            }
        ]
    }
]

2025-08-25 13:07:54,036 - evaluation_logger_Attraction-79 - INFO - Final Response: <beginofsentence># 1. 

 [MyBatis ](https://github.com/YunaiV/mybatis-3/tree/master/src/main/java/org/apache/ibatis/scripting) `scripting` [![`scripting` ](http://static.iocoder.cn/images/MyBatis/2020_02_12/01.png)](http://static.iocoder.cn/images/MyBatis/2020_02_12/01.png)`scripting` 

 [ MyBatis   ](http://svip.iocoder.cn/MyBatis/intro) 

>  SQL MyBatis  SQL  MyBatis  SQL  XML  SQL 

- [`org.apache.ibatis.scripting.xmltags`](https://github.com/YunaiV/mybatis-3/tree/master/src/main/java/org/apache/ibatis/scripting/xmltags) 
- [`org.apache.ibatis.scripting.defaults`](https://github.com/YunaiV/mybatis-3/tree/master/src/main/java/org/apache/ibatis/scripting/defaults)  [`org.apache.ibatis.scripting.language`](https://github.com/YunaiV/mybatis-3/tree/master/src/main/java/org/apache/ibatis/scripting/language) 

`scripting`  [`org.apache.ibatis.scripting.scripting`](https://github.com/YunaiV/mybatis-3/tree/master/src/main/java/org/apache/ibatis/scripting) ********

 `scripting`  MyBatis 

# 2. LanguageDriver

`org.apache.ibatis.scripting.LanguageDriver` 

```java
// LanguageDriver.java

public interface LanguageDriver {

    /**
     * Creates a {@link ParameterHandler} that passes the actual parameters to the the JDBC statement.
     *
     *  ParameterHandler 
     *
     * @param mappedStatement The mapped statement that is being executed
     * @param parameterObject The input parameter object (can be null)
     * @param boundSql The resulting SQL once the dynamic language has been executed.
     * @return the parameter handler
     * @see DefaultParameterHandler
     */
    ParameterHandler createParameterHandler(MappedStatement mappedStatement, Object parameterObject, BoundSql boundSql);

    /**
     * Creates an {@link SqlSource} that will hold the statement read from a mapper xml file.
     * It is called during startup, when the mapped statement is read from a class or an xml file.
     *
     *  SqlSource  Mapper XML  Statement  <select /> 
     *
     * @param configuration The MyBatis configuration
     * @param script XNode parsed from a XML file
     * @param parameterType input parameter type got from a mapper method or specified in the parameterType xml attribute. Can be null.
     * @return the sql source
     */
    SqlSource createSqlSource(Configuration configuration, XNode script, Class<?> parameterType);

    /**
     * Creates an {@link SqlSource} that will hold the statement read from an annotation.
     * It is called during startup, when the mapped statement is read from a class or an xml file.
     *
     *  SqlSource  @Select 
     *
     * @param configuration The MyBatis configuration
     * @param script The content of the annotation
     * @param parameterType input parameter type got from a mapper method or specified in the parameterType xml attribute. Can be null.
     * @return the sql source
     */
    SqlSource createSqlSource(Configuration configuration, String script, Class<?> parameterType);

}
```

- 

## 2.1 XMLLanguageDriver

`org.apache.ibatis.scripting.xmltags.XMLLanguageDriver`  LanguageDriver XML 

```java
// XMLLanguageDriver.java

public class XMLLanguageDriver implements LanguageDriver {

    @Override
    public ParameterHandler createParameterHandler(MappedStatement mappedStatement, Object parameterObject, BoundSql boundSql) {
        //  DefaultParameterHandler 
        return new DefaultParameterHandler(mappedStatement, parameterObject, boundSql);
    }

    @Override
    public SqlSource createSqlSource(Configuration configuration, XNode script, Class<?> parameterType) {
        //  XMLScriptBuilder 
        XMLScriptBuilder builder = new XMLScriptBuilder(configuration, script, parameterType);
        return builder.parseScriptNode();
    }

    @Override
    public SqlSource createSqlSource(Configuration configuration, String script, Class<?> parameterType) {
        //  <script>  XML  SQL 
        if (script.startsWith("<script>")) {
            //  XPathParser  <script /> 
            XPathParser parser = new XPathParser(script, false, configuration.getVariables(), null);
            return createSqlSource(configuration, parser.evalNode("/script"), parameterType);
        } else {
            // 
            // issue #127
            script = PropertyParser.parse(script, configuration.getVariables());
            //  TextSqlNode 
            TextSqlNode textSqlNode = new TextSqlNode(script);
            //  SQL  DynamicSqlSource 
            if (textSqlNode.isDynamic()) {
                return new DynamicSqlSource(configuration, textSqlNode);
            } else {
                //  SQL  RawSqlSource 
                return new RawSqlSource(configuration, script, parameterType);
            }
        }
    }

}
```

-  `#createSqlSource(Configuration configuration, String script, Class<?> parameterType)`  SQL 

  ```java
  @Update("<script>...<script>")
  ```

-  XMLScriptBuilder 

## 2.2 RawLanguageDriver

`org.apache.ibatis.scripting.defaults.RawLanguageDriver`  XMLLanguageDriver **Raw** 

```java
// RawLanguageDriver.java

public class RawLanguageDriver extends XMLLanguageDriver {

    @Override
    public SqlSource createSqlSource(Configuration configuration, XNode script, Class<?> parameterType) {
        //  SqlSource 
        SqlSource source = super.createSqlSource(configuration, script, parameterType);
        //  RawSqlSource 
        checkIsNotDynamic(source);
        return source;
    }

    @Override
    public SqlSource createSqlSource(Configuration configuration, String script, Class<?> parameterType) {
        //  SqlSource 
        SqlSource source = super.createSqlSource(configuration, script, parameterType);
        //  RawSqlSource 
        checkIsNotDynamic(source);
        return source;
    }

    /**
     *  SqlSource  DynamicSqlSource 
     *
     * @param source  SqlSource 
     */
    private void checkIsNotDynamic(SqlSource source) {
        if (!RawSqlSource.class.equals(source.getClass())) {
            throw new BuilderException("Dynamic content is not allowed when using RAW language");
        }
    }

}
```

- RawLanguageDriver **** SqlSource **** RawSqlSource **** SQL RawLanguageDriver  XMLLanguageDriver ****

## 2.3 LanguageDriverRegistry

`org.apache.ibatis.scripting.LanguageDriverRegistry` LanguageDriver 

```java
// LanguageDriverRegistry.java

public class LanguageDriverRegistry {

    /**
     * LanguageDriver 
     */
    private final Map<Class<? extends LanguageDriver>, LanguageDriver> LANGUAGE_DRIVER_MAP = new HashMap<>();
    /**
     *  LanguageDriver 
     */
    private Class<? extends LanguageDriver> defaultDriverClass;

    public void register(Class<? extends LanguageDriver> cls) {
        if (cls == null) {
            throw new IllegalArgumentException("null is not a valid Language Driver");
        }
        //  cls  LANGUAGE_DRIVER_MAP 
        if (!LANGUAGE_DRIVER_MAP.containsKey(cls)) {
            try {
                LANGUAGE_DRIVER_MAP.put(cls, cls.newInstance());
            } catch (Exception ex) {
                throw new ScriptingException("Failed to load language driver for " + cls.getName(), ex);
            }
        }
    }

    public void register(LanguageDriver instance) {
        if (instance == null) {
            throw new IllegalArgumentException("null is not a valid Language Driver");
        }
        //  LANGUAGE_DRIVER_MAP 
        Class<? extends LanguageDriver> cls = instance.getClass();
        if (!LANGUAGE_DRIVER_MAP.containsKey(cls)) {
            LANGUAGE_DRIVER_MAP.put(cls, instance);
        }
    }

    public LanguageDriver getDriver(Class<? extends LanguageDriver> cls) {
        return LANGUAGE_DRIVER_MAP.get(cls);
    }

    public LanguageDriver getDefaultDriver() {
        return getDriver(getDefaultDriverClass());
    }

    public Class<? extends LanguageDriver> getDefaultDriverClass() {
        return defaultDriverClass;
    }

    /**
     *  {@link #defaultDriverClass}
     *
     * @param defaultDriverClass  LanguageDriver 
     */
    public void setDefaultDriverClass(Class<? extends LanguageDriver> defaultDriverClass) {
        //  LANGUAGE_DRIVER_MAP 
        register(defaultDriverClass);
        //  defaultDriverClass
        this.defaultDriverClass = defaultDriverClass;
    }

}
```

- 

 Configuration 

```java
// Configuration.java

/**
 * LanguageDriverRegistry 
 */
protected final LanguageDriverRegistry languageRegistry = new LanguageDriverRegistry();

public LanguageDriverRegistry getLanguageRegistry() {
    return languageRegistry;
}

public void setDefaultScriptingLanguage(Class<? extends LanguageDriver> driver) {
    //  LanguageDriver 
    languageRegistry.setDefaultDriverClass(driver);
}
```

-  `org.apache.ibatis.session.Configuration` 

  ```java
  // Configuration.java
  
  public Configuration() {
      // ...
      //  LanguageDriver 
      languageRegistry.setDefaultDriverClass(XMLLanguageDriver.class);
      languageRegistry.register(RawLanguageDriver.class);
  }
  ```

# 3. SqlSource

`org.apache.ibatis.mapping.SqlSource` SQL  Mapper XML  SQL 

```java
// SqlSource.java

public interface SqlSource {

    /**
     *  BoundSql 
     *
     * @param parameterObject 
     * @return BoundSql 
     */
    BoundSql getBoundSql(Object parameterObject);

}
```

## 3.1 DynamicSqlSource

`org.apache.ibatis.scripting.xmltags.DynamicSqlSource`  SqlSource **** SqlSource 

```java
// DynamicSqlSource.java

public class DynamicSqlSource implements SqlSource {

    private final Configuration configuration;
    private final SqlNode rootSqlNode;

    public DynamicSqlSource(Configuration configuration, SqlNode rootSqlNode) {
        this.configuration = configuration;
        this.rootSqlNode = rootSqlNode;
    }

    @Override
    public BoundSql getBoundSql(Object parameterObject) {
        //  DynamicContext 
        DynamicContext context = new DynamicContext(configuration, parameterObject);
        //  SqlSource 
        rootSqlNode.apply(context);
        //  SqlSourceBuilder 
        SqlSourceBuilder sqlSourceParser = new SqlSourceBuilder(configuration);
        //  SqlSource 
        Class<?> parameterType = parameterObject == null ? Object.class : parameterObject.getClass();
        SqlSource sqlSource = sqlSourceParser.parse(context.getSql(), parameterType, context.getBindings());
        //  BoundSql 
        BoundSql boundSql = sqlSource.getBoundSql(parameterObject);
        //  BoundSql 
        for (Map.Entry<String, Object> entry : context.getBindings().entrySet()) {
            boundSql.setAdditionalParameter(entry.getKey(), entry.getValue());
        }
        return boundSql;
    }

}
```

-  SqlNode  `rootSqlNode.apply(context)`  SQL  SQL 

  ```sql
  SELECT * FROM subject WHERE id = #{id}
  ```

  -  SQL  `#{}`  `${}`  SqlSourceBuilder  SqlSource 
  - DynamicSqlSource ******** SQL  `#{}`  `${}` 

-  SqlSourceBuilder  [4. SqlSourceBuilder](http://svip.iocoder.cn/MyBatis/scripting-1/#) 

## 3.2 RawSqlSource

`org.apache.ibatis.scripting.xmltags.RawSqlSource`  SqlSource **** SqlSource 

```java
// RawSqlSource.java

public class RawSqlSource implements SqlSource {

    private final SqlSource sqlSource;

    public RawSqlSource(Configuration configuration, String sql, Class<?> parameterType) {
        //  SqlSourceBuilder 
        SqlSourceBuilder sqlSourceParser = new SqlSourceBuilder(configuration);
        //  SqlSource 
        Class<?> clazz = parameterType == null ? Object.class : parameterType;
        sqlSource = sqlSourceParser.parse(sql, clazz, null);
    }

    public RawSqlSource(Configuration configuration, String sql, Class<?> parameterType, boolean dynamic) {
        //  SqlSourceBuilder 
        SqlSourceBuilder sqlSourceParser = new SqlSourceBuilder(configuration);
        //  SqlSource 
        Class<?> clazz = parameterType == null ? Object.class : parameterType;
        SqlSource sqlSource = sqlSourceParser.parse(sql, clazz, null);
    }

    @Override
    public BoundSql getBoundSql(Object parameterObject) {
        return sqlSource.getBoundSql(parameterObject);
    }

}
```

- RawSqlSource  SqlSourceBuilder  SqlSourceBuilder  `#parse(String sql, Class<?> parameterType, Map<String, Object> additionalParameters)`  StaticSqlSource `sqlSource`  StaticSqlSource 
- RawSqlSource ****SQL ************

## 3.3 StaticSqlSource

`org.apache.ibatis.builder.StaticSqlSource`  SqlSource **** SqlSource 

```java
// StaticSqlSource.java

public class StaticSqlSource implements SqlSource {

    /**
     *  SQL
     */
    private final String sql;
    /**
     * 
     */
    private final List<ParameterMapping> parameterMappings;
    private final Configuration configuration;

    public StaticSqlSource(Configuration configuration, String sql) {
        this(configuration, sql, null);
    }

    public StaticSqlSource(Configuration configuration, String sql, List<ParameterMapping> parameterMappings) {
        this.sql = sql;
        this.parameterMappings = parameterMappings;
        this.configuration = configuration;
    }

    @Override
    public BoundSql getBoundSql(Object parameterObject) {
        //  BoundSql 
        return new BoundSql(configuration, sql, parameterMappings, parameterObject);
    }

}
```

- StaticSqlSource  SQL ********`#getBoundSql(Object parameterObject)`  BoundSql SQL  `#{}`  `${}`  `?` 

## 3.4 ProviderSqlSource

`org.apache.ibatis.scripting.defaults.ProviderSqlSource`  SqlSource  `@ProviderXXX`  SqlSource 

```java
// ProviderSqlSource.java

public class ProviderSqlSource implements SqlSource {

    private final Configuration configuration;
    private final SqlSourceBuilder sqlSourceParser;
    /**
     * `@ProviderXXX` 
     */
    private final Class<?> providerType;
    private final Method providerMethod;
    /**
     * `@ProviderXXX` 
     */
    private final String[] providerMethodArgumentNames;
    /**
     * `@ProviderXXX` 
     */
    private final Class<?>[] providerMethodParameterTypes;
    /**
     * 
     */
    private final LanguageDriver languageDriver;

    /**
     * @deprecated Please use the {@link #ProviderSqlSource(Configuration, Object, Class, Method)} instead.
     */
    @Deprecated
    public ProviderSqlSource(Configuration configuration, Object provider) {
        this(configuration, provider, null, null);
    }

    /**
     * @deprecated Please use the {@link #ProviderSqlSource(Configuration, Object, Class, Method)} instead

2025-08-25 13:07:59,486 - evaluation_logger_Attraction-79 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about ticket availability for attractions in Copenhagen.'}
2025-08-25 13:08:06,053 - evaluation_logger_Attraction-79 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 13:08:06,053 - evaluation_logger_Attraction-79 - INFO - Message: Success.
2025-08-25 13:08:06,053 - evaluation_logger_Attraction-79 - INFO - Success turn num = 3
2025-08-25 13:08:06,053 - evaluation_logger_Attraction-79 - INFO - ----------------------------------------------------------------------------------------------------
