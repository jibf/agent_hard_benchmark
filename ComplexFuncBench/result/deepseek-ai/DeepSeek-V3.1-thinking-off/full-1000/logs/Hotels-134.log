2025-08-25 12:50:43,261 - evaluation_logger_Hotels-134 - INFO - Test Example Hotels-134
2025-08-25 12:50:43,261 - evaluation_logger_Hotels-134 - INFO - Query: Our family is planning a trip to New York from November 15th to November 20th, 2024. There will be two adults and a four-year-old child. We hope to find the two cheapest hotels that provide airport shuttle services and to learn about their child policies.
2025-08-25 12:50:51,328 - evaluation_logger_Hotels-134 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "New York"
        }
    }
]

2025-08-25 12:50:51,328 - evaluation_logger_Hotels-134 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "New York, US"
        }
    },
    {
        "name": "Get_Filter",
        "arguments": {
            "search_type": "city",
            "dest_id": "20088325",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-20",
            "adults": 2,
            "children_age": "4"
        }
    }
]

2025-08-25 12:50:52,071 - evaluation_logger_Hotels-134 - INFO - Start compare_single_call: 
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'New York'}}
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'New York, US'}}
2025-08-25 12:51:01,561 - evaluation_logger_Hotels-134 - DEBUG - LLM-based comparison output: {'is_equal': True, 'reason': "The parameter 'query' in both function calls refers to the same location, 'New York'. The addition of ', US' in Function call 2 does not change the meaning as 'New York' is commonly understood to refer to the city in the United States. Therefore, both function calls are equivalent."}
2025-08-25 12:51:01,561 - evaluation_logger_Hotels-134 - INFO - LLM-based compare success.
2025-08-25 12:51:01,561 - evaluation_logger_Hotels-134 - INFO - Success matched: [{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'New York, US'}}]
2025-08-25 12:51:01,561 - evaluation_logger_Hotels-134 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "dest_id": "20088325",
                "search_type": "city",
                "nr_hotels": 1391,
                "country": "United States",
                "type": "ci",
                "name": "New York",
                "hotels": 1391,
                "lc": "en",
                "label": "New York, New York, United States",
                "dest_type": "city",
                "roundtrip": "GgEwIAAoATICZW46DE5ldyBZb3JrLCBVU0AASgBQAA==",
                "longitude": -73.981895,
                "city_name": "New York",
                "latitude": 40.768074,
                "cc1": "us",
                "region": "New York"
            }
        ]
    }
]

2025-08-25 12:51:11,495 - evaluation_logger_Hotels-134 - INFO - Function Calls: 
[
    {
        "name": "Get_Filter",
        "arguments": {
            "search_type": "city",
            "dest_id": "20088325",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-20",
            "adults": 2,
            "children_age": "4"
        }
    }
]

2025-08-25 12:51:11,495 - evaluation_logger_Hotels-134 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Filter",
        "arguments": {
            "adults": 2,
            "arrival_date": "2024-11-15",
            "children_age": "4",
            "departure_date": "2024-11-20",
            "dest_id": "20088325",
            "search_type": "city"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "search_type": "city",
            "dest_id": 20088325,
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-20",
            "adults": 2,
            "children_age": "4",
            "sort_by": "price",
            "categories_filter": "facility::17"
        }
    }
]

2025-08-25 12:51:11,495 - evaluation_logger_Hotels-134 - INFO - Start compare_single_call: 
{'name': 'Get_Filter', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': '20088325', 'search_type': 'city'}}
{'name': 'Get_Filter', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': '20088325', 'search_type': 'city'}}
2025-08-25 12:51:11,495 - evaluation_logger_Hotels-134 - INFO - Rule-based compare success.
2025-08-25 12:51:11,495 - evaluation_logger_Hotels-134 - INFO - Success matched: [{'name': 'Get_Filter', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': '20088325', 'search_type': 'city'}}]
2025-08-25 12:51:11,496 - evaluation_logger_Hotels-134 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "timestamp": 1729647331915,
        "data": {
            "pagination": {
                "nbResultsTotal": 1120
            },
            "availabilityInfo": {
                "totalAvailableNotAutoextended": 547
            },
            "filters": [
                {
                    "title": "Your previous filters",
                    "field": "previous",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Hotels",
                            "genericId": "property_type::204",
                            "countNotAutoextended": 417
                        },
                        {
                            "title": "Lodges",
                            "genericId": "property_type::221",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Air conditioning",
                            "genericId": "room_facility::11",
                            "countNotAutoextended": 484
                        },
                        {
                            "title": "Free WiFi",
                            "genericId": "facility::107",
                            "countNotAutoextended": 490
                        },
                        {
                            "title": "Less than 3 km",
                            "genericId": "distance::3000",
                            "countNotAutoextended": 338
                        },
                        {
                            "title": "Pets allowed",
                            "genericId": "facility::4",
                            "countNotAutoextended": 306
                        },
                        {
                            "title": "5 stars",
                            "genericId": "class::5",
                            "countNotAutoextended": 62
                        },
                        {
                            "title": "Family rooms",
                            "genericId": "facility::28",
                            "countNotAutoextended": 211
                        },
                        {
                            "title": "Parking",
                            "genericId": "facility::2",
                            "countNotAutoextended": 313
                        },
                        {
                            "title": "Passable: 5+",
                            "genericId": "reviewscorebuckets::50",
                            "countNotAutoextended": 506
                        }
                    ]
                },
                {
                    "title": "Your budget (for 5 nights)",
                    "field": "price",
                    "filterStyle": "SLIDER",
                    "options": [],
                    "min": "300",
                    "max": "4000",
                    "minPriceStep": "100",
                    "minSelected": "0",
                    "histogram": [
                        0,
                        0,
                        0,
                        0,
                        3,
                        12,
                        17,
                        19,
                        28,
                        49,
                        25,
                        50,
                        68,
                        55,
                        77,
                        87,
                        63,
                        69,
                        100,
                        55,
                        66,
                        60,
                        65,
                        47,
                        60,
                        53,
                        60,
                        28,
                        49,
                        44,
                        26,
                        30,
                        33,
                        28,
                        15,
                        6,
                        23,
                        11,
                        11,
                        14,
                        22,
                        28,
                        12,
                        7,
                        14,
                        11,
                        14,
                        7,
                        4,
                        6
                    ],
                    "currency": "USD"
                },
                {
                    "title": "Popular filters",
                    "field": "popular",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Breakfast included",
                            "genericId": "mealplan::breakfast_included",
                            "countNotAutoextended": 187
                        },
                        {
                            "title": "Very good: 8+",
                            "genericId": "reviewscorebuckets::80",
                            "countNotAutoextended": 294
                        },
                        {
                            "title": "Hotels",
                            "genericId": "property_type::204",
                            "countNotAutoextended": 417
                        },
                        {
                            "title": "Manhattan",
                            "genericId": "district::929",
                            "countNotAutoextended": 512
                        },
                        {
                            "title": "Times Square",
                            "genericId": "district::1174",
                            "countNotAutoextended": 91
                        },
                        {
                            "title": "Superb: 9+",
                            "genericId": "reviewscorebuckets::90",
                            "countNotAutoextended": 46
                        },
                        {
                            "title": "Midtown",
                            "genericId": "district::970",
                            "countNotAutoextended": 325
                        },
                        {
                            "title": "Good: 7+",
                            "genericId": "reviewscorebuckets::70",
                            "countNotAutoextended": 455
                        }
                    ]
                },
                {
                    "title": "Review score",
                    "field": "review_score",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Passable: 5+",
                            "genericId": "reviewscorebuckets::50",
                            "countNotAutoextended": 506
                        },
                        {
                            "title": "Pleasant: 6+",
                            "genericId": "reviewscorebuckets::60",
                            "countNotAutoextended": 492
                        },
                        {
                            "title": "Good: 7+",
                            "genericId": "reviewscorebuckets::70",
                            "countNotAutoextended": 455
                        },
                        {
                            "title": "Very good: 8+",
                            "genericId": "reviewscorebuckets::80",
                            "countNotAutoextended": 294
                        },
                        {
                            "title": "Superb: 9+",
                            "genericId": "reviewscorebuckets::90",
                            "countNotAutoextended": 46
                        }
                    ]
                },
                {
                    "title": "Property type",
                    "field": "ht_id",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Hotels",
                            "genericId": "property_type::204",
                            "countNotAutoextended": 417
                        },
                        {
                            "title": "Entire homes & apartments",
                            "genericId": "privacy_type::3",
                            "countNotAutoextended": 146
                        },
                        {
                            "title": "Apartments",
                            "genericId": "property_type::201",
                            "countNotAutoextended": 114
                        },
                        {
                            "title": "Homestays",
                            "genericId": "property_type::222",
                            "countNotAutoextended": 7
                        },
                        {
                            "title": "Holiday homes",
                            "genericId": "property_type::220",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Guest houses",
                            "genericId": "property_type::216",
                            "countNotAutoextended": 2
                        },
                        {
                            "title": "Hostels",
                            "genericId": "property_type::203",
                            "countNotAutoextended": 13
                        },
                        {
                            "title": "Bed and breakfasts",
                            "genericId": "property_type::208",
                            "countNotAutoextended": 2
                        },
                        {
                            "title": "Motels",
                            "genericId": "property_type::205",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Villas",
                            "genericId": "property_type::213",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Campsites",
                            "genericId": "property_type::214",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Lodges",
                            "genericId": "property_type::221",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Cabins",
                            "genericId": "property_type_ml::9999",
                            "countNotAutoextended": 0
                        }
                    ]
                },
                {
                    "title": "Chain",
                    "field": "chaincode",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Aloft",
                            "genericId": "chaincode::12893",
                            "countNotAutoextended": 4
                        },
                        {
                            "title": "Best Western",
                            "genericId": "chaincode::1029",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Comfort Inn",
                            "genericId": "chaincode::1120",
                            "countNotAutoextended": 1
                        },
                        {
                            "title": "Courtyard by Marriott",
                            "genericId": "chaincode::1093",
                            "countNotAutoextended": 12
                        },
                        {
                            "title": "Crowne Plaza Hotels & Resorts",
                            "genericId": "chaincode::1071",
                            "countNotAutoextended": 2
                        },
                        {
                            "title": "Days Inn",
                            "genericId": "chaincode::1046",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Doubletree by Hilton",
                            "genericId": "chaincode::1984",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Extended Stay America Suites",
                            "genericId": "chaincode::2145",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Fairfield Inn",
                            "genericId": "chaincode::2188",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Hampton Inn",
                            "genericId": "chaincode::1851",
                            "countNotAutoextended": 9
                        },
                        {
                            "title": "Hilton Garden Inn",
                            "genericId": "chaincode::2117",
                            "countNotAutoextended": 10
                        },
                        {
                            "title": "Hilton Hotels & Resorts",
                            "genericId": "chaincode::1078",
                            "countNotAutoextended": 7
                        },
                        {
                            "title": "Holiday Inn Express",
                            "genericId": "chaincode::2301",
                            "countNotAutoextended": 5
                        },
                        {
                            "title": "Holiday Inn Hotels & Resorts",
                            "genericId": "chaincode::1072",
                            "countNotAutoextended": 4
                        },
                        {
                            "title": "Hotel Indigo",
                            "genericId": "chaincode::2207",
                            "countNotAutoextended": 3
                        },
                        {
                            "title": "Hyatt Place",
                            "genericId": "chaincode::3632",
                            "countNotAutoextended": 4
                        },
                        {
                            "title": "La Quinta by Wyndham",
                            "genericId": "chaincode::12220",
                            "countNotAutoextended": 2
                        },
                        {
                            "title": "Marriott Hotels & Resorts",
                            "genericId": "chaincode::1080",
                            "countNotAutoextended": 3
                        },
                        {
                            "title": "Moxy Hotels",
                            "genericId": "chaincode::4128",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Ramada",
                            "genericId": "chaincode::1045",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Renaissance Hotels & Resorts",
                            "genericId": "chaincode::1092",
                            "countNotAutoextended": 4
                        },
                        {
                            "title": "Residence Inn",
                            "genericId": "chaincode::1098",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Rodeway Inn",
                            "genericId": "chaincode::1129",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Sonder",
                            "genericId": "chaincode::14572",
                            "countNotAutoextended": 8
                        },
                        {
                            "title": "SpringHill Suites",
                            "genericId": "chaincode::2187",
                            "countNotAutoextended": 4
                        }
                    ]
                },
                {
                    "title": "Facilities",
                    "field": "hotelfacility",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Free WiFi",
                            "genericId": "facility::107",
                            "countNotAutoextended": 490
                        },
                        {
                            "title": "Non-smoking rooms",
                            "genericId": "facility::16",
                            "countNotAutoextended": 458
                        },
                        {
                            "title": "Parking",
                            "genericId": "facility::2",
                            "countNotAutoextended": 313
                        },
                        {
                            "title": "24-hour front desk",
                            "genericId": "facility::8",
                            "countNotAutoextended": 408
                        },
                        {
                            "title": "Fitness centre",
                            "genericId": "facility::11",
                            "countNotAutoextended": 320
                        },
                        {
                            "title": "Pets allowed",
                            "genericId": "facility::4",
                            "countNotAutoextended": 306
                        },
                        {
                            "title": "Family rooms",
                            "genericId": "facility::28",
                            "countNotAutoextended": 211
                        },
                        {
                            "title": "Wheelchair accessible",
                            "genericId": "facility::185",
                            "countNotAutoextended": 225
                        },
                        {
                            "title": "Restaurant",
                            "genericId": "facility::3",
                            "countNotAutoextended": 249
                        },
                        {
                            "title": "Free parking",
                            "genericId": "facility::46",
                            "countNotAutoextended": 10
                        },
                        {
                            "title": "Room service",
                            "genericId": "facility::5",
                            "countNotAutoextended": 161
                        },
                        {
                            "title": "Electric vehicle charging station",
                            "genericId": "facility::182",
                            "countNotAutoextended": 47
                        },
                        {
                            "title": "Swimming Pool",
                            "genericId": "facility::433",
                            "countNotAutoextended": 27
                        },
                        {
                            "title": "Airport shuttle",
                            "genericId": "facility::17",
                            "countNotAutoextended": 7
                        },
                        {
                            "title": "BBQ facilities",
                            "genericId": "facility::72",
                            "countNotAutoextended": 2
                        },
                        {
                            "title": "Airport shuttle (free)",
                            "genericId": "facility::139",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Adult only",
                            "genericId": "facility::149",
                            "countNotAutoextended": 11
                        },
                        {
                            "title": "Spa and wellness centre",
                            "genericId": "facility::54",
                            "countNotAutoextended": 23
                        }
                    ]
                },
                {
                    "title": "Distance from city centre",
                    "field": "distance",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Less than 1 km",
                            "genericId": "distance::1000",
                            "countNotAutoextended": 72
                        },
                        {
                            "title": "Less than 3 km",
                            "genericId": "distance::3000",
                            "countNotAutoextended": 338
                        },
                        {
                            "title": "Less than 5 km",
                            "genericId": "distance::5000",
                            "countNotAutoextended": 391
                        }
                    ]
                },
                {
                    "title": "Landmarks",
                    "field": "popular_nearby_landmarks",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Brooklyn Bridge",
                            "genericId": "popular_nearby_landmarks::11720",
                            "countNotAutoextended": 15
                        },
                        {
                            "title": "Central Park",
                            "genericId": "popular_nearby_landmarks::15346",
                            "countNotAutoextended": 42
                        },
                        {
                            "title": "Citi Field",
                            "genericId": "popular_nearby_landmarks::74350",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Court Square",
                            "genericId": "popular_nearby_landmarks::266508",
                            "countNotAutoextended": 5
                        },
                        {
                            "title": "Empire State Building",
                            "genericId": "popular_nearby_landmarks::11045",
                            "countNotAutoextended": 149
                        },
                        {
                            "title": "Flushing Meadows",
                            "genericId": "popular_nearby_landmarks::11273",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "G Subway Line",
                            "genericId": "popular_nearby_landmarks::266189",
                            "countNotAutoextended": 3
                        },
                        {
                            "title": "Jamaica Station",
                            "genericId": "popular_nearby_landmarks::265876",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Journal Square",
                            "genericId": "popular_nearby_landmarks::155669",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Liberty Science Center",
                            "genericId": "popular_nearby_landmarks::70159",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "LIU Brooklyn",
                            "genericId": "popular_nearby_landmarks::900064760",
                            "countNotAutoextended": 7
                        },
                        {
                            "title": "MetLife Stadium",
                            "genericId": "popular_nearby_landmarks::900053087",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Newark City Hall",
                            "genericId": "popular_nearby_landmarks::900064267",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Prospect Park",
                            "genericId": "popular_nearby_landmarks::16948",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Prudential Center",
                            "genericId": "popular_nearby_landmarks::15593",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Times Square",
                            "genericId": "popular_nearby_landmarks::11275",
                            "countNotAutoextended": 176
                        },
                        {
                            "title": "Top of the Rock",
                            "genericId": "popular_nearby_landmarks::17914",
                            "countNotAutoextended": 158
                        }
                    ]
                },
                {
                    "title": "District",
                    "field": "di",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Manhattan",
                            "genericId": "district::929",
                            "countNotAutoextended": 512
                        },
                        {
                            "title": "Guests' favourite area ",
                            "genericId": "district::10734",
                            "countNotAutoextended": 389
                        },
                        {
                            "title": "Midtown",
                            "genericId": "district::970",
                            "countNotAutoextended": 325
                        },
                        {
                            "title": "Best areas outside centre",
                            "genericId": "district::9999997",
                            "countNotAutoextended": 184
                        },
                        {
                            "title": "Bowery",
                            "genericId": "district::986",
                            "countNotAutoextended": 25
                        },
                        {
                            "title": "Broadway Theater District",
                            "genericId": "district::981",
                            "countNotAutoextended": 51
                        },
                        {
                            "title": "Central New York City",
                            "genericId": "district::2306",
                            "countNotAutoextended": 219
                        },
                        {
                            "title": "Chelsea",
                            "genericId": "district::966",
                            "countNotAutoextended": 34
                        },
                        {
                            "title": "Chinatown",
                            "genericId": "district::962",
                            "countNotAutoextended": 10
                        },
                        {
                            "title": "Downtown Brooklyn",
                            "genericId": "district::4314",
                            "countNotAutoextended": 5
                        },
                        {
                            "title": "East Harlem",
                            "genericId": "district::6854",
                            "countNotAutoextended": 8
                        },
                        {
                            "title": "East Village",
                            "genericId": "district::979",
                            "countNotAutoextended": 7
                        },
                        {
                            "title": "Fifth Avenue",
                            "genericId": "district::1944",
                            "countNotAutoextended": 44
                        },
                        {
                            "title": "Flushing",
                            "genericId": "district::1538",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Flushing Chinatown",
                            "genericId": "district::7603",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Garment District",
                            "genericId": "district::977",
                            "countNotAutoextended": 37
                        },
                        {
                            "title": "Gowanus",
                            "genericId": "district::15417",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Harlem",
                            "genericId": "district::933",
                            "countNotAutoextended": 20
                        },
                        {
                            "title": "Hell's Kitchen",
                            "genericId": "district::1833",
                            "countNotAutoextended": 65
                        },
                        {
                            "title": "Hudson Yards",
                            "genericId": "district::17218",
                            "countNotAutoextended": 12
                        },
                        {
                            "title": "Koreatown",
                            "genericId": "district::6878",
                            "countNotAutoextended": 8
                        },
                        {
                            "title": "Long Island City",
                            "genericId": "district::1534",
                            "countNotAutoextended": 5
                        },
                        {
                            "title": "Lower East Side",
                            "genericId": "district::2019",
                            "countNotAutoextended": 29
                        },
                        {
                            "title": "Lower Manhattan",
                            "genericId": "district::960",
                            "countNotAutoextended": 121
                        },
                        {
                            "title": "Meatpacking District",
                            "genericId": "district::1175",
                            "countNotAutoextended": 6
                        },
                        {
                            "title": "Midtown East",
                            "genericId": "district::2024",
                            "countNotAutoextended": 37
                        },
                        {
                            "title": "Midtown West",
                            "genericId": "district::4338",
                            "countNotAutoextended": 75
                        },
                        {
                            "title": "Murray Hill",
                            "genericId": "district::1834",
                            "countNotAutoextended": 14
                        },
                        {
                            "title": "New York Central Park",
                            "genericId": "district::973",
                            "countNotAutoextended": 35
                        },
                        {
                            "title": "NoMad",
                            "genericId": "district::7354",
                            "countNotAutoextended": 27
                        },
                        {
                            "title": "Rockefeller Center",
                            "genericId": "district::1438",
                            "countNotAutoextended": 13
                        },
                        {
                            "title": "SoHo",
                            "genericId": "district::965",
                            "countNotAutoextended": 16
                        },
                        {
                            "title": "The real heart of Jersey City",
                            "genericId": "district::10728",
                            "countNotAutoextended": 8
                        },
                        {
                            "title": "Times Square",
                            "genericId": "district::1174",
                            "countNotAutoextended": 91
                        },
                        {
                            "title": "Tribeca",
                            "genericId": "district::961",
                            "countNotAutoextended": 10
                        },
                        {
                            "title": "Upper East Side",
                            "genericId": "district::974",
                            "countNotAutoextended": 13
                        },
                        {
                            "title": "Upper West Side",
                            "genericId": "district::972",
                            "countNotAutoextended": 22
                        },
                        {
                            "title": "Wall Street - Financial District",
                            "genericId": "district::984",
                            "countNotAutoextended": 41
                        },
                        {
                            "title": "West Bronx",
                            "genericId": "district::15370",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Williamsburg",
                            "genericId": "district::1488",
                            "countNotAutoextended": 8
                        }
                    ]
                },
                {
                    "title": "Property rating",
                    "field": "class",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Unrated",
                            "genericId": "class::0",
                            "countNotAutoextended": 62
                        },
                        {
                            "title": "1 star",
                            "genericId": "class::1",
                            "countNotAutoextended": 8
                        },
                        {
                            "title": "2 stars",
                            "genericId": "class::2",
                            "countNotAutoextended": 11
                        },
                        {
                            "title": "3 stars",
                            "genericId": "class::3",
                            "countNotAutoextended": 169
                        },
                        {
                            "title": "4 stars",
                            "genericId": "class::4",
                            "countNotAutoextended": 235
                        },
                        {
                            "title": "5 stars",
                            "genericId": "class::5",
                            "countNotAutoextended": 62
                        }
                    ]
                },
                {
                    "title": "Bed preference",
                    "field": "tdb",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "2 single beds",
                            "genericId": "twin_double_bed::2",
                            "countNotAutoextended": 35
                        },
                        {
                            "title": "Double bed",
                            "genericId": "twin_double_bed::3",
                            "countNotAutoextended": 532
                        }
                    ]
                },
                {
                    "title": "Room facilities",
                    "field": "roomfacility",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Coffee machine",
                            "genericId": "room_facility::120",
                            "countNotAutoextended": 158
                        },
                        {
                            "title": "Electric kettle",
                            "genericId": "room_facility::86",
                            "countNotAutoextended": 74
                        },
                        {
                            "title": "View",
                            "genericId": "room_facility::81",
                            "countNotAutoextended": 156
                        },
                        {
                            "title": "Washing machine",
                            "genericId": "room_facility::34",
                            "countNotAutoextended": 48
                        },
                        {
                            "title": "Flat-screen TV",
                            "genericId": "room_facility::75",
                            "countNotAutoextended": 412
                        },
                        {
                            "title": "Bath",
                            "genericId": "room_facility::5",
                            "countNotAutoextended": 160
                        },
                        {
                            "title": "Desk",
                            "genericId": "room_facility::23",
                            "countNotAutoextended": 366
                        },
                        {
                            "title": "Air conditioning",
                            "genericId": "room_facility::11",
                            "countNotAutoextended": 484
                        },
                        {
                            "title": "Private bathroom",
                            "genericId": "room_facility::38",
                            "countNotAutoextended": 398
                        }
                    ]
                },
                {
                    "title": "Free cancellation ",
                    "field": "fc",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Free cancellation",
                            "genericId": "free_cancellation::1",
                            "countNotAutoextended": 452
                        }
                    ]
                },
                {
                    "title": "Online payment",
                    "field": "pmt",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Accepts online payments",
                            "genericId": "pmt::101",
                            "countNotAutoextended": 431
                        }
                    ]
                },
                {
                    "title": "Number of bedrooms",
                    "field": "entire_place_bedroom_count",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "1+ bedrooms",
                            "genericId": "entire_place_bedroom_count::1",
                            "countNotAutoextended": 146
                        },
                        {
                            "title": "2+ bedrooms",
                            "genericId": "entire_place_bedroom_count::2",
                            "countNotAutoextended": 78
                        },
                        {
                            "title": "3+ bedrooms",
                            "genericId": "entire_place_bedroom_count::3",
                            "countNotAutoextended": 30
                        },
                        {
                            "title": "4+ bedrooms",
                            "genericId": "entire_place_bedroom_count::4",
                            "countNotAutoextended": 13
                        }
                    ]
                },
                {
                    "title": "Meals",
                    "field": "mealplan",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "Breakfast included",
                            "genericId": "mealplan::breakfast_included",
                            "countNotAutoextended": 187
                        },
                        {
                            "title": "All-inclusive",
                            "genericId": "mealplan::all_inclusive",
                            "countNotAutoextended": 0
                        },
                        {
                            "title": "Self catering",
                            "genericId": "mealplan::999",
                            "countNotAutoextended": 152
                        }
                    ]
                },
                {
                    "title": "Deals",
                    "field": "any_deal",
                    "filterStyle": "CHECKBOX",
                    "options": [
                        {
                            "title": "All deals",
                            "genericId": "deal::7",
                            "countNotAutoextended": 5
                        }
                    ]
                }
            ]
        }
    }
]

2025-08-25 12:51:27,311 - evaluation_logger_Hotels-134 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotels",
        "arguments": {
            "search_type": "city",
            "dest_id": 20088325,
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-20",
            "adults": 2,
            "children_age": "4",
            "categories_filter": "facility::17",
            "sort_by": "price"
        }
    }
]

2025-08-25 12:51:27,312 - evaluation_logger_Hotels-134 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotels",
        "arguments": {
            "adults": 2,
            "arrival_date": "2024-11-15",
            "categories_filter": "facility::17",
            "children_age": "4",
            "departure_date": "2024-11-20",
            "dest_id": 20088325,
            "search_type": "city",
            "sort_by": "price"
        }
    },
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "10558964"
        }
    },
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "237838"
        }
    }
]

2025-08-25 12:51:27,312 - evaluation_logger_Hotels-134 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'categories_filter': 'facility::17', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': 20088325, 'search_type': 'city', 'sort_by': 'price'}}
{'name': 'Search_Hotels', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'categories_filter': 'facility::17', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': 20088325, 'search_type': 'city', 'sort_by': 'price'}}
2025-08-25 12:51:27,312 - evaluation_logger_Hotels-134 - INFO - Rule-based compare success.
2025-08-25 12:51:27,312 - evaluation_logger_Hotels-134 - INFO - Success matched: [{'name': 'Search_Hotels', 'arguments': {'adults': 2, 'arrival_date': '2024-11-15', 'categories_filter': 'facility::17', 'children_age': '4', 'departure_date': '2024-11-20', 'dest_id': 20088325, 'search_type': 'city', 'sort_by': 'price'}}]
2025-08-25 12:51:27,312 - evaluation_logger_Hotels-134 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "hotels": [
                {
                    "hotel_id": 10558964,
                    "accessibilityLabel": "Macaw Guest House.\n1 out of 5 stars.\n6.3 Pleasant 88 reviews.\n‎East Harlem‬ • ‎3.6 km from centre‬.\n Room with shared bathroom : 2 beds.\nOriginal price 1048 USD. Current price 945 USD..\nIncludes taxes and charges.",
                    "property": {
                        "longitude": -73.949931,
                        "wishlistName": "New York",
                        "checkin": {
                            "untilTime": "17:00",
                            "fromTime": "15:00"
                        },
                        "blockIds": [
                            "1055896401_377763470_3_0_0"
                        ],
                        "accuratePropertyClass": 1,
                        "latitude": 40.789431,
                        "id": 10558964,
                        "ufi": 20088325,
                        "isFirstPage": true,
                        "checkoutDate": "2024-11-20",
                        "priceBreakdown": {
                            "benefitBadges": [
                                {
                                    "variant": "constructive",
                                    "text": "Mobile-only price",
                                    "identifier": "Mobile Rate",
                                    "explanation": "Mobile-only price"
                                }
                            ],
                            "grossPrice": {
                                "value": 944.95,
                                "currency": "USD"
                            },
                            "strikethroughPrice": {
                                "value": 1048,
                                "currency": "USD"
                            }
                        },
                        "propertyClass": 1,
                        "checkinDate": "2024-11-15",
                        "position": 0,
                        "reviewCount": 88,
                        "rankingPosition": 0,
                        "currency": "USD",
                        "countryCode": "us",
                        "reviewScore": 6.3,
                        "name": "Macaw Guest House",
                        "checkout": {
                            "untilTime": "11:00",
                            "fromTime": "00:00"
                        },
                        "reviewScoreWord": "Pleasant",
                        "mainPhotoId": 576143718,
                        "optOutFromGalleryChanges": 0,
                        "qualityClass": 0
                    }
                },
                {
                    "hotel_id": 237838,
                    "accessibilityLabel": "The Dominick Hotel.\n5 out of 5 stars.\n8.6 Fabulous 1097 reviews.\n‎SoHo‬ • ‎5 km from centre‬.\n Hotel room : 1 bed.\n4952 USD.\nIncludes taxes and charges.\nFree cancellation.",
                    "property": {
                        "isPreferred": true,
                        "id": 237838,
                        "ufi": 20088325,
                        "checkoutDate": "2024-11-20",
                        "priceBreakdown": {
                            "grossPrice": {
                                "value": 4951.75,
                                "currency": "USD"
                            }
                        },
                        "propertyClass": 5,
                        "isFirstPage": true,
                        "longitude": -74.0056094527245,
                        "latitude": 40.7255299826281,
                        "accuratePropertyClass": 5,
                        "wishlistName": "New York",
                        "checkin": {
                            "untilTime": "00:00",
                            "fromTime": "15:00"
                        },
                        "blockIds": [
                            "23783820_368917225_2_0_0"
                        ],
                        "reviewScoreWord": "Fabulous",
                        "name": "The Dominick Hotel",
                        "checkout": {
                            "fromTime": "00:00",
                            "untilTime": "12:00"
                        },
                        "qualityClass": 0,
                        "mainPhotoId": 423462737,
                        "optOutFromGalleryChanges": 0,
                        "currency": "USD",
                        "checkinDate": "2024-11-15",
                        "reviewCount": 1097,
                        "rankingPosition": 1,
                        "position": 1,
                        "reviewScore": 8.6,
                        "countryCode": "us"
                    }
                },
                {
                    "hotel_id": 547122,
                    "accessibilityLabel": "Hyatt Union Square New York.\n4 out of 5 stars.\n7.6 Good 277 reviews.\n‎Union Square‬ • ‎3.9 km from centre‬.\n 2 hotel rooms : 2 beds.\n5601 USD.\nIncludes taxes and charges.",
                    "property": {
                        "countryCode": "us",
                        "reviewScore": 7.6,
                        "reviewCount": 277,
                        "rankingPosition": 2,
                        "position": 2,
                        "checkinDate": "2024-11-15",
                        "currency": "USD",
                        "optOutFromGalleryChanges": 0,
                        "mainPhotoId": 225505130,
                        "qualityClass": 0,
                        "checkout": {
                            "untilTime": "12:00",
                            "fromTime": "00:00"
                        },
                        "name": "Hyatt Union Square New York",
                        "reviewScoreWord": "Good",
                        "blockIds": [
                            "54712201_91333518_2_2_0",
                            "54712201_91333518_2_2_0"
                        ],
                        "checkin": {
                            "fromTime": "15:00",
                            "untilTime": "00:00"
                        },
                        "wishlistName": "New York",
                        "accuratePropertyClass": 4,
                        "latitude": 40.7333046726171,
                        "longitude": -73.9898153619629,
                        "isFirstPage": true,
                        "propertyClass": 4,
                        "checkoutDate": "2024-11-20",
                        "priceBreakdown": {
                            "grossPrice": {
                                "currency": "USD",
                                "value": 5600.88
                            }
                        },
                        "ufi": 20088325,
                        "id": 547122,
                        "isPreferred": true
                    }
                }
            ],
            "meta": [
                {
                    "title": "6 properties+ 40 properties around New York"
                }
            ],
            "appear": [
                {
                    "component": {
                        "props": {
                            "content": {
                                "props": {
                                    "fitContentWidth": true,
                                    "items": [
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "spacing": "spacing_half",
                                                        "items": [
                                                            {
                                                                "props": {
                                                                    "text": [
                                                                        {
                                                                            "font": "body_2",
                                                                            "text": "Commission paid and other benefits may affect an accommodation's ranking."
                                                                        },
                                                                        {
                                                                            "font": "strong_2",
                                                                            "color": "foreground",
                                                                            "text": "  "
                                                                        },
                                                                        {
                                                                            "linkActions": [
                                                                                {}
                                                                            ],
                                                                            "font": "body_2",
                                                                            "color": "action_foreground",
                                                                            "text": "Find out more"
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            }
                                        },
                                        {},
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "variant": "tertiary_tinted",
                                                        "icon": "close",
                                                        "accessibilityLabel": "Close",
                                                        "tertiaryTintedColor": "foreground"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            },
                            "fill": true
                        }
                    },
                    "id": "cma"
                },
                {},
                {
                    "component": {
                        "props": {
                            "text": "Get instant access to our Genius loyalty programme and enjoy discounts at properties worldwide.",
                            "title": "Sign in and save money"
                        }
                    },
                    "id": "signin_now"
                },
                {}
            ]
        }
    }
]

2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Function Calls: 
[
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "10558964"
        }
    },
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "237838"
        }
    }
]

2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Golden Function Call: 
[
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "10558964"
        }
    },
    {
        "name": "Property_Children_Policies",
        "arguments": {
            "hotel_id": "237838"
        }
    }
]

2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Start compare_single_call: 
{'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '10558964'}}
{'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '10558964'}}
2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Rule-based compare success.
2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Start compare_single_call: 
{'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '237838'}}
{'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '237838'}}
2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Rule-based compare success.
2025-08-25 12:51:39,733 - evaluation_logger_Hotels-134 - INFO - Success matched: [{'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '10558964'}}, {'name': 'Property_Children_Policies', 'arguments': {'hotel_id': '237838'}}]
2025-08-25 12:51:39,734 - evaluation_logger_Hotels-134 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "serverVersion": 112,
            "clientVersion": 68,
            "mfeId": "b-saba-child-policies-mfe/saba",
            "root": {
                "props": {
                    "items": [
                        {
                            "props": {
                                "component": {
                                    "type": "bui.Label",
                                    "props": {
                                        "font": "strong_2",
                                        "text": "Child policies"
                                    }
                                },
                                "margin": {
                                    "bottom": "spacing_1x"
                                }
                            },
                            "type": "core.Margin"
                        },
                        {
                            "type": "core.layout.Column",
                            "props": {
                                "items": [
                                    {
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "props": {
                                                    "text": "Children of any age are welcome."
                                                },
                                                "type": "bui.Label"
                                            }
                                        },
                                        "type": "core.Margin"
                                    },
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "props": {
                                                    "text": "To see correct prices and occupancy information, please add the number of children in your group and their ages to your search.",
                                                    "font": "emphasized_2"
                                                },
                                                "type": "bui.Label"
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "props": {
                                "component": {
                                    "props": {
                                        "text": "Cot and extra bed policies",
                                        "font": "strong_2"
                                    },
                                    "type": "bui.Label"
                                },
                                "margin": {
                                    "top": "spacing_4x",
                                    "bottom": "spacing_2x"
                                }
                            },
                            "type": "core.Margin"
                        },
                        {
                            "props": {
                                "margin": {
                                    "bottom": "spacing_2x"
                                },
                                "component": {
                                    "type": "bui.Decoration",
                                    "props": {
                                        "border": "border_alt",
                                        "component": {
                                            "type": "core.layout.Column",
                                            "props": {
                                                "items": [
                                                    {
                                                        "props": {
                                                            "component": {
                                                                "type": "core.layout.Row",
                                                                "props": {
                                                                    "items": [
                                                                        {
                                                                            "type": "core.Margin",
                                                                            "props": {
                                                                                "component": {
                                                                                    "type": "bui.Label",
                                                                                    "props": {
                                                                                        "text": "0 - 2 years",
                                                                                        "font": "emphasized_2"
                                                                                    }
                                                                                },
                                                                                "margin": {
                                                                                    "bottom": "spacing_2x",
                                                                                    "top": "spacing_2x",
                                                                                    "start": "spacing_2x",
                                                                                    "end": "spacing_2x"
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                }
                                                            },
                                                            "border": "border_alt",
                                                            "background": "border_alt"
                                                        },
                                                        "type": "bui.Decoration"
                                                    },
                                                    {
                                                        "props": {
                                                            "items": [
                                                                {
                                                                    "props": {
                                                                        "items": [
                                                                            {
                                                                                "type": "core.layout.Row",
                                                                                "props": {
                                                                                    "alignment": "center",
                                                                                    "items": [
                                                                                        {
                                                                                            "type": "core.Margin",
                                                                                            "props": {
                                                                                                "margin": {
                                                                                                    "end": "spacing_2x",
                                                                                                    "start": "spacing_2x",
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x"
                                                                                                },
                                                                                                "component": {
                                                                                                    "props": {
                                                                                                        "size": "smaller",
                                                                                                        "name": "baby_cot"
                                                                                                    },
                                                                                                    "type": "bui.Icon"
                                                                                                }
                                                                                            }
                                                                                        },
                                                                                        {
                                                                                            "props": {
                                                                                                "component": {
                                                                                                    "type": "bui.Label",
                                                                                                    "props": {
                                                                                                        "text": "Cot upon request"
                                                                                                    }
                                                                                                },
                                                                                                "margin": {
                                                                                                    "end": "spacing_2x",
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            }
                                                                        ]
                                                                    },
                                                                    "type": "core.layout.Column"
                                                                },
                                                                {
                                                                    "type": "core.Margin",
                                                                    "props": {
                                                                        "component": {
                                                                            "type": "bui.Label",
                                                                            "props": {
                                                                                "text": "US$15 per child per night"
                                                                            }
                                                                        },
                                                                        "margin": {
                                                                            "end": "spacing_2x",
                                                                            "start": "spacing_2x",
                                                                            "bottom": "spacing_2x",
                                                                            "top": "spacing_2x"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "alignment": "center",
                                                            "firstItemWidth": 57
                                                        },
                                                        "type": "core.layout.SplitRow"
                                                    },
                                                    {
                                                        "type": "bui.Divider"
                                                    },
                                                    {
                                                        "props": {
                                                            "items": [
                                                                {
                                                                    "type": "core.layout.Column",
                                                                    "props": {
                                                                        "items": [
                                                                            {
                                                                                "type": "core.layout.Row",
                                                                                "props": {
                                                                                    "alignment": "center",
                                                                                    "items": [
                                                                                        {
                                                                                            "props": {
                                                                                                "margin": {
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x",
                                                                                                    "start": "spacing_2x",
                                                                                                    "end": "spacing_2x"
                                                                                                },
                                                                                                "component": {
                                                                                                    "props": {
                                                                                                        "name": "bed_add",
                                                                                                        "size": "smaller"
                                                                                                    },
                                                                                                    "type": "bui.Icon"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        },
                                                                                        {
                                                                                            "props": {
                                                                                                "margin": {
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x",
                                                                                                    "end": "spacing_2x"
                                                                                                },
                                                                                                "component": {
                                                                                                    "props": {
                                                                                                        "text": "Extra bed upon request"
                                                                                                    },
                                                                                                    "type": "bui.Label"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            }
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "core.Margin",
                                                                    "props": {
                                                                        "component": {
                                                                            "type": "bui.Label",
                                                                            "props": {
                                                                                "text": "US$30 per child per night"
                                                                            }
                                                                        },
                                                                        "margin": {
                                                                            "start": "spacing_2x",
                                                                            "end": "spacing_2x",
                                                                            "bottom": "spacing_2x",
                                                                            "top": "spacing_2x"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "alignment": "center",
                                                            "firstItemWidth": 57
                                                        },
                                                        "type": "core.layout.SplitRow"
                                                    },
                                                    {
                                                        "type": "bui.Decoration",
                                                        "props": {
                                                            "component": {
                                                                "props": {
                                                                    "items": [
                                                                        {
                                                                            "props": {
                                                                                "margin": {
                                                                                    "top": "spacing_2x",
                                                                                    "bottom": "spacing_2x",
                                                                                    "start": "spacing_2x",
                                                                                    "end": "spacing_2x"
                                                                                },
                                                                                "component": {
                                                                                    "type": "bui.Label",
                                                                                    "props": {
                                                                                        "font": "emphasized_2",
                                                                                        "text": "3 - 16 years"
                                                                                    }
                                                                                }
                                                                            },
                                                                            "type": "core.Margin"
                                                                        }
                                                                    ]
                                                                },
                                                                "type": "core.layout.Row"
                                                            },
                                                            "background": "border_alt",
                                                            "border": "border_alt"
                                                        }
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            },
                            "type": "core.Margin"
                        },
                        {
                            "props": {
                                "items": [
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "props": {
                                                    "text": "Supplements are not calculated automatically in the total costs and will have to be paid for separately during your stay."
                                                },
                                                "type": "bui.Label"
                                            }
                                        }
                                    },
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "The maximum number of cots, extra beds and children allowed in existing beds may vary depending on the option you book."
                                                }
                                            },
                                            "margin": {
                                                "top": "spacing_1x"
                                            }
                                        }
                                    },
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "All cots and extra beds are subject to availability."
                                                }
                                            }
                                        }
                                    }
                                ]
                            },
                            "type": "core.layout.Column"
                        }
                    ]
                },
                "type": "core.layout.Column"
            }
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "root": {
                "props": {
                    "items": [
                        {
                            "type": "core.Margin",
                            "props": {
                                "margin": {
                                    "bottom": "spacing_1x"
                                },
                                "component": {
                                    "props": {
                                        "text": "Child policies",
                                        "font": "strong_2"
                                    },
                                    "type": "bui.Label"
                                }
                            }
                        },
                        {
                            "type": "core.layout.Column",
                            "props": {
                                "items": [
                                    {
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "props": {
                                                    "text": "Children of any age are welcome."
                                                },
                                                "type": "bui.Label"
                                            }
                                        },
                                        "type": "core.Margin"
                                    },
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "Children 6 years and above will be charged as adults at this property."
                                                }
                                            },
                                            "margin": {
                                                "top": "spacing_1x"
                                            }
                                        }
                                    },
                                    {
                                        "type": "core.Margin",
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "To see correct prices and occupancy information, please add the number of children in your group and their ages to your search.",
                                                    "font": "emphasized_2"
                                                }
                                            }
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "props": {
                                "component": {
                                    "props": {
                                        "text": "Cot and extra bed policies",
                                        "font": "strong_2"
                                    },
                                    "type": "bui.Label"
                                },
                                "margin": {
                                    "top": "spacing_4x",
                                    "bottom": "spacing_2x"
                                }
                            },
                            "type": "core.Margin"
                        },
                        {
                            "type": "core.Margin",
                            "props": {
                                "component": {
                                    "props": {
                                        "component": {
                                            "type": "core.layout.Column",
                                            "props": {
                                                "items": [
                                                    {
                                                        "props": {
                                                            "component": {
                                                                "props": {
                                                                    "items": [
                                                                        {
                                                                            "type": "core.Margin",
                                                                            "props": {
                                                                                "margin": {
                                                                                    "end": "spacing_2x",
                                                                                    "start": "spacing_2x",
                                                                                    "bottom": "spacing_2x",
                                                                                    "top": "spacing_2x"
                                                                                },
                                                                                "component": {
                                                                                    "props": {
                                                                                        "font": "emphasized_2",
                                                                                        "text": "0 - 1 year"
                                                                                    },
                                                                                    "type": "bui.Label"
                                                                                }
                                                                            }
                                                                        }
                                                                    ]
                                                                },
                                                                "type": "core.layout.Row"
                                                            },
                                                            "background": "border_alt",
                                                            "border": "border_alt"
                                                        },
                                                        "type": "bui.Decoration"
                                                    },
                                                    {
                                                        "props": {
                                                            "alignment": "center",
                                                            "items": [
                                                                {
                                                                    "props": {
                                                                        "items": [
                                                                            {
                                                                                "type": "core.layout.Row",
                                                                                "props": {
                                                                                    "items": [
                                                                                        {
                                                                                            "props": {
                                                                                                "component": {
                                                                                                    "type": "bui.Icon",
                                                                                                    "props": {
                                                                                                        "size": "smaller",
                                                                                                        "name": "baby_cot"
                                                                                                    }
                                                                                                },
                                                                                                "margin": {
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x",
                                                                                                    "start": "spacing_2x",
                                                                                                    "end": "spacing_2x"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        },
                                                                                        {
                                                                                            "props": {
                                                                                                "margin": {
                                                                                                    "end": "spacing_2x",
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x"
                                                                                                },
                                                                                                "component": {
                                                                                                    "type": "bui.Label",
                                                                                                    "props": {
                                                                                                        "text": "Cot upon request"
                                                                                                    }
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        }
                                                                                    ],
                                                                                    "alignment": "center"
                                                                                }
                                                                            }
                                                                        ]
                                                                    },
                                                                    "type": "core.layout.Column"
                                                                },
                                                                {
                                                                    "type": "core.Margin",
                                                                    "props": {
                                                                        "component": {
                                                                            "props": {
                                                                                "color": "constructive_foreground",
                                                                                "text": "Free",
                                                                                "font": "emphasized_2"
                                                                            },
                                                                            "type": "bui.Label"
                                                                        },
                                                                        "margin": {
                                                                            "top": "spacing_2x",
                                                                            "bottom": "spacing_2x",
                                                                            "start": "spacing_2x",
                                                                            "end": "spacing_2x"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "firstItemWidth": 57
                                                        },
                                                        "type": "core.layout.SplitRow"
                                                    },
                                                    {
                                                        "type": "bui.Divider"
                                                    },
                                                    {
                                                        "type": "core.layout.SplitRow",
                                                        "props": {
                                                            "alignment": "center",
                                                            "items": [
                                                                {
                                                                    "type": "core.layout.Column",
                                                                    "props": {
                                                                        "items": [
                                                                            {
                                                                                "type": "core.layout.Row",
                                                                                "props": {
                                                                                    "alignment": "center",
                                                                                    "items": [
                                                                                        {
                                                                                            "props": {
                                                                                                "component": {
                                                                                                    "props": {
                                                                                                        "size": "smaller",
                                                                                                        "name": "bed_add"
                                                                                                    },
                                                                                                    "type": "bui.Icon"
                                                                                                },
                                                                                                "margin": {
                                                                                                    "end": "spacing_2x",
                                                                                                    "start": "spacing_2x",
                                                                                                    "bottom": "spacing_2x",
                                                                                                    "top": "spacing_2x"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        },
                                                                                        {
                                                                                            "props": {
                                                                                                "component": {
                                                                                                    "props": {
                                                                                                        "text": "Extra bed upon request"
                                                                                                    },
                                                                                                    "type": "bui.Label"
                                                                                                },
                                                                                                "margin": {
                                                                                                    "end": "spacing_2x",
                                                                                                    "top": "spacing_2x",
                                                                                                    "bottom": "spacing_2x"
                                                                                                }
                                                                                            },
                                                                                            "type": "core.Margin"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            }
                                                                        ]
                                                                    }
                                                                },
                                                                {
                                                                    "type": "core.Margin",
                                                                    "props": {
                                                                        "component": {
                                                                            "type": "bui.Label",
                                                                            "props": {
                                                                                "text": "US$90 per child per night"
                                                                            }
                                                                        },
                                                                        "margin": {
                                                                            "bottom": "spacing_2x",
                                                                            "top": "spacing_2x",
                                                                            "end": "spacing_2x",
                                                                            "start": "spacing_2x"
                                                                        }
                                                                    }
                                                                }
                                                            ],
                                                            "firstItemWidth": 57
                                                        }
                                                    },
                                                    {
                                                        "props": {
                                                            "background": "border_alt",
                                                            "border": "border_alt",
                                                            "component": {
                                                                "props": {
                                                                    "items": [
                                                                        {
                                                                            "props": {
                                                                                "margin": {
                                                                                    "top": "spacing_2x",
                                                                                    "bottom": "spacing_2x",
                                                                                    "start": "spacing_2x",
                                                                                    "end": "spacing_2x"
                                                                                },
                                                                                "component": {
                                                                                    "type": "bui.Label",
                                                                                    "props": {
                                                                                        "font": "emphasized_2",
                                                                                        "text": "2+ years"
                                                                                    }
                                                                                }
                                                                            },
                                                                            "type": "core.Margin"
                                                                        }
                                                                    ]
                                                                },
                                                                "type": "core.layout.Row"
                                                            }
                                                        },
                                                        "type": "bui.Decoration"
                                                    }
                                                ]
                                            }
                                        },
                                        "border": "border_alt"
                                    },
                                    "type": "bui.Decoration"
                                },
                                "margin": {
                                    "bottom": "spacing_2x"
                                }
                            }
                        },
                        {
                            "type": "core.layout.Column",
                            "props": {
                                "items": [
                                    {
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "Supplements are not calculated automatically in the total costs and will have to be paid for separately during your stay."
                                                }
                                            }
                                        },
                                        "type": "core.Margin"
                                    },
                                    {
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "type": "bui.Label",
                                                "props": {
                                                    "text": "The maximum number of cots, extra beds and children allowed in existing beds may vary depending on the option you book."
                                                }
                                            }
                                        },
                                        "type": "core.Margin"
                                    },
                                    {
                                        "props": {
                                            "margin": {
                                                "top": "spacing_1x"
                                            },
                                            "component": {
                                                "props": {
                                                    "text": "All cots and extra beds are subject to availability."
                                                },
                                                "type": "bui.Label"
                                            }
                                        },
                                        "type": "core.Margin"
                                    }
                                ]
                            }
                        }
                    ]
                },
                "type": "core.layout.Column"
            },
            "serverVersion": 112,
            "mfeId": "b-saba-child-policies-mfe/saba",
            "clientVersion": 68
        }
    }
]

2025-08-25 12:54:36,884 - evaluation_logger_Hotels-134 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应拦截器功能。接下来，我们就来实现`axios`的配置化，我们知道，`axios`发送一个请求时，我们可以设置很多配置项，例如：

- `url`：请求的`url`；
- `method`：请求的方法；
- `params`：`url`参数；
- `data`：请求`body`参数；
- `headers`：请求头；
- `timeout`：请求超时时间；
- `responseType`：响应数据类型；
- 等等

那么，这些配置项在`axios`中是如何实现并且合并的呢？这就是本篇文章要介绍的内容。

# 2. 配置化分析

我们先来看一下`axios`官方文档给出的请求配置项有哪些：

```javascript
{
  // `url` 是用于请求的服务器 URL
  url: '/user',

  // `method` 是创建请求时使用的方法
  method: 'get', // 默认是 get

  // `baseURL` 将自动加在 `url` 前面，除非 `url` 是一个绝对 URL。
  // 它可以通过设置一个 `baseURL` 便于为 axios 实例的方法传递相对 URL
  baseURL: 'https://some-domain.com/api/',

  // `transformRequest` 允许在向服务器发送前，修改请求数据
  // 只能用在 'PUT', 'POST' 和 'PATCH' 这几个请求方法
  // 后面数组中的函数必须返回一个字符串，或 ArrayBuffer，或 Stream
  transformRequest: [function (data) {
    // 对 data 进行任意转换处理

    return data;
  }],

  // `transformResponse` 在传递给 then/catch 前，允许修改响应数据
  transformResponse: [function (data) {
    // 对 data 进行任意转换处理

    return data;
  }],

  // `headers` 是即将被发送的自定义请求头
  headers: {'X-Requested-With': 'XMLHttpRequest'},

  // `params` 是即将与请求一起发送的 URL 参数
  // 必须是一个无格式对象(plain object)或 URLSearchParams 对象
  params: {
    ID: 12345
  },

  // `paramsSerializer` 是一个负责 `params` 序列化的函数
  // (e.g. https://www.npmjs.com/package/qs, http://api.jquery.com/jquery.param/)
  paramsSerializer: function(params) {
    return Qs.stringify(params, {arrayFormat: 'brackets'})
  },

  // `data` 是作为请求主体被发送的数据
  // 只适用于这些 'PUT', 'POST', 和 'PATCH' 请求
  // 在没有设置 `transformRequest` 时，必须是以下类型之一：
  // - string, plain object, ArrayBuffer, ArrayBufferView, FormData
  // - 浏览器专属：FormData, File, Blob
  // - Node 专属： Stream
  data: {
    firstName: 'Fred'
  },

  // `timeout` 指定请求超时的毫秒数(0 表示无超时时间)
  // 如果请求话费了超过 `timeout` 的时间，请求将被中断
  timeout: 1000,

  // `withCredentials` 表示跨域请求时是否需要使用凭证
  withCredentials: false, // 默认的

  // `adapter` 允许自定义处理请求，以使测试更轻松
  // 返回一个 promise 并应用一个有效的响应 (查阅 [response docs](#response-api)).
  adapter: function (config) {
    /* ... */
  },

  // `auth` 表示应该使用 HTTP 基础验证，并提供凭据
  // 这将设置一个 `Authorization` 头，覆写掉现有的任意使用自定义头，如 `Authorization` 的 header 设置
  auth: {
    username: 'janedoe',
    password: 's00pers3cret'
  },

  // `responseType` 表示服务器响应的数据类型，可以是 'arraybuffer', 'blob', 'document', 'json', 'text', 'stream'
  responseType: 'json', // 默认的

  // `responseEncoding` indicates encoding to use for decoding responses
  // Note: Ignored for `responseType` of 'stream' or client-side requests
  responseEncoding: 'utf8', // default

  // `xsrfCookieName` 是用作 xsrf token 的值的cookie的名称
  xsrfCookieName: 'XSRF-TOKEN', // default

  // `xsrfHeaderName` is the name of the http header that carries the xsrf token value
  xsrfHeaderName: 'X-XSRF-TOKEN', // default

  // `onUploadProgress` 允许为上传处理进度事件
  onUploadProgress: function (progressEvent) {
    // 对原生进度事件的处理
  },

  // `onDownloadProgress` 允许为下载处理进度事件
  onDownloadProgress: function (progressEvent) {
    // 对原生进度事件的处理
  },

  // `maxContentLength` 定义允许的响应内容的最大尺寸
  maxContentLength: 2000,

  // `validateStatus` 定义对于给定的HTTP 响应状态码是 resolve 或 reject  promise 。如果 `validateStatus` 返回 `true` (或者设置为 `null` 或 `undefined`)，promise 将被 resolve; 否则，promise 将被 rejecte
  validateStatus: function (status) {
    return status >= 200 && status < 300; // 默认的
  },

  // `maxRedirects` 定义在 node.js 中 follow 的最大重定向数目
  // 如果设置为0，将不会 follow 任何重定向
  maxRedirects: 5, // 默认的

  // `socketPath` defines a UNIX Socket to be used in node.js.
  // e.g. '/var/run/docker.sock' to send requests to the docker daemon.
  // options: `socketPath` is ignored if `proxy` is specified.
  socketPath: null, // default

  // `httpAgent` 和 `httpsAgent` 分别在 node.js 中用于定义在执行 http 和 https 时使用的自定义代理。允许像这样配置选项：
  // `keepAlive` 默认没有启用
  httpAgent: new http.Agent({ keepAlive: true }),
  httpsAgent: new https.Agent({ keepAlive: true }),

  // 'proxy' 定义代理服务器的主机名称和端口
  // `auth` 表示 HTTP 基础验证应当用于连接代理，并提供凭据
  // 这将会设置一个 `Proxy-Authorization` 头，覆写掉已有的通过使用 `header` 设置的自定义 `Proxy-Authorization` 头。
  proxy: {
    host: '127.0.0.1',
    port: 9000,
    auth: {
      username: 'mikeymike',
      password: 'rapunz3l'
    }
  },

  // `cancelToken` 指定用于取消请求的 cancel token
  // （查看后面的 Cancellation 这节了解更多）
  cancelToken: new CancelToken(function (cancel) {
  })
}
```

从上面可以看出，配置项还是蛮多的，但是我们不必全部实现，我们只实现一些常用的配置项即可。

# 3. 配置化实现

## 3.1 定义配置接口

我们先在`src/types/index.ts`中定义配置接口`AxiosRequestConfig`，用来定义我们支持哪些配置项。

```typescript
export interface AxiosRequestConfig {
  url?: string;
  method?: Method;
  data?: any;
  params?: any;
  headers?: any;
  responseType?: XMLHttpRequestResponseType;
  timeout?: number;
}
```

其中，`Method`是请求方法的类型定义，我们也在`src/types/index.ts`中定义：

```typescript
export type Method =
  | "get"
  | "GET"
  | "delete"
  | "DELETE"
  | "head"
  | "HEAD"
  | "options"
  | "OPTIONS"
  | "post"
  | "POST"
  | "put"
  | "PUT"
  | "patch"
  | "PATCH";
```

## 3.2 修改请求函数类型

定义了配置接口后，我们就可以在发送请求的时候传入该配置对象了，所以我们需要修改`AxiosInstance`的类型，让其`request`方法支持传入配置对象，并且`get`、`post`等方法都支持传入配置对象。

```typescript
export interface AxiosInstance {
  (config: AxiosRequestConfig): AxiosPromise;

  (url: string, config?: AxiosRequestConfig): AxiosPromise;
}
```

## 3.3 修改请求实现

由于我们修改了`AxiosInstance`的类型，所以我们需要修改`src/core/Axios.ts`中`request`方法的实现，让其支持传入配置对象。

```typescript
import { AxiosPromise, AxiosRequestConfig, Method } from "../types";
import dispatchRequest from "./dispatchRequest";

export default class Axios {
  request(config: AxiosRequestConfig): AxiosPromise {
    return dispatchRequest(config);
  }

  get(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData("get", url, config);
  }

  delete(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData("delete", url, config);
  }

  head(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData("head", url, config);
  }

  options(url: string, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithoutData("options", url, config);
  }

  post(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData("post", url, data, config);
  }

  put(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData("put", url, data, config);
  }

  patch(url: string, data?: any, config?: AxiosRequestConfig): AxiosPromise {
    return this._requestMethodWithData("patch", url, data, config);
  }

  _requestMethodWithoutData(method: Method, url: string, config?: AxiosRequestConfig) {
    return this.request(
      Object.assign(config || {}, {
        method,
        url
      })
    );
  }

  _requestMethodWithData(method: Method, url: string, data?: any, config?: AxiosRequestConfig) {
    return this.request(
      Object.assign(config || {}, {
        method,
        url,
        data
      })
    );
  }
}
```

可以看到，我们修改了`request`方法的参数，让其支持传入配置对象，并且在`get`、`post`等方法中，我们也支持传入配置对象，并且在调用`request`方法时，将配置对象和`method`、`url`、`data`等参数合并。

## 3.4 修改请求发送实现

由于我们修改了`request`方法的参数，所以我们需要修改`src/core/dispatchRequest.ts`中`dispatchRequest`函数的实现，让其支持传入配置对象。

```typescript
import { AxiosPromise, AxiosRequestConfig } from "../types";
import xhr from "./xhr";

export default function dispatchRequest(config: AxiosRequestConfig): AxiosPromise {
  return xhr(config);
}
```

## 3.5 修改请求发送函数

由于我们修改了`dispatchRequest`函数的参数，所以我们需要修改`src/core/xhr.ts`中`xhr`函数的实现，让其支持传入配置对象。

```typescript
import { AxiosPromise, AxiosRequestConfig } from "../types";

export default function xhr(config: AxiosRequestConfig): AxiosPromise {
  return new Promise((resolve, reject) => {
    const { data = null, url, method = "get", headers, responseType, timeout } = config;

    const request = new XMLHttpRequest();

    if (responseType) {
      request.responseType = responseType;
    }

    if (timeout) {
      request.timeout = timeout;
    }

    request.open(method.toUpperCase(), url, true);

    request.onreadystatechange = function handleLoad() {
      if (request.readyState !== 4) {
        return;
      }
      if (request.status === 0) {
        return;
      }
      const responseHeaders = request.getAllResponseHeaders();
      const responseData = responseType !== "text" ? request.response : request.responseText;
      const response: AxiosResponse = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config,
        request
      };
      resolve(response);
    };

    request.onerror = function handleError() {
      reject(new Error("Network Error"));
    };

    request.ontimeout = function handleTimeout() {
      reject(new Error(`Timeout of ${timeout} ms exceeded`));
    };

    Object.keys(headers).forEach(name => {
      if (data === null && name.toLowerCase() === "content-type") {
        delete headers[name];
      } else {
        request.setRequestHeader(name, headers[name]);
      }
    });

    request.send(data);
  });
}
```

可以看到，我们从配置对象中解构出了`data`、`url`、`method`、`headers`、`responseType`、`timeout`等参数，并且在发送请求时使用了这些参数。

## 3.6 修改入口文件

由于我们修改了`AxiosInstance`的类型，所以我们需要修改`src/axios.ts`中`createInstance`函数的实现，让其返回的`axios`实例支持传入配置对象。

```typescript
import { AxiosInstance } from "./types";
import Axios from "./core/Axios";
import { extend } from "./helpers/util";

function createInstance(): AxiosInstance {
  const context = new Axios();
  const instance = Axios.prototype.request.bind(context);

  extend(instance, context);

  return instance as AxiosInstance;
}

const axios = createInstance();

export default axios;
```

OK，这样我们就实现了`axios`的配置化，接下来我们就可以在发送请求时传入配置对象了。

# 4. 编写 demo

接下来，我们就编写一个 demo 来测试一下我们的配置化是否实现成功。

我们在 `examples` 目录下创建 `config` 目录，在 `config` 目录下创建 `index.html`：

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>config example</title>
  </head>
  <body>
    <script src="/__build__/config.js"></script>
  </body>
</html>
```

接着再创建 `app.ts` 作为入口文件：

```typescript
import axios from "../../src/axios";

axios({
  url: "/api/base/get",
  method: "get",
  params: {
    a: 1,
    b: 2
  }
});

axios({
  url: "/api/base/post",
  method: "post",
  data: {
    a: 1,
    b: 2
  }
});

axios({
  url: "/api/base/post",
  method: "post",
  responseType: "json",
  data: {
    a: 3,
    b: 4
  }
});
```

接着在 `server/server.js` 中添加新的接口路由：

```javascript
// 添加config接口
router.get("/api/base/get", function(req, res) {
  res.json(req.query);
});

router.post("/api/base/post", function(req, res) {
  res.json(req.body);
});
```

最后在根目录下的`index.html`中加上启动该`demo`的入口：

```html
<li><a href="examples/config">config</a></li>
```

OK, 我们在命令行中执行：

```bash
# 同时开启客户端和服务端
npm run server | npm start
```

接着我们打开 `chrome` 浏览器，访问 <http://localhost:8000/> 即可访问我们的 `demo` 了，我们点击 `config`，通过`F12`的 `network` 部分我们可以看到发送的请求，并且可以观察请求的`url`、`method`、`headers`、`data`等参数是否正确。

![](~@/axios/08/01.png)

![](~@/axios/08/02.png)

![](~@/axios/08/03.png)

从图中可以看到，我们发送的请求都带上了我们配置的参数，并且响应也正确返回了。

# 5. 遗留问题

我们虽然实现了配置化，但是还存在一些问题：

1. 我们只实现了部分配置项，还有很多配置项没有实现；
2. 我们还没有实现配置项的合并策略，例如：全局配置和请求配置的合并；
3. 我们还没有实现配置项的默认值；

这些问题我们会在后面的文章中一一解决。

# 6. 总结

本篇文章我们实现了`axios`的配置化，让`axios`支持传入配置对象，并且我们实现了一些常用的配置项。在下一篇文章中，我们将会实现`axios`的配置合并策略，让`axios`支持全局配置和请求配置的合并。



2025-08-25 12:54:42,870 - evaluation_logger_Hotels-134 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about hotels, airport shuttle services, or child policies.'}
2025-08-25 12:54:49,096 - evaluation_logger_Hotels-134 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:54:49,096 - evaluation_logger_Hotels-134 - INFO - Message: Success.
2025-08-25 12:54:49,096 - evaluation_logger_Hotels-134 - INFO - Success turn num = 4
2025-08-25 12:54:49,096 - evaluation_logger_Hotels-134 - INFO - ----------------------------------------------------------------------------------------------------
