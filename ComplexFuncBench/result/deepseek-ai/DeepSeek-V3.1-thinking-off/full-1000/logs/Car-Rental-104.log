2025-08-25 11:20:21,972 - evaluation_logger_Car-Rental-104 - INFO - Test Example Car-Rental-104
2025-08-25 11:20:21,972 - evaluation_logger_Car-Rental-104 - INFO - Query: I'm going to rent a car at Perth Airport at 9 AM on November 20th, 2024, and return it at Brisbane Airport at 3 PM on the 26th. Provide the detailed information about the vehicle and the supplier, along with the booking summary.
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Perth Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Brisbane Airport"
        }
    }
]

2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Perth Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Brisbane Airport"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": -31.9416999816895,
            "pick_up_longitude": 115.967002868652,
            "pick_up_date": "2024-11-20",
            "pick_up_time": "09:00",
            "drop_off_latitude": -27.3841991424561,
            "drop_off_longitude": 153.117004394531,
            "drop_off_date": "2024-11-26",
            "drop_off_time": "15:00"
        }
    }
]

2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Perth Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Perth Airport'}}
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Rule-based compare success.
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Brisbane Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Brisbane Airport'}}
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Rule-based compare success.
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Perth Airport'}}, {'name': 'Search_Car_Location', 'arguments': {'query': 'Brisbane Airport'}}]
2025-08-25 11:20:32,193 - evaluation_logger_Car-Rental-104 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "country": "Australia",
                "coordinates": {
                    "longitude": 115.967002868652,
                    "latitude": -31.9416999816895
                },
                "type": "airport",
                "name": "Perth Airport",
                "city": "Perth",
                "iata_code": "PER"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "type": "airport",
                "coordinates": {
                    "latitude": -27.3841991424561,
                    "longitude": 153.117004394531
                },
                "city": "Brisbane",
                "name": "Brisbane Airport",
                "iata_code": "BNE",
                "country": "Australia"
            }
        ]
    }
]

2025-08-25 11:20:45,036 - evaluation_logger_Car-Rental-104 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": -31.9416999816895,
            "pick_up_longitude": 115.967002868652,
            "pick_up_date": "2024-11-20",
            "pick_up_time": "09:00",
            "drop_off_latitude": -27.3841991424561,
            "drop_off_longitude": 153.117004394531,
            "drop_off_date": "2024-11-26",
            "drop_off_time": "15:00"
        }
    }
]

2025-08-25 11:20:45,036 - evaluation_logger_Car-Rental-104 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-11-26",
            "drop_off_latitude": -27.3841991424561,
            "drop_off_longitude": 153.117004394531,
            "drop_off_time": "15:00",
            "pick_up_date": "2024-11-20",
            "pick_up_latitude": -31.9416999816895,
            "pick_up_longitude": 115.967002868652,
            "pick_up_time": "09:00"
        }
    },
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Booking_Summary",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    }
]

2025-08-25 11:20:45,037 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-26', 'drop_off_latitude': -27.3841991424561, 'drop_off_longitude': 153.117004394531, 'drop_off_time': '15:00', 'pick_up_date': '2024-11-20', 'pick_up_latitude': -31.9416999816895, 'pick_up_longitude': 115.967002868652, 'pick_up_time': '09:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-26', 'drop_off_latitude': -27.3841991424561, 'drop_off_longitude': 153.117004394531, 'drop_off_time': '15:00', 'pick_up_date': '2024-11-20', 'pick_up_latitude': -31.9416999816895, 'pick_up_longitude': 115.967002868652, 'pick_up_time': '09:00'}}
2025-08-25 11:20:45,037 - evaluation_logger_Car-Rental-104 - INFO - Rule-based compare success.
2025-08-25 11:20:45,037 - evaluation_logger_Car-Rental-104 - INFO - Success matched: [{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-26', 'drop_off_latitude': -27.3841991424561, 'drop_off_longitude': 153.117004394531, 'drop_off_time': '15:00', 'pick_up_date': '2024-11-20', 'pick_up_latitude': -31.9416999816895, 'pick_up_longitude': 115.967002868652, 'pick_up_time': '09:00'}}]
2025-08-25 11:20:45,037 - evaluation_logger_Car-Rental-104 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "filter": [
                {
                    "title": "Location",
                    "layout": {
                        "collapsed_count": 3,
                        "is_collapsable": "false",
                        "layout_type": "list",
                        "is_collapsed": "false"
                    },
                    "id": "depotLocationType",
                    "categories": [
                        {
                            "nameWithCount": "All other locations (9)",
                            "id": "depotLocationType::DOWNTOWN",
                            "count": 9,
                            "name": "All other locations"
                        },
                        {
                            "name": "Airport (shuttle)",
                            "id": "depotLocationType::SHUTTLE_BUS",
                            "count": 6,
                            "nameWithCount": "Airport (shuttle) (6)"
                        },
                        {
                            "nameWithCount": "Airport (in terminal) (54)",
                            "id": "depotLocationType::IN_TERMINAL",
                            "count": 54,
                            "name": "Airport (in terminal)"
                        }
                    ],
                    "type": "multiple_union"
                },
                {
                    "layout": {
                        "is_collapsed": "true",
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsable": "true"
                    },
                    "title": "Car Type",
                    "id": "carCategory",
                    "categories": [
                        {
                            "name": "Small",
                            "count": 1,
                            "id": "carCategory::small",
                            "nameWithCount": "Small (1)"
                        },
                        {
                            "nameWithCount": "Medium (29)",
                            "name": "Medium",
                            "id": "carCategory::medium",
                            "count": 29
                        },
                        {
                            "nameWithCount": "Large (42)",
                            "name": "Large",
                            "count": 42,
                            "id": "carCategory::large"
                        },
                        {
                            "name": "People carriers",
                            "count": 7,
                            "id": "carCategory::carriers",
                            "nameWithCount": "People carriers (7)"
                        },
                        {
                            "name": "SUVs",
                            "count": 35,
                            "id": "carCategory::suvs",
                            "nameWithCount": "SUVs (35)"
                        }
                    ],
                    "type": "multiple_union"
                },
                {
                    "id": "pricePerDayBuckets",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "nameWithCount": "US$0 - US$50 (0)",
                            "id": "pricePerDayBuckets::BUCKET_1",
                            "count": 0,
                            "name": "US$0 - US$50"
                        },
                        {
                            "name": "US$50 - US$100",
                            "id": "pricePerDayBuckets::BUCKET_2",
                            "count": 0,
                            "nameWithCount": "US$50 - US$100 (0)"
                        },
                        {
                            "name": "US$100 - US$150",
                            "count": 0,
                            "id": "pricePerDayBuckets::BUCKET_3",
                            "nameWithCount": "US$100 - US$150 (0)"
                        },
                        {
                            "count": 3,
                            "id": "pricePerDayBuckets::BUCKET_4",
                            "name": "US$150 - US$200",
                            "nameWithCount": "US$150 - US$200 (3)"
                        },
                        {
                            "nameWithCount": "US$200+ (66)",
                            "name": "US$200+",
                            "count": 66,
                            "id": "pricePerDayBuckets::BUCKET_5"
                        }
                    ],
                    "title": "Price per day",
                    "layout": {
                        "collapsed_count": 5,
                        "is_collapsable": "false",
                        "layout_type": "list",
                        "is_collapsed": "false"
                    }
                },
                {
                    "title": "Supplier",
                    "layout": {
                        "is_collapsable": "true",
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsed": "true"
                    },
                    "id": "supplier",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Ace Rental Cars",
                            "count": 6,
                            "id": "supplier::Ace Rental Cars",
                            "nameWithCount": "Ace Rental Cars (6)"
                        },
                        {
                            "name": "Europcar",
                            "count": 51,
                            "id": "supplier::Europcar",
                            "nameWithCount": "Europcar (51)"
                        },
                        {
                            "nameWithCount": "Hertz (12)",
                            "id": "supplier::Hertz",
                            "count": 12,
                            "name": "Hertz"
                        }
                    ]
                },
                {
                    "categories": [
                        {
                            "name": "Automatic",
                            "count": 69,
                            "id": "transmission::AUTOMATIC",
                            "nameWithCount": "Automatic (69)"
                        }
                    ],
                    "type": "multiple_union",
                    "id": "transmission",
                    "title": "Transmission",
                    "layout": {
                        "is_collapsed": "true",
                        "is_collapsable": "true",
                        "collapsed_count": 5,
                        "layout_type": "list"
                    }
                }
            ],
            "title": "Car rentals",
            "search_results": [
                {
                    "vehicle_id": "657356933",
                    "accessibility": {
                        "supplier_rating": "At this location, our customers have rated Ace Rental Cars as 9.0 out of 10, Superb.",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "pick_up_location": "Pick-up information: Shuttle Bus",
                        "transmission": "Automatic gearbox"
                    },
                    "rating_info": {
                        "cleanliness": 9.4,
                        "value_for_money": 8.8,
                        "pickup_time": 7.8,
                        "condition": 9.2,
                        "dropoff_time": 9.6,
                        "efficiency": 9.4,
                        "location": 8.4,
                        "no_of_ratings": 1614,
                        "average_text": "Superb",
                        "average": 9
                    },
                    "vehicle_info": {
                        "seats": "5",
                        "transmission": "Automatic",
                        "mileage": "Unlimited km",
                        "v_name": "Mazda CX-30",
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        },
                        "free_cancellation": 1,
                        "fuel_type": "N/A",
                        "fuel_policy": "Like for like",
                        "v_id": "657356933",
                        "aircon": 1,
                        "airbags": 1,
                        "group": "Compact",
                        "doors": "4",
                        "unlimited_mileage": 1,
                        "label": "Compact car with:",
                        "cma_compliant": -1
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE"
                            }
                        ],
                        "supplier": {
                            "rating": {
                                "average": "9.0",
                                "localisedRating": {
                                    "rawValue": 9,
                                    "displayValue": "9"
                                },
                                "subtitle": "1,614 reviews",
                                "title": "Superb"
                            },
                            "name": "Ace Rental Cars"
                        }
                    },
                    "route_info": {
                        "dropoff": {
                            "latitude": "-27.403928",
                            "longitude": "153.109388",
                            "location_type": "SHUTTLE_BUS",
                            "address": "330, Nudgee Road, Brisbane, Australia, QLD 4011",
                            "country_code": "AU",
                            "name": "Brisbane Airport",
                            "location_id": "4000660"
                        },
                        "pickup": {
                            "longitude": "115.973554",
                            "location_type": "SHUTTLE_BUS",
                            "address": "17 Ross Drive, Perth, Australia, WA 6105",
                            "location_hash": "UGVydGggQWlycG9ydA==",
                            "latitude": "-31.941529",
                            "location_id": "3960186",
                            "country_code": "AU",
                            "name": "Perth Airport"
                        }
                    },
                    "supplier_info": {
                        "address": "17 Ross Drive, Perth, Australia, WA 6105",
                        "location_type": "Shuttle Bus",
                        "longitude": "115.973554",
                        "latitude": "-31.941529",
                        "pickup_instructions": "The courtesy Ace shuttle is available during the rental counter's operational hours and the final shuttle departs the location 30 minutes before closing time. After collecting your luggage Call 1800 620 408 (+61 8 9479 5016) to arrange a collection. T1 Virgin-Exit outside main door and wait by T1 domestic sign. T1 international-Exit outside main door and wait at bus stand L. T3 & T4-Exit outside and wait at the centre lane next to the rideshare sign.",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/541_logo_200.png",
                        "name": "Ace Rental Cars",
                        "may_require_credit_card_guarantee": false
                    },
                    "pricing_info": {
                        "deposit": 568.98,
                        "base_price": 47853.77,
                        "currency": "USD",
                        "discount": 0,
                        "pay_when": "PAY_NOW",
                        "drive_away_price": 1897.08,
                        "base_currency": "INR",
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "type": "THEFT_EXCESS",
                                    "currency": "AUD",
                                    "min_amount": 5900,
                                    "max_amount": 5900,
                                    "amount": 5900,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0
                                },
                                {
                                    "amount": 0,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "max_amount": 0,
                                    "currency": "AUD",
                                    "min_amount": 0,
                                    "type": "CREDIT_CARD_CHARGE_AMEX"
                                },
                                {
                                    "max_amount": 100,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "amount": 100,
                                    "type": "DEPOSIT",
                                    "currency": "AUD",
                                    "min_amount": 100
                                },
                                {
                                    "currency": "AUD",
                                    "min_amount": 2000,
                                    "type": "ONE_WAY_FEE",
                                    "amount": 2000,
                                    "is_tax_included": 1,
                                    "is_always_payable": 1,
                                    "max_amount": 2000
                                },
                                {
                                    "max_amount": 0,
                                    "amount": 0,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "type": "CREDIT_CARD_CHARGE_DINERS",
                                    "min_amount": 0,
                                    "currency": "AUD"
                                }
                            ]
                        },
                        "base_deposit": 47853.77,
                        "quote_allowed": 1,
                        "price": 568.98,
                        "drive_away_price_is_approx": true
                    }
                }
            ],
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "meta": {
                "response_code": 200
            },
            "search_context": {
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
                "searchId": "bd343e1e-041a-48d0-8200-7a9e9d89e58e",
                "recommendationsSearchUniqueId": "b1c8775c-9926-4c8a-91a5-a87c6ba00a5c"
            },
            "count": 41,
            "is_genius_location": true,
            "type": "cars",
            "sort": [
                {
                    "identifier": "recommended",
                    "title_tag": "tr.searchresults.sortBy.recommended",
                    "name": "Recommended – best first"
                },
                {
                    "identifier": "price_low_to_high",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh",
                    "name": "Price - lowest first"
                },
                {
                    "name": "Review score - highest first",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow",
                    "identifier": "review_score"
                }
            ],
            "content": {
                "items": [
                    {
                        "type": "SHELL_REGION_VIEW",
                        "positionInList": 3,
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        }
                    }
                ],
                "filters": {
                    "countLabel": "41 results"
                }
            },
            "provider": "rentalcars"
        }
    }
]

2025-08-25 11:21:44,780 - evaluation_logger_Car-Rental-104 - INFO - Function Calls: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Booking_Summary",
        "arguments": {
            "vehicle_id": "657356933",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19CT05UQUlOSU5HX0ZFRVMiXX0="
        }
    }
]

2025-08-25 11:21:44,780 - evaluation_logger_Car-Rental-104 - INFO - Golden Function Call: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "vehicle_id": "657356933"
        }
    },
    {
        "name": "Booking_Summary",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "vehicle_id": "657356933"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "vehicle_id": "657356933"
        }
    }
]

2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Rule-based compare success.
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Rule-based compare success.
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Start compare_single_call: 
{'name': 'Booking_Summary', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19CT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
{'name': 'Booking_Summary', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - {'error_type': 'value_error', 'content': 'Parameter search_key value is not correct in prediction.'}
2025-08-25 11:21:45,306 - evaluation_logger_Car-Rental-104 - INFO - Success matched: [{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}, {'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0yNlQxNTowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6Ii0yNy4zODQxOTkxNDI0NTYxLDE1My4xMTcwMDQzOTQ1MzEiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0yMFQwOTowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiLTMxLjk0MTY5OTk4MTY4OTUsMTE1Ljk2NzAwMjg2ODY1MiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '657356933'}}]
2025-08-25 11:21:45,307 - evaluation_logger_Car-Rental-104 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "importantInfo": {
                "cta": {
                    "text": "More details",
                    "title": "Rental terms"
                },
                "subtitle": "Security deposit, damage excess, what you'll need at pick-up, and more",
                "title": "Important information",
                "items": [
                    {
                        "icon": "CREDIT_CARD",
                        "text": "<b>Payment card at pick-up:</b> Credit or debit card<br/>The main driver <b>must</b> have a credit or debit card in their own name when picking the car up."
                    }
                ]
            },
            "meta": {
                "response_code": 200
            },
            "metadata": {
                "navigation": {
                    "showExtrasStep": true
                }
            },
            "packages": [
                {
                    "id": "RC_FULL_PROTECTION",
                    "content": {
                        "description": "You could lose your whole deposit if the car is damaged or stolen, but as long as you have Full Protection, Booking.com will refund you!",
                        "title": "Add insurance...",
                        "subtitle": "for peace of mind",
                        "included": "Full Protection included",
                        "price": {
                            "label": "Total protection price",
                            "displayPrice": "US$158.01",
                            "priceAnnotation": {
                                "text": "Free cancellation"
                            }
                        },
                        "cta": {
                            "attach": "Read more",
                            "remove": "Remove Full Protection"
                        }
                    }
                }
            ],
            "whatsIncluded": {
                "title": "What's included",
                "items": [
                    {
                        "text": "<b>Free cancellation</b> up to 48 hours before pick-up",
                        "icon": "TICK"
                    },
                    {
                        "text": "Collision Damage Waiver (CDW)",
                        "icon": "TICK"
                    },
                    {
                        "icon": "TICK",
                        "text": "Theft Cover"
                    },
                    {
                        "text": "Third-Party Liability (TPL)",
                        "icon": "TICK"
                    }
                ]
            },
            "content": {
                "reviews": {
                    "title": "Reviews",
                    "supplier": {
                        "rating": {
                            "localisedRating": {
                                "rawValue": 9,
                                "displayValue": "9"
                            },
                            "subtitle": "1,614 reviews",
                            "average": "9.0",
                            "title": "Superb"
                        },
                        "name": "Ace Rental Cars"
                    }
                },
                "carCard": {
                    "supplier": {
                        "rating": {
                            "localisedRating": {
                                "rawValue": 9,
                                "displayValue": "9"
                            },
                            "subtitle": "1,614 reviews",
                            "title": "Superb",
                            "average": "9.0"
                        },
                        "name": "Ace Rental Cars"
                    },
                    "accessibility": {
                        "pick_up_location": "Pick-up information: Shuttle Bus",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Automatic gearbox",
                        "supplier_rating": "At this location, our customers have rated Ace Rental Cars as 9.0 out of 10, Superb."
                    },
                    "badges": [
                        {
                            "text": "Free cancellation",
                            "variation": "DEFAULT",
                            "type": "CONSTRUCTIVE"
                        }
                    ]
                }
            },
            "depots": {
                "dropoff": {
                    "latitude": "-27.403928",
                    "iataCode": "BNE",
                    "location_type": "SHUTTLE_BUS",
                    "id": "4000660",
                    "name": "Brisbane Airport",
                    "country_code": "AU",
                    "location_id": "4000660",
                    "address": "330, Nudgee Road, Brisbane, Australia, QLD 4011",
                    "longitude": "153.109388"
                },
                "pickup": {
                    "location_id": "3960186",
                    "address": "17 Ross Drive, Perth, Australia, WA 6105",
                    "longitude": "115.973554",
                    "id": "3960186",
                    "name": "Perth Airport",
                    "country_code": "AU",
                    "iataCode": "PER",
                    "location_type": "SHUTTLE_BUS",
                    "country": "Australia",
                    "city": "Perth",
                    "latitude": "-31.941529"
                }
            },
            "extras": [
                {
                    "detail": "If you want other people to drive as well",
                    "name": "Additional driver",
                    "id": "13917490523010",
                    "type": "ADDITIONAL_DRIVER",
                    "price": {
                        "perRental": {
                            "base": {
                                "value": 35,
                                "currency": "AUD"
                            },
                            "display": {
                                "currency": "USD",
                                "value": 23.24
                            }
                        },
                        "prePayable": false
                    },
                    "maxQuantityAvailable": 3
                },
                {
                    "name": "Baby seat",
                    "id": "14232272321010",
                    "detail": "For babies: up to 9 kg / 20 lbs (about 1 year old)",
                    "maxQuantityAvailable": 2,
                    "type": "BABY_SEAT",
                    "price": {
                        "prePayable": false,
                        "perRental": {
                            "display": {
                                "value": 27.86,
                                "currency": "USD"
                            },
                            "base": {
                                "currency": "AUD",
                                "value": 42
                            }
                        }
                    }
                },
                {
                    "maxQuantityAvailable": 2,
                    "price": {
                        "perRental": {
                            "display": {
                                "currency": "USD",
                                "value": 27.86
                            },
                            "base": {
                                "currency": "AUD",
                                "value": 42
                            }
                        },
                        "prePayable": false
                    },
                    "type": "CHILD_BOOSTER_SEAT",
                    "id": "13917490533010",
                    "name": "Booster seat",
                    "detail": "For bigger children: 18-45 kg / 40-100 lbs (about 4-11 years old)"
                }
            ],
            "supplier": {
                "rating": 9,
                "locationType": "Shuttle Bus"
            },
            "links": {
                "fullRentalTerms": {
                    "label": "Rental terms"
                }
            },
            "vehicle": {
                "price": {
                    "display": {
                        "value": 568.98,
                        "currency": "USD"
                    },
                    "driveAwayPriceIsApprox": true,
                    "base": {
                        "currency": "INR",
                        "value": 47853.77
                    },
                    "payWhen": "PAY_NOW",
                    "driveAway": {
                        "currency": "USD",
                        "value": 1897.08
                    }
                },
                "rentalDurationInDays": 7,
                "freeCancellation": true,
                "label": "Compact car with:",
                "carClass": "Compact",
                "fees": {
                    "payableFees": [
                        {
                            "displayPrice": {
                                "taxIncluded": true,
                                "minimumAmount": 1328.1,
                                "amount": 1328.1,
                                "currency": "USD",
                                "maximumAmount": 1328.1
                            },
                            "alwaysPayable": true,
                            "includedInPrice": true,
                            "distanceUnit": "M",
                            "price": {
                                "maximumAmount": 2000,
                                "currency": "AUD",
                                "amount": 2000,
                                "minimumAmount": 2000,
                                "taxIncluded": true
                            },
                            "unlimited": false,
                            "name": "One way fee"
                        }
                    ],
                    "otherFees": [
                        {
                            "name": "CREDIT_CARD_CHARGE_AMEX",
                            "includedInPrice": false,
                            "type": "CREDIT_CARD_CHARGE_AMEX",
                            "unlimited": false,
                            "price": {
                                "taxIncluded": true,
                                "minimumAmount": 0,
                                "amount": 0,
                                "currency": "AUD",
                                "maximumAmount": 0
                            },
                            "distanceUnit": "M",
                            "alwaysPayable": false,
                            "displayPrice": {
                                "minimumAmount": 0,
                                "taxIncluded": true,
                                "amount": 0,
                                "currency": "USD",
                                "maximumAmount": 0
                            }
                        },
                        {
                            "name": "CREDIT_CARD_CHARGE_DINERS",
                            "includedInPrice": false,
                            "type": "CREDIT_CARD_CHARGE_DINERS",
                            "unlimited": false,
                            "price": {
                                "currency": "AUD",
                                "maximumAmount": 0,
                                "taxIncluded": true,
                                "minimumAmount": 0,
                                "amount": 0
                            },
                            "distanceUnit": "M",
                            "alwaysPayable": false,
                            "displayPrice": {
                                "taxIncluded": true,
                                "minimumAmount": 0,
                                "amount": 0,
                                "currency": "USD",
                                "maximumAmount": 0
                            }
                        },
                        {
                            "name": "CREDIT_CARD_CHARGE_MASTERCARD",
                            "includedInPrice": false,
                            "type": "CREDIT_CARD_CHARGE_MASTERCARD",
                            "price": {
                                "taxIncluded": true,
                                "minimumAmount": 0,
                                "amount": 0,
                                "currency": "AUD",
                                "maximumAmount": 0
                            },
                            "unlimited": false,
                            "distanceUnit": "M",
                            "displayPrice": {
                                "amount": 0,
                                "minimumAmount": 0,
                                "taxIncluded": true,
                                "maximumAmount": 0,
                                "currency": "USD"
                            },
                            "alwaysPayable": false
                        },
                        {
                            "name": "CREDIT_CARD_CHARGE_VISA",
                            "type": "CREDIT_CARD_CHARGE_VISA",
                            "includedInPrice": false,
                            "price": {
                                "maximumAmount": 0,
                                "currency": "AUD",
                                "amount": 0,
                                "minimumAmount": 0,
                                "taxIncluded": true
                            },
                            "distanceUnit": "M",
                            "unlimited": false,
                            "displayPrice": {
                                "maximumAmount": 0,
                                "currency": "USD",
                                "amount": 0,
                                "taxIncluded": true,
                                "minimumAmount": 0
                            },
                            "alwaysPayable": false
                        },
                        {
                            "name": "DAMAGE_EXCESS",
                            "displayPrice": {
                                "currency": "USD",
                                "maximumAmount": 3917.9,
                                "minimumAmount": 3917.9,
                                "taxIncluded": true,
                                "amount": 3917.9
                            },
                            "alwaysPayable": true,
                            "includedInPrice": false,
                            "distanceUnit": "M",
                            "unlimited": false,
                            "price": {
                                "taxIncluded": true,
                                "minimumAmount": 5900,
                                "amount": 5900,
                                "currency": "AUD",
                                "maximumAmount": 5900
                            }
                        }
                    ]
                },
                "specification": {
                    "bigSuitcases": 1,
                    "numberOfDoors": "4",
                    "mileage": "Unlimited",
                    "numberOfSeats": "5",
                    "smallSuitcases": 1,
                    "fuelPolicy": "Like for like",
                    "transmission": "Automatic",
                    "airConditioning": true
                },
                "id": "657356933",
                "makeAndModel": "Mazda CX-30"
            }
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "customerReviews": {
                "reviews": [
                    {
                        "rating": "9.7",
                        "epochDay": 20020,
                        "positive": "all perfect and easy",
                        "type": "Couple",
                        "date": "Thu, Oct 24 2024",
                        "localisedRating": {
                            "rawValue": 9.7,
                            "displayValue": "9.7"
                        }
                    },
                    {
                        "rating": "6.9",
                        "negative": "Took too long to pick up the car - the company asked us to provide the flight info prior to our arrival, yet it still took about 40/45 minutes to get the car ready for us. We ask to pre-pay the petrol when we are filling out the paper work, after all the waiting the counter staff forgot to ",
                        "epochDay": 20019,
                        "positive": "Cleanliness of the car.",
                        "localisedRating": {
                            "rawValue": 6.9,
                            "displayValue": "6.9"
                        },
                        "date": "Wed, Oct 23 2024",
                        "type": "Family"
                    },
                    {
                        "localisedRating": {
                            "rawValue": 10,
                            "displayValue": "10"
                        },
                        "date": "Mon, Oct 21 2024",
                        "type": "Couple",
                        "positive": "Perfect for our needs. Staff were great.",
                        "epochDay": 20017,
                        "rating": "10"
                    },
                    {
                        "rating": "9.7",
                        "negative": "Nothing ",
                        "epochDay": 20015,
                        "positive": "Loved the car ",
                        "date": "Sat, Oct 19 2024",
                        "type": "Solo traveller",
                        "localisedRating": {
                            "displayValue": "9.7",
                            "rawValue": 9.7
                        }
                    },
                    {
                        "rating": "9.7",
                        "epochDay": 20015,
                        "positive": "The staff made a real difference - they showed how other car rental businesses should be run!",
                        "date": "Sat, Oct 19 2024",
                        "localisedRating": {
                            "rawValue": 9.7,
                            "displayValue": "9.7"
                        },
                        "type": "Couple"
                    }
                ],
                "sort": {
                    "pageTitle": "Sort by",
                    "ctaTitle": "Sort by",
                    "options": {
                        "items": [
                            {
                                "id": "score.descending",
                                "label": "Highest scores"
                            },
                            {
                                "label": "Lowest scores",
                                "id": "score.ascending"
                            },
                            {
                                "label": "Newest first",
                                "id": "date.descending"
                            },
                            {
                                "label": "Oldest first",
                                "id": "date.ascending"
                            }
                        ],
                        "default": "score.descending"
                    }
                },
                "title": "Customer reviews"
            },
            "supplier": {
                "title": "Rental company",
                "name": "Ace Rental Cars",
                "rating": {
                    "subtitle": "1,614 reviews",
                    "average": "9.0",
                    "title": "Superb",
                    "localisedRating": {
                        "displayValue": "9",
                        "rawValue": 9
                    },
                    "breakdown": [
                        {
                            "score": "8.8",
                            "title": "Overall value for money of your vehicle hire",
                            "localisedRating": {
                                "displayValue": "8.8",
                                "rawValue": 8.8
                            }
                        },
                        {
                            "title": "Helpfulness",
                            "localisedRating": {
                                "displayValue": "9.4",
                                "rawValue": 9.4
                            },
                            "score": "9.4"
                        },
                        {
                            "localisedRating": {
                                "displayValue": "7.8",
                                "rawValue": 7.8
                            },
                            "title": "Pick-up speed",
                            "score": "7.8"
                        },
                        {
                            "score": "9.6",
                            "title": "Drop-off speed",
                            "localisedRating": {
                                "displayValue": "9.6",
                                "rawValue": 9.6
                            }
                        },
                        {
                            "title": "Car cleanliness",
                            "localisedRating": {
                                "displayValue": "9.4",
                                "rawValue": 9.4
                            },
                            "score": "9.4"
                        }
                    ]
                }
            }
        }
    },
    {
        "api_status": true,
        "content": "There is a problem with your api call, please double-check for possible problems."
    }
]

2025-08-25 11:24:54,292 - evaluation_logger_Car-Rental-104 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 概述

## 1.1 什么是MyBatis

- MyBatis 是一款优秀的**持久层框架**
- 它支持自定义 SQL、存储过程以及高级映射。
- MyBatis 免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作。
- MyBatis 可以通过简单的 XML 或注解来配置和映射原始类型、接口和 Java POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录。

## 1.2 持久化

数据持久化

- 持久化就是将程序的数据在持久状态和瞬时状态转化的过程
- 内存：**断电即失**
- 数据库(jdbc)，io文件持久化。

## 1.3 持久层

Dao层，Service层，Controller层…

- 完成持久化工作的代码块
- 层界限十分明显。

## 1.4 为什么需要Mybatis

- 帮助程序猿将数据存入到数据库中。
- 方便
- 传统的JDBC代码太复杂了。简化。框架。自动化。
- 不用Mybatis也可以。更容易上手。 **技术没有高低之分**
- 优点：
  - 简单易学
  - 灵活
  - sql和代码的分离，提高了可维护性。
  - 提供映射标签，支持对象与数据库的orm字段关系映射
  - 提供对象关系映射标签，支持对象关系组建维护
  - 提供xml标签，支持编写动态sql。

# 2. 第一个Mybatis程序

思路：搭建环境-->导入Mybatis-->编写代码-->测试！

## 2.1 搭建环境

搭建数据库

```sql
CREATE DATABASE `mybatis`;

USE `mybatis`;

CREATE TABLE `user`(
  `id` INT(20) NOT NULL PRIMARY KEY,
  `name` VARCHAR(30) DEFAULT NULL,
  `pwd` VARCHAR(30) DEFAULT NULL
)ENGINE=INNODB DEFAULT CHARSET=utf8;

INSERT INTO `user`(`id`,`name`,`pwd`) VALUES 
(1,'狂神','123456'),
(2,'张三','123456'),
(3,'李四','123890')
```

新建项目

1. 新建一个普通的maven项目
2. 删除src目录
3. 导入maven依赖

```xml
<!--导入依赖-->
<dependencies>
    <!--mysql驱动-->
    <dependency>
        <groupId>mysql</groupId>
        <artifactId>mysql-connector-java</artifactId>
        <version>5.1.47</version>
    </dependency>
    <!--mybatis-->
    <dependency>
        <groupId>org.mybatis</groupId>
        <artifactId>mybatis</artifactId>
        <version>3.5.2</version>
    </dependency>
    <!--junit-->
    <dependency>
        <groupId>junit</groupId>
        <artifactId>junit</artifactId>
        <version>4.12</version>
    </dependency>
</dependencies>
```

## 2.2 创建一个模块

- 编写mybatis的核心配置文件

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE configuration
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-config.dtd">
<!--configuration核心配置文件-->
<configuration>

    <environments default="development">
        <environment id="development">
            <transactionManager type="JDBC"/>
            <dataSource type="POOLED">
                <property name="driver" value="com.mysql.jdbc.Driver"/>
                <property name="url" value="jdbc:mysql://localhost:3306/mybatis?useSSL=true&amp;useUnicode=true&amp;characterEncoding=UTF-8"/>
                <property name="username" value="root"/>
                <property name="password" value="123456"/>
            </dataSource>
        </environment>
    </environments>

</configuration>
```

- 编写mybatis工具类

```java
//sqlSessionFactory --> sqlSession
public class MybatisUtils {

    private static SqlSessionFactory sqlSessionFactory;

    static{
        try {
            //使用Mybatis第一步：获取sqlSessionFactory对象
            String resource = "mybatis-config.xml";
            InputStream inputStream = Resources.getResourceAsStream(resource);
            sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    //既然有了 SqlSessionFactory，顾名思义，我们可以从中获得 SqlSession 的实例。
    // SqlSession 提供了在数据库执行 SQL 命令所需的所有方法。
    public static SqlSession getSqlSession(){
        return sqlSessionFactory.openSession();
    }

}
```

## 2.3 编写代码

- 实体类

```java
public class User {
    private int id;
    private String name;
    private String pwd;

    public User() {
    }

    public User(int id, String name, String pwd) {
        this.id = id;
        this.name = name;
        this.pwd = pwd;
    }

    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getPwd() {
        return pwd;
    }

    public void setPwd(String pwd) {
        this.pwd = pwd;
    }

    @Override
    public String toString() {
        return "User{" +
                "id=" + id +
                ", name='" + name + '\'' +
                ", pwd='" + pwd + '\'' +
                '}';
    }
}
```

- Dao接口

```java
public interface UserDao {
    List<User> getUserList();
}
```

- 接口实现类由原来的UserDaoImpl转变为一个 Mapper配置文件.

```xml
<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!--namespace=绑定一个对应的Dao/Mapper接口-->
<mapper namespace="com.kuang.dao.UserDao">

    <!--select查询语句-->
    <select id="getUserList" resultType="com.kuang.pojo.User">
        select * from mybatis.user
    </select>

</mapper>
```

## 2.4 测试

注意点：

org.apache.ibatis.binding.BindingException: Type interface com.kuang.dao.UserDao is not known to the MapperRegistry.

**MapperRegistry是什么？**

核心配置文件中注册 mappers

- junit测试

```java
@Test
public void test(){
    //第一步：获得SqlSession对象
    SqlSession sqlSession = MybatisUtils.getSqlSession();


    //方式一：getMapper
    UserDao userDao = sqlSession.getMapper(UserDao.class);
    List<User> userList = userDao.getUserList();

    for (User user : userList) {
        System.out.println(user);
    }

    //关闭SqlSession
    sqlSession.close();
}
```

可能会遇到的问题：

1. 配置文件没有注册
2. 绑定接口错误。
3. 方法名不对
4. 返回类型不对
5. Maven导出资源问题

# 3. CRUD

## 1. namespace

namespace中的包名要和 Dao/mapper 接口的包名一致！

## 2. select

选择，查询语句;

- id : 就是对应的namespace中的方法名；
- resultType：Sql语句执行的返回值！
- parameterType ： 参数类型！

1. 编写接口

```java
//根据ID查询用户
User getUserById(int id);
```

2. 编写对应的mapper中的sql语句

```xml
<select id="getUserById" parameterType="int" resultType="com.kuang.pojo.User">
    select * from mybatis.user where id = #{id}
</select>
```

3. 测试

```java
@Test
public void getUserById() {
    SqlSession sqlSession = MybatisUtils.getSqlSession();

    UserMapper mapper = sqlSession.getMapper(UserMapper.class);

    User user = mapper.getUserById(1);
    System.out.println(user);

    sqlSession.close();
}
```

## 3. Insert

```xml
<!--对象中的属性，可以直接取出来-->
<insert id="addUser" parameterType="com.kuang.pojo.User">
    insert into mybatis.user (id, name, pwd) values (#{id},#{name},#{pwd});
</insert>
```

## 4. update

```xml
<update id="updateUser" parameterType="com.kuang.pojo.User">
    update mybatis.user set name=#{name},pwd=#{pwd}  where id = #{id} ;
</update>
```

## 5. Delete

```xml
<delete id="deleteUser" parameterType="int">
    delete from mybatis.user where id = #{id};
</delete>
```

注意点：

- 增删改需要提交事务！

## 6. 分析错误

- 标签不要匹配错
- resource 绑定mapper，需要使用路径！
- 程序配置文件必须符合规范！
- NullPointerException，没有注册到资源!
- 输出的xml文件中存在中文乱码问题！
- maven资源没有导出问题！

## 7. 万能Map

假设，我们的实体类，或者数据库中的表，字段或者参数过多，我们应当考虑使用Map！

```java
//万能的Map
int addUser2(Map<String,Object> map);
```

```xml
<!--对象中的属性，可以直接取出来    传递map的key-->
<insert id="addUser2" parameterType="map">
    insert into mybatis.user (id, pwd) values (#{userid},#{passWord});
</insert>
```

```java
@Test
public void addUser2(){
    SqlSession sqlSession = MybatisUtils.getSqlSession();

    UserMapper mapper = sqlSession.getMapper(UserMapper.class);


    Map<String, Object> map = new HashMap<String, Object>();
    map.put("userid",5);
    map.put("passWord","2222333");

    mapper.addUser2(map);

    sqlSession.commit();
    sqlSession.close();
}
```

Map传递参数，直接在sql中取出key即可！ 【parameterType="map"】

对象传递参数，直接在sql中取对象的属性即可！【parameterType="Object"】

只有一个基本类型参数的情况下，可以直接在sql中取到！

多个参数用Map，**或者注解！**

## 8. 思考题

模糊查询怎么写？

1. Java代码执行的时候，传递通配符 % %

```java
List<User> userList = mapper.getUserLike("%李%");
```

2. 在sql拼接中使用通配符！

```sql
select * from mybatis.user where name like "%"#{value}"%"
```

# 4. 配置解析

## 1. 核心配置文件

- mybatis-config.xml

- MyBatis 的配置文件包含了会深深影响 MyBatis 行为的设置和属性信息。

```xml
configuration（配置）
properties（属性）
settings（设置）
typeAliases（类型别名）
typeHandlers（类型处理器）
objectFactory（对象工厂）
plugins（插件）
environments（环境配置）
environment（环境变量）
transactionManager（事务管理器）
dataSource（数据源）
databaseIdProvider（数据库厂商标识）
mappers（映射器）
```

## 2. 环境配置（environments）

MyBatis 可以配置成适应多种环境

**不过要记住：尽管可以配置多个环境，但每个 SqlSessionFactory 实例只能选择一种环境。**

学会使用配置多套运行环境！

Mybatis默认的事务管理器就是 JDBC ， 连接池 ： POOLED

## 3. 属性（properties）

我们可以通过properties属性来实现引用配置文件

这些属性都是可外部配置且可动态替换的，既可以在典型的 Java 属性文件中配置，亦可通过 properties 元素的子元素来传递。【db.properties】

编写一个配置文件

db.properties

```properties
driver=com.mysql.jdbc.Driver
url=jdbc:mysql://localhost:3306/mybatis?useSSL=true&useUnicode=true&characterEncoding=UTF-8
username=root
password=123456
```

在核心配置文件中映入

```xml
<!--引入外部配置文件-->
<properties resource="db.properties">
    <property name="username" value="root"/>
    <property name="pwd" value="11111"/>
</properties>
```

- 可以直接引入外部文件
- 可以在其中增加一些属性配置
- 如果两个文件有同一个字段，优先使用外部配置文件的！

## 4. 类型别名（typeAliases）

- 类型别名是为 Java 类型设置一个短的名字。‘
- 存在的意义仅在于用来减少类完全限定名的冗余。

```xml
<!--可以给实体类起别名-->
<typeAliases>
    <typeAlias type="com.kuang.pojo.User" alias="User"/>
</typeAliases>
```

也可以指定一个包名，MyBatis 会在包名下面搜索需要的 Java Bean，比如：

扫描实体类的包，它的默认别名就为这个类的 类名，首字母小写！

```xml
<!--可以给实体类起别名-->
<typeAliases>
    <package name="com.kuang.pojo"/>
</typeAliases>
```

在实体类比较少的时候，使用第一种方式。

如果实体类十分多，建议使用第二种。

第一种可以DIY别名，第二种则·不行·，如果非要改，需要在实体上增加注解

```java
@Alias("user")
public class User {}
```

## 5. 设置

这是 MyBatis 中极为重要的调整设置，它们会改变 MyBatis 的运行时行为。

![image-20200709164205053](F:\笔记\mybatis\assets\设置.png)

## 6. 其他配置

- [typeHandlers（类型处理器）](https://mybatis.org/mybatis-3/zh/configuration.html#typeHandlers)
- [objectFactory（对象工厂）](https://mybatis.org/mybatis-3/zh/configuration.html#objectFactory)
- plugins插件
  - mybatis-generator-core
  - mybatis-plus
  - 通用mapper

## 7. 映射器（mappers）

MapperRegistry：注册绑定我们的Mapper文件；

方式一： 【推荐使用】

```xml
<!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！-->
<mappers>
    <mapper resource="com/kuang/dao/UserMapper.xml"/>
</mappers>
```

方式二：使用class文件绑定注册

```xml
<!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！-->
<mappers>
    <mapper class="com.kuang.dao.UserMapper"/>
</mappers>
```

注意点：

- 接口和他的Mapper配置文件必须同名！
- 接口和他的Mapper配置文件必须在同一个包下！

方式三：使用扫描包进行注入绑定

```xml
<!--每一个Mapper.XML都需要在Mybatis核心配置文件中注册！-->
<mappers>
    <package name="com.kuang.dao"/>
</mappers>
```

注意点：

- 接口和他的Mapper配置文件必须同名！
- 接口和他的Mapper配置文件必须在同一个包下！

练习时间：

- 将数据库配置文件外部引入
- 实体类别名
- 保证UserMapper 接口 和 UserMapper .xml 改为一致！并且放在同一个包下！

## 8. 生命周期和作用域

生命周期，和作用域，是至关重要的，因为错误的使用会导致非常严重的**并发问题**。

**SqlSessionFactoryBuilder：**

- 一旦创建了 SqlSessionFactory，就不再需要它了
- 局部变量

**SqlSessionFactory：**

- 说白了就是可以想象为 ：数据库连接池
- SqlSessionFactory 一旦被创建就应该在应用的运行期间一直存在，**没有任何理由丢弃它或重新创建另一个实例。**
- 因此 SqlSessionFactory 的最佳作用域是应用作用域。
- 最简单的就是使用**单例模式**或者静态单例模式。

**SqlSession：**

- 连接到连接池的一个请求！
- SqlSession 的实例不是线程安全的，因此是不能被共享的，所以它的最佳的作用域是请求或方法作用域。
- 用完之后需要赶紧关闭，否则资源被占用！

![image-20200709170305053](F:\笔记\mybatis\assets\生命周期.png)

这里面的每一个Mapper，就代表一个具体的业务！

# 5. 解决属性名和字段名不一致的问题

## 1. 问题

数据库中的字段

![image-20200709170539784](F:\笔记\mybatis\assets\数据库字段.png)

新建一个项目，拷贝之前的，测试实体类字段不一致的情况

```java
public class User {

    private int id;
    private String name;
    private String password;
}
```

测试出现问题

![image-20200709170700684](F:\笔记\mybatis\assets\测试出现问题.png)

```sql
// select * from mybatis.user where id = #{id}
// 类型处理器
// select id,name,pwd from mybatis.user where id = #{id}
```

## 2. resultMap

结果集映射

```
id   name   pwd
id   name   password
```

```xml
<!--结果集映射-->
<resultMap id="UserMap" type="User">
    <!--column数据库中的字段，property实体类中的属性-->
    <result column="id" property="id"/>
    <result column="name" property="name"/>
    <result column="pwd" property="password"/>
</resultMap>

<select id="getUserById" resultMap="UserMap">
    select * from mybatis.user where id = #{id}
</select>
```

- `resultMap` 元素是 MyBatis 中最重要最强大的元素
- ResultMap 的设计思想是，对于简单的语句根本不需要配置显式的结果映射，而对于复杂一点的语句只需要描述它们的关系就行了。
- `ResultMap` 最优秀的地方在于，虽然你已经对它相当了解了，但是根本就不需要显式地用到他们。

# 6. 日志

## 6.1 日志工厂

如果一个数据库操作，出现了异常，我们需要排错。日志就是最好的助手！

曾经：sout 、debug

现在：日志工厂！

![image-20200709171539784](F:\笔记\mybatis\assets\日志工厂.png)

- SLF4J
- LOG4J 【掌握】
- LOG4J2
- JDK_LOGGING
- COMMONS_LOGGING
- STDOUT_LOGGING 【掌握】
- NO_LOGGING

在Mybatis中具体使用那个一日志实现，在设置中设定！

**STDOUT_LOGGING标准日志输出**

在mybatis核心配置文件中，配置我们的日志！

```xml
<settings>
    <setting name="logImpl"

2025-08-25 11:25:01,967 - evaluation_logger_Car-Rental-104 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about car rental details, vehicle, supplier, or booking summary.'}
2025-08-25 11:25:08,294 - evaluation_logger_Car-Rental-104 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 11:25:08,294 - evaluation_logger_Car-Rental-104 - INFO - Message: [{'error_type': 'value_error', 'content': 'Parameter search_key value is not correct in prediction.'}]
2025-08-25 11:25:08,294 - evaluation_logger_Car-Rental-104 - INFO - Success turn num = 2
2025-08-25 11:25:08,294 - evaluation_logger_Car-Rental-104 - INFO - ----------------------------------------------------------------------------------------------------
