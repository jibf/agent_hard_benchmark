2025-08-25 12:32:56,074 - evaluation_logger_Hotels-12 - INFO - Test Example Hotels-12
2025-08-25 12:32:56,074 - evaluation_logger_Hotels-12 - INFO - Query: Today is November 30th, 2024. I'm currently at a location with a latitude of 38.2342 and a longitude of 104.7374. Check the detailed information about all the available hotel rooms within 120 kilometers of here for tonight.
2025-08-25 12:33:06,478 - evaluation_logger_Hotels-12 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "latitude": "38.2342",
            "longitude": "104.7374",
            "arrival_date": "2024-11-30",
            "departure_date": "2024-12-01",
            "radius": 120
        }
    }
]

2025-08-25 12:33:06,479 - evaluation_logger_Hotels-12 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "latitude": "38.2342",
            "longitude": "104.7374",
            "arrival_date": "2024-11-30",
            "departure_date": "2024-12-01",
            "radius": 120
        }
    }
]

2025-08-25 12:33:06,479 - evaluation_logger_Hotels-12 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'latitude': '38.2342', 'longitude': '104.7374', 'radius': 120}}
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'latitude': '38.2342', 'longitude': '104.7374', 'radius': 120}}
2025-08-25 12:33:06,479 - evaluation_logger_Hotels-12 - INFO - Rule-based compare success.
2025-08-25 12:33:06,479 - evaluation_logger_Hotels-12 - INFO - Success matched: [{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'latitude': '38.2342', 'longitude': '104.7374', 'radius': 120}}]
2025-08-25 12:33:06,480 - evaluation_logger_Hotels-12 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "extended_count": 0,
            "primary_count": 3,
            "result": [
                {
                    "hotel_id": 2686901,
                    "class": 3,
                    "genius_discount_percentage": 0,
                    "last_reservation_data": {
                        "last_reservation_ellapsed_months": 1
                    },
                    "bwallet": {
                        "hotel_eligibility": 0
                    },
                    "hotel_has_vb_boost": 0,
                    "is_genius_deal": 0,
                    "timezone": "Asia/Chongqing",
                    "checkin": {
                        "from": "14:00",
                        "until": "18:00"
                    },
                    "accommodation_type": 204,
                    "preferred": 0,
                    "hotel_include_breakfast": 0,
                    "countrycode": "cn",
                    "min_total_price": 218,
                    "hotel_name_trans": "Jinjiang Inn Select Zhongwei Shapotou Shui Town",
                    "hotel_name": "Jinjiang Inn Select Zhongwei Shapotou Shui Town",
                    "city_in_trans": "in Zhongwei",
                    "latitude": 37.4931820868714,
                    "extended": 0,
                    "id": "property_card_2686901",
                    "checkout": {
                        "until": "12:00"
                    },
                    "is_smart_deal": 0,
                    "is_no_prepayment_block": 1,
                    "city": "Zhongwei",
                    "default_language": "en",
                    "unit_configuration_label": "<b>Hotel room</b>",
                    "class_is_estimated": 1,
                    "soldout": 0,
                    "preferred_plus": 0,
                    "composite_price_breakdown": {
                        "client_translations": {
                            "tooltip_total_text": "Total"
                        },
                        "all_inclusive_amount_hotel_currency": {
                            "value": 218,
                            "amount_unrounded": "CNY 218",
                            "currency": "CNY",
                            "amount_rounded": "CNY 218"
                        },
                        "gross_amount_per_night": {
                            "amount_rounded": "US$31",
                            "currency": "USD",
                            "value": 30.6366951891254,
                            "amount_unrounded": "US$30.64"
                        },
                        "items": [
                            {
                                "base": {
                                    "kind": "not_applicable",
                                    "base_amount": 0
                                },
                                "inclusion_type": "excluded",
                                "kind": "charge",
                                "name": "City tax",
                                "item_amount": {
                                    "currency": "USD",
                                    "amount_rounded": "US$0",
                                    "amount_unrounded": "US$0",
                                    "value": 0
                                }
                            },
                            {
                                "base": {
                                    "kind": "not_applicable",
                                    "base_amount": 0
                                },
                                "name": "VAT",
                                "item_amount": {
                                    "amount_rounded": "US$0",
                                    "currency": "USD",
                                    "value": 0,
                                    "amount_unrounded": "US$0"
                                },
                                "kind": "charge",
                                "inclusion_type": "excluded"
                            }
                        ],
                        "all_inclusive_amount": {
                            "amount_unrounded": "US$30.64",
                            "value": 30.6366951891254,
                            "amount_rounded": "US$31",
                            "currency": "USD"
                        },
                        "net_amount": {
                            "amount_rounded": "US$31",
                            "currency": "USD",
                            "value": 30.6366951891254,
                            "amount_unrounded": "US$30.64"
                        },
                        "has_long_stays_monthly_rate_price": 0,
                        "gross_amount": {
                            "currency": "USD",
                            "amount_rounded": "US$31",
                            "value": 30.6366951891254,
                            "amount_unrounded": "US$30.64"
                        },
                        "has_long_stays_weekly_rate_price": 0,
                        "charges_details": {
                            "amount": {
                                "value": 0,
                                "currency": "USD"
                            },
                            "mode": "all_included"
                        },
                        "included_taxes_and_charges_amount": {
                            "amount_rounded": "US$0",
                            "currency": "USD",
                            "value": 0,
                            "amount_unrounded": "US$0"
                        },
                        "gross_amount_hotel_currency": {
                            "amount_unrounded": "CNY 218",
                            "value": 218,
                            "amount_rounded": "CNY 218",
                            "currency": "CNY"
                        },
                        "excluded_amount": {
                            "amount_rounded": "US$0",
                            "currency": "USD",
                            "amount_unrounded": "US$0",
                            "value": 0
                        },
                        "price_display_config": [
                            {
                                "value": 0,
                                "key": "use_nightly_prices"
                            }
                        ]
                    },
                    "is_free_cancellable": 1,
                    "longitude": 105.17988944838,
                    "ufi": -1939233,
                    "default_wishlist_name": "Zhongwei",
                    "block_ids": [
                        "268690110_195358826_0_0_0"
                    ],
                    "currencycode": "CNY",
                    "type": "property_card",
                    "main_photo_id": 113739724
                }
            ],
            "unfiltered_count": 4,
            "room_distribution": [
                {
                    "adults": "1"
                }
            ],
            "unfiltered_primary_count": 4,
            "has_low_availability": 1,
            "b_max_los_data": {
                "has_extended_los": 1,
                "experiment": "long_stays_ios_extend_los_2",
                "max_allowed_los": 90,
                "extended_los": 90,
                "default_los": 45,
                "is_fullon": 0
            },
            "page_loading_threshold": 10,
            "count": 3
        }
    }
]

2025-08-25 12:33:18,064 - evaluation_logger_Hotels-12 - INFO - Function Calls: 
[
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "2686901",
            "arrival_date": "2024-11-30",
            "departure_date": "2024-12-01"
        }
    }
]

2025-08-25 12:33:18,064 - evaluation_logger_Hotels-12 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "2686901",
            "arrival_date": "2024-11-30",
            "departure_date": "2024-12-01"
        }
    }
]

2025-08-25 12:33:18,064 - evaluation_logger_Hotels-12 - INFO - Start compare_single_call: 
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'hotel_id': '2686901'}}
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'hotel_id': '2686901'}}
2025-08-25 12:33:18,064 - evaluation_logger_Hotels-12 - INFO - Rule-based compare success.
2025-08-25 12:33:18,064 - evaluation_logger_Hotels-12 - INFO - Success matched: [{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-30', 'departure_date': '2024-12-01', 'hotel_id': '2686901'}}]
2025-08-25 12:33:18,067 - evaluation_logger_Hotels-12 - INFO - Observations:
[
    {
        "status": true,
        "available": [
            {
                "all_inclusive": 0,
                "is_last_minute_deal": 0,
                "max_children_free_age": 12,
                "name": "Standard Double Room - Free cancellation",
                "product_price_breakdown": {
                    "charges_details": {
                        "mode": "all_included",
                        "amount": {
                            "currency": "USD",
                            "value": 0
                        }
                    },
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "value": 30.6366951891254,
                        "amount_unrounded": "US$30.64",
                        "amount_rounded": "US$31"
                    },
                    "all_inclusive_amount": {
                        "amount_unrounded": "US$30.64",
                        "amount_rounded": "US$31",
                        "currency": "USD",
                        "value": 30.6366951891254
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "nr_stays": 10,
                    "items": [
                        {
                            "name": "City tax",
                            "item_amount": {
                                "amount_unrounded": "US$0",
                                "amount_rounded": "US$0",
                                "currency": "USD",
                                "value": 0
                            },
                            "inclusion_type": "excluded",
                            "base": {
                                "kind": "not_applicable",
                                "base_amount": 0
                            },
                            "kind": "charge"
                        },
                        {
                            "inclusion_type": "excluded",
                            "base": {
                                "base_amount": 0,
                                "kind": "not_applicable"
                            },
                            "kind": "charge",
                            "name": "VAT",
                            "item_amount": {
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0",
                                "value": 0,
                                "currency": "USD"
                            }
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "value": 0,
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "net_amount": {
                        "amount_rounded": "US$31",
                        "amount_unrounded": "US$30.64",
                        "value": 30.6366951891254,
                        "currency": "USD"
                    },
                    "gross_amount": {
                        "value": 30.6366951891254,
                        "currency": "USD",
                        "amount_rounded": "US$31",
                        "amount_unrounded": "US$30.64"
                    },
                    "excluded_amount": {
                        "amount_rounded": "US$0",
                        "amount_unrounded": "US$0",
                        "value": 0,
                        "currency": "USD"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "currency": "CNY",
                        "value": 218,
                        "amount_unrounded": "CNY 218",
                        "amount_rounded": "CNY 218"
                    },
                    "gross_amount_hotel_currency": {
                        "amount_unrounded": "CNY 218",
                        "amount_rounded": "CNY 218",
                        "currency": "CNY",
                        "value": 218
                    },
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "has_long_stays_weekly_rate_price": 0
                },
                "nr_children": 0,
                "max_children_free": 1,
                "roomtype_id": 9,
                "number_of_bedrooms": 0,
                "is_secret_deal": 0,
                "refundable_until": "2024-11-30 18:00:00 +0800",
                "extrabed_available": 0,
                "mealplan": "There is no meal option with this room.",
                "genius_discount_percentage": 0,
                "smoking": 2,
                "room_name": "Standard Double Room",
                "is_domestic_rate": 0,
                "package_id": 0,
                "name_without_policy": "Standard Double Room",
                "is_flash_deal": 0,
                "half_board": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "can_reserve_free_parking": 0,
                "policy_display_details": {
                    "nocc": {
                        "policy_type_key": "no_credit_card",
                        "title_details": {
                            "placeholder_translation": "No credit card needed",
                            "translation": "No credit card needed",
                            "tag": "payment_no_cc_needed_name"
                        },
                        "description_details": {
                            "tag": "payment_no_cc_needed_lf_pay_during_stay_description",
                            "translation": "You'll pay during your stay.",
                            "placeholder_translation": "You'll pay during your stay."
                        }
                    },
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "title_details": {
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        },
                        "type": "no_prepayment"
                    },
                    "cancellation": {
                        "type": "free_cancellation",
                        "description_details": {
                            "translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "parameters": {
                                "timezone": "Asia/Chongqing",
                                "date": "2024-11-30T18:00:00+08:00"
                            },
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Chongqing)"
                        },
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "title_details": {
                            "placeholder_translation": "<b>Free cancellation</b> before {time} on {date}",
                            "has_html": 1,
                            "translation": "<b>Free cancellation</b> before 18:00 on 30 November 2024",
                            "parameters": {
                                "date": "30 November 2024",
                                "time": "18:00",
                                "free_cancellation_deadline": "2024-11-30T18:00:00+08:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "tag": "cxl_fc_before_time_date_name"
                        },
                        "policy_type_key": "super_flex"
                    }
                },
                "paymentterms": {
                    "prepayment": {
                        "description": "You'll pay during your stay.",
                        "type": "no_prepayment",
                        "type_extended": "non_refundable_prepayment",
                        "timeline": {
                            "stages": [
                                {
                                    "b_state": "FREE",
                                    "limit_until_raw": "2024-11-30 23:59:59",
                                    "u_fee_remaining_pretty": "US$ 30",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "u_fee": "0.00",
                                    "fee_remaining": 218,
                                    "u_fee_pretty": "US$ 0",
                                    "b_number": 0,
                                    "stage_fee": 0,
                                    "limit_until_time": "23:59",
                                    "limit_from": "18 October 2024 04:25",
                                    "u_fee_remaining": "30.64",
                                    "amount": "0.00",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_until_date": "30 November 2024",
                                    "text": "Before you stay you'll pay",
                                    "is_free": 1,
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 0,
                                    "amount_pretty": "US$ 0",
                                    "limit_from_time": "04:25",
                                    "limit_until": "30 November 2024 23:59",
                                    "u_stage_fee": "0.00",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "fee": 0,
                                    "fee_pretty": "CNY 0",
                                    "fee_remaining_pretty": "CNY 218",
                                    "current_stage": 1,
                                    "fee_rounded": 0
                                },
                                {
                                    "after_checkin": 1,
                                    "text": "At the property you'll pay",
                                    "amount_pretty": "US$ 30",
                                    "amount": "30.64",
                                    "is_free": 0
                                }
                            ],
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "nr_stages": 2,
                            "currency_code": "CNY"
                        },
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "extended_type_translation": "No payment needed today",
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today"
                    },
                    "cancellation": {
                        "guaranteed_non_refundable": 0,
                        "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "type": "free_cancellation",
                        "non_refundable_anymore": 0,
                        "timeline": {
                            "stages": [
                                {
                                    "stage_translation": "Free to cancel",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 0",
                                    "u_fee": "0.00",
                                    "limit_until_raw": "2024-11-30 17:59:59",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 30",
                                    "stage_fee": 0,
                                    "limit_until_time": "17:59",
                                    "limit_from": "18 October 2024 04:25",
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 218,
                                    "b_number": 0,
                                    "u_stage_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-30 17:59:59 +0800",
                                    "u_fee_remaining": "30.64",
                                    "text_refundable": "You'll get a full refund if you cancel before 17:59 on 30 November 2024.",
                                    "is_free": 1,
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 0,
                                    "limit_until_date": "30 November 2024",
                                    "text": "Free cancellation until 17:59 on 30 Nov",
                                    "u_stage_fee": "0.00",
                                    "limit_from_time": "04:25",
                                    "limit_until": "30 November 2024 17:59",
                                    "limit_from_date": "18 October 2024",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "fee": 0,
                                    "current_stage": 1,
                                    "fee_rounded": 0,
                                    "fee_remaining_pretty": "CNY 218",
                                    "fee_pretty": "CNY 0"
                                },
                                {
                                    "limit_from_raw": "2024-11-30 18:00:00",
                                    "limit_from_date": "30 November 2024",
                                    "amount_pretty": "US$ 31",
                                    "limit_from_time": "18:00",
                                    "limit_until": "30 November 2024 18:00",
                                    "u_stage_fee": "30.64",
                                    "fee_pretty": "CNY 218",
                                    "fee_remaining_pretty": "CNY 0",
                                    "fee_rounded": 218,
                                    "current_stage": 0,
                                    "fee": 218,
                                    "b_number": 1,
                                    "u_fee_pretty": "US$ 31",
                                    "fee_remaining": 0,
                                    "limit_until_time": "18:00",
                                    "stage_fee": 218,
                                    "limit_from": "30 November 2024 18:00",
                                    "b_state": "NONREF",
                                    "limit_until_raw": "2024-11-30 18:00:00",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "stage_translation": "No refund if you cancel",
                                    "u_fee": "30.64",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 218",
                                    "text": "From 18:00 on 30 Nov",
                                    "limit_until_date": "30 November 2024",
                                    "date_from": "2024-11-30 18:00:00 +0800",
                                    "text_refundable": "If you cancel from 18:00 on 30 November 2024, you will no longer be eligible for a refund.",
                                    "is_free": 0,
                                    "effective_number": 1,
                                    "limit_timezone": "Zhongwei",
                                    "u_fee_remaining": "0.00",
                                    "u_stage_fee_pretty": "US$ 31",
                                    "amount": 30.64
                                }
                            ],
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "nr_stages": 2,
                            "currency_code": "CNY"
                        },
                        "bucket": "SMP_FULLY_FLEX",
                        "type_translation": "Free cancellation",
                        "info": {
                            "date_raw": "2024-11-30 18:00:00",
                            "time": "18:00",
                            "timezone_offset": "28800",
                            "timezone": "CST",
                            "date_before_raw": "2024-11-29",
                            "date": "30 November 2024",
                            "refundable": 1,
                            "refundable_date": "2024-11-30T18:00:00+08:00",
                            "date_before": "29 November 2024"
                        }
                    }
                },
                "is_block_fit": 1,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "must_reserve_free_parking": 0,
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "key": "NoPrepaymentKey",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "credit_card",
                            "text": "Prepayment",
                            "type": "prepayment",
                            "description": "No prepayment is needed."
                        },
                        {
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "type": "datetime",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "time"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Chongqing",
                                    "type": "timezone"
                                }
                            ],
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "super_flex",
                            "icon": "checkmark_fill"
                        }
                    ],
                    "policies": [
                        {
                            "icon": "checkmark_fill",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "super_flex",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "type": "datetime",
                                    "key": "date"
                                },
                                {
                                    "key": "time",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "type": "datetime"
                                },
                                {
                                    "key": "timezone",
                                    "type": "timezone",
                                    "value": "Asia/Chongqing"
                                }
                            ],
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {time} on {date}"
                        },
                        {
                            "description": "No prepayment is needed.",
                            "type": "prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "icon": "checkmark_fill",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey"
                        },
                        {
                            "description": "You'll pay during your stay.",
                            "type": "nocc",
                            "text": "No credit card needed",
                            "icon": "credit_card_crossed",
                            "key": "NoCcKey",
                            "policy_type_key": "no_credit_card"
                        }
                    ]
                },
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "General"
                        }
                    ]
                },
                "max_occupancy": 2,
                "refundable": 1,
                "full_board": 0,
                "nr_adults": 2,
                "is_mobile_deal": 0,
                "no_cc_object": {
                    "title": "No credit card needed",
                    "description": "You'll pay during your stay.",
                    "key": "NoCcKey",
                    "icon": "credit_card_crossed"
                },
                "number_of_bathrooms": 0,
                "is_dormitory": 0,
                "is_smart_deal": 0,
                "room_surface_in_m2": 21,
                "block_id": "268690110_195358826_0_0_0",
                "room_id": 268690110,
                "babycots_available": 0,
                "room_count": 20,
                "room_surface_in_feet2": 226.0421184,
                "deposit_required": 0,
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "key": "date",
                                "type": "datetime",
                                "value": "2024-11-30T18:00:00+08:00",
                                "format": "dMMMy"
                            },
                            {
                                "key": "time",
                                "type": "datetime",
                                "format": "jmm",
                                "value": "2024-11-30T18:00:00+08:00"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Asia/Chongqing"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "text": "<b>Free cancellation</b> before {time} on {date}"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey"
                    },
                    {
                        "text": "No credit card needed",
                        "icon": "credit_card_crossed",
                        "key": "NoCcKey"
                    }
                ],
                "breakfast_included": 0
            },
            {
                "deposit_required": 0,
                "transactional_policy_objects": [
                    {
                        "text": "<b>Free cancellation</b> before {time} on {date}",
                        "icon": "checkmark_fill",
                        "parameters": [
                            {
                                "type": "datetime",
                                "value": "2024-11-30T18:00:00+08:00",
                                "format": "dMMMy",
                                "key": "date"
                            },
                            {
                                "key": "time",
                                "type": "datetime",
                                "format": "jmm",
                                "value": "2024-11-30T18:00:00+08:00"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Asia/Chongqing"
                            }
                        ],
                        "key": "FreeCancellationKey"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey"
                    },
                    {
                        "text": "No credit card needed",
                        "key": "NoCcKey",
                        "icon": "credit_card_crossed"
                    }
                ],
                "breakfast_included": 0,
                "room_surface_in_feet2": 226.0421184,
                "room_count": 9,
                "room_id": 268690107,
                "babycots_available": 0,
                "is_smart_deal": 0,
                "block_id": "268690107_195358826_0_0_0",
                "room_surface_in_m2": 21,
                "is_dormitory": 0,
                "no_cc_object": {
                    "title": "No credit card needed",
                    "key": "NoCcKey",
                    "description": "You'll pay during your stay.",
                    "icon": "credit_card_crossed"
                },
                "number_of_bathrooms": 0,
                "nr_adults": 2,
                "is_mobile_deal": 0,
                "full_board": 0,
                "refundable": 1,
                "must_reserve_free_parking": 0,
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentKey",
                            "icon": "credit_card",
                            "description": "No prepayment is needed.",
                            "text": "Prepayment",
                            "type": "prepayment"
                        },
                        {
                            "icon": "checkmark_fill",
                            "policy_type_key": "super_flex",
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "parameters": [
                                {
                                    "key": "date",
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00"
                                },
                                {
                                    "key": "time",
                                    "type": "datetime",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "jmm"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Chongqing",
                                    "type": "timezone"
                                }
                            ],
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ],
                    "policies": [
                        {
                            "icon": "checkmark_fill",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "super_flex",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "parameters": [
                                {
                                    "key": "date",
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "type": "datetime"
                                },
                                {
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "jmm",
                                    "type": "datetime",
                                    "key": "time"
                                },
                                {
                                    "value": "Asia/Chongqing",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ],
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "icon": "checkmark_fill",
                            "description": "No prepayment is needed.",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "type": "prepayment"
                        },
                        {
                            "text": "No credit card needed",
                            "type": "nocc",
                            "description": "You'll pay during your stay.",
                            "key": "NoCcKey",
                            "policy_type_key": "no_credit_card",
                            "icon": "credit_card_crossed"
                        }
                    ]
                },
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "content": "General",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "max_occupancy": 2,
                "is_block_fit": 1,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "can_reserve_free_parking": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "policy_display_details": {
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "type": "free_cancellation",
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Chongqing)",
                            "parameters": {
                                "date": "2024-11-30T18:00:00+08:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "policy_type_key": "super_flex",
                        "title_details": {
                            "has_html": 1,
                            "placeholder_translation": "<b>Free cancellation</b> before {time} on {date}",
                            "tag": "cxl_fc_before_time_date_name",
                            "parameters": {
                                "timezone": "Asia/Chongqing",
                                "free_cancellation_deadline": "2024-11-30T18:00:00+08:00",
                                "time": "18:00",
                                "date": "30 November 2024"
                            },
                            "translation": "<b>Free cancellation</b> before 18:00 on 30 November 2024"
                        }
                    },
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "title_details": {
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1
                        },
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "type": "no_prepayment"
                    },
                    "nocc": {
                        "title_details": {
                            "placeholder_translation": "No credit card needed",
                            "translation": "No credit card needed",
                            "tag": "payment_no_cc_needed_name"
                        },
                        "description_details": {
                            "tag": "payment_no_cc_needed_lf_pay_during_stay_description",
                            "translation": "You'll pay during your stay.",
                            "placeholder_translation": "You'll pay during your stay."
                        },
                        "policy_type_key": "no_credit_card"
                    }
                },
                "paymentterms": {
                    "cancellation": {
                        "guaranteed_non_refundable": 0,
                        "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "non_refundable_anymore": 0,
                        "type": "free_cancellation",
                        "bucket": "SMP_FULLY_FLEX",
                        "timeline": {
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "stages": [
                                {
                                    "fee": 0,
                                    "fee_rounded": 0,
                                    "current_stage": 1,
                                    "fee_pretty": "CNY 0",
                                    "fee_remaining_pretty": "CNY 227",
                                    "u_stage_fee": "0.00",
                                    "limit_until": "30 November 2024 17:59",
                                    "limit_from_time": "04:25",
                                    "limit_from_date": "18 October 2024",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "date_until": "2024-11-30 17:59:59 +0800",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "u_fee_remaining": "31.90",
                                    "effective_number": 0,
                                    "limit_timezone": "Zhongwei",
                                    "text_refundable": "You'll get a full refund if you cancel before 17:59 on 30 November 2024.",
                                    "is_free": 1,
                                    "text": "Free cancellation until 17:59 on 30 Nov",
                                    "limit_until_date": "30 November 2024",
                                    "u_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "stage_translation": "Free to cancel",
                                    "u_fee_remaining_pretty": "US$ 31",
                                    "b_state": "FREE",
                                    "limit_until_raw": "2024-11-30 17:59:59",
                                    "limit_from": "18 October 2024 04:25",
                                    "limit_until_time": "17:59",
                                    "stage_fee": 0,
                                    "b_number": 0,
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 227
                                },
                                {
                                    "limit_from_date": "30 November 2024",
                                    "limit_from_raw": "2024-11-30 18:00:00",
                                    "u_stage_fee": "31.90",
                                    "limit_from_time": "18:00",
                                    "amount_pretty": "US$ 32",
                                    "limit_until": "30 November 2024 18:00",
                                    "current_stage": 0,
                                    "fee_rounded": 227,
                                    "fee_pretty": "CNY 227",
                                    "fee_remaining_pretty": "CNY 0",
                                    "fee": 227,
                                    "stage_fee": 227,
                                    "limit_until_time": "18:00",
                                    "limit_from": "30 November 2024 18:00",
                                    "fee_remaining": 0,
                                    "u_fee_pretty": "US$ 32",
                                    "b_number": 1,
                                    "stage_translation": "No refund if you cancel",
                                    "stage_fee_pretty": "CNY 227",
                                    "is_effective": 1,
                                    "u_fee": "31.90",
                                    "b_state": "NONREF",
                                    "limit_until_raw": "2024-11-30 18:00:00",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "is_free": 0,
                                    "text_refundable": "If you cancel from 18:00 on 30 November 2024, you will no longer be eligible for a refund.",
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 1,
                                    "date_from": "2024-11-30 18:00:00 +0800",
                                    "limit_until_date": "30 November 2024",
                                    "text": "From 18:00 on 30 Nov",
                                    "amount": "31.90",
                                    "u_stage_fee_pretty": "US$ 32",
                                    "u_fee_remaining": "0.00"
                                }
                            ],
                            "currency_code": "CNY",
                            "nr_stages": 2
                        },
                        "info": {
                            "time": "18:00",
                            "date_raw": "2024-11-30 18:00:00",
                            "date_before": "29 November 2024",
                            "refundable_date": "2024-11-30T18:00:00+08:00",
                            "refundable": 1,
                            "date": "30 November 2024",
                            "date_before_raw": "2024-11-29",
                            "timezone": "CST",
                            "timezone_offset": "28800"
                        },
                        "type_translation": "Free cancellation"
                    },
                    "prepayment": {
                        "description": "You'll pay during your stay.",
                        "type": "no_prepayment",
                        "type_extended": "non_refundable_prepayment",
                        "timeline": {
                            "policygroup_instance_id": "41/152/-",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 0,
                                    "is_free": 1,
                                    "limit_until_date": "30 November 2024",
                                    "text": "Before you stay you'll pay",
                                    "amount": "0.00",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "u_fee_remaining": "31.90",
                                    "limit_from": "18 October 2024 04:25",
                                    "stage_fee": 0,
                                    "limit_until_time": "23:59",
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 227,
                                    "b_number": 0,
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 0",
                                    "u_fee": "0.00",
                                    "u_fee_remaining_pretty": "US$ 31",
                                    "b_state": "FREE",
                                    "limit_until_raw": "2024-11-30 23:59:59",
                                    "current_stage": 1,
                                    "fee_rounded": 0,
                                    "fee_pretty": "CNY 0",
                                    "fee_remaining_pretty": "CNY 227",
                                    "fee": 0,
                                    "limit_from_date": "18 October 2024",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "u_stage_fee": "0.00",
                                    "limit_until": "30 November 2024 23:59",
                                    "amount_pretty": "US$ 0",
                                    "limit_from_time": "04:25"
                                },
                                {
                                    "amount": "31.90",
                                    "is_free": 0,
                                    "amount_pretty": "US$ 31",
                                    "after_checkin": 1,
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "currency_code": "CNY",
                            "nr_stages": 2
                        },
                        "extended_type_translation": "No payment needed today",
                        "info": {
                            "refundable": "anytime",
                            "prepayment_at_booktime": 0
                        },
                        "type_translation": "No payment needed today",
                        "simple_translation": "No prepayment"
                    }
                },
                "half_board": 0,
                "package_id": 0,
                "name_without_policy": "Superior Double Room",
                "is_flash_deal": 0,
                "is_domestic_rate": 0,
                "mealplan": "There is no meal option with this room.",
                "genius_discount_percentage": 0,
                "smoking": 2,
                "room_name": "Superior Double Room",
                "is_secret_deal": 0,
                "refundable_until": "2024-11-30 18:00:00 +0800",
                "extrabed_available": 0,
                "number_of_bedrooms": 0,
                "max_children_free": 1,
                "roomtype_id": 9,
                "nr_children": 0,
                "product_price_breakdown": {
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "value": 31.9015128804195,
                        "amount_unrounded": "US$31.90",
                        "amount_rounded": "US$32"
                    },
                    "all_inclusive_amount": {
                        "currency": "USD",
                        "value": 31.9015128804195,
                        "amount_unrounded": "US$31.90",
                        "amount_rounded": "US$32"
                    },
                    "charges_details": {
                        "mode": "all_included",
                        "amount": {
                            "currency": "USD",
                            "value": 0
                        }
                    },
                    "included_taxes_and_charges_amount": {
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0",
                        "currency": "USD",
                        "value": 0
                    },
                    "items": [
                        {
                            "base": {
                                "kind": "not_applicable",
                                "base_amount": 0
                            },
                            "inclusion_type": "excluded",
                            "name": "City tax",
                            "item_amount": {
                                "value": 0,
                                "currency": "USD",
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0"
                            },
                            "kind": "charge"
                        },
                        {
                            "name": "VAT",
                            "item_amount": {
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0",
                                "value": 0,
                                "currency": "USD"
                            },
                            "inclusion_type": "excluded",
                            "base": {
                                "base_amount": 0,
                                "kind": "not_applicable"
                            },
                            "kind": "charge"
                        }
                    ],
                    "has_long_stays_monthly_rate_price": 0,
                    "nr_stays": 9,
                    "excluded_amount": {
                        "amount_rounded": "US$0",
                        "amount_unrounded": "US$0",
                        "value": 0,
                        "currency": "USD"
                    },
                    "gross_amount": {
                        "value": 31.9015128804195,
                        "currency": "USD",
                        "amount_rounded": "US$32",
                        "amount_unrounded": "US$31.90"
                    },
                    "net_amount": {
                        "amount_rounded": "US$32",
                        "amount_unrounded": "US$31.90",
                        "value": 31.9015128804195,
                        "currency": "USD"
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "gross_amount_hotel_currency": {
                        "amount_rounded": "CNY 227",
                        "amount_unrounded": "CNY 227",
                        "value": 227,
                        "currency": "CNY"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "value": 227,
                        "currency": "CNY",
                        "amount_rounded": "CNY 227",
                        "amount_unrounded": "CNY 227"
                    }
                },
                "all_inclusive": 0,
                "is_last_minute_deal": 0,
                "max_children_free_age": 12,
                "name": "Superior Double Room - Free cancellation"
            },
            {
                "product_price_breakdown": {
                    "excluded_amount": {
                        "amount_rounded": "US$0",
                        "amount_unrounded": "US$0",
                        "value": 0,
                        "currency": "USD"
                    },
                    "gross_amount": {
                        "amount_unrounded": "US$31.90",
                        "amount_rounded": "US$32",
                        "currency": "USD",
                        "value": 31.9015128804195
                    },
                    "net_amount": {
                        "currency": "USD",
                        "value": 31.9015128804195,
                        "amount_unrounded": "US$31.90",
                        "amount_rounded": "US$32"
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "gross_amount_hotel_currency": {
                        "value": 227,
                        "currency": "CNY",
                        "amount_rounded": "CNY 227",
                        "amount_unrounded": "CNY 227"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "amount_rounded": "CNY 227",
                        "amount_unrounded": "CNY 227",
                        "value": 227,
                        "currency": "CNY"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "gross_amount_per_night": {
                        "amount_unrounded": "US$31.90",
                        "amount_rounded": "US$32",
                        "currency": "USD",
                        "value": 31.9015128804195
                    },
                    "all_inclusive_amount": {
                        "value": 31.9015128804195,
                        "currency": "USD",
                        "amount_rounded": "US$32",
                        "amount_unrounded": "US$31.90"
                    },
                    "charges_details": {
                        "amount": {
                            "value": 0,
                            "currency": "USD"
                        },
                        "mode": "all_included"
                    },
                    "items": [
                        {
                            "kind": "charge",
                            "base": {
                                "kind": "not_applicable",
                                "base_amount": 0
                            },
                            "inclusion_type": "excluded",
                            "item_amount": {
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0",
                                "value": 0,
                                "currency": "USD"
                            },
                            "name": "City tax"
                        },
                        {
                            "base": {
                                "base_amount": 0,
                                "kind": "not_applicable"
                            },
                            "inclusion_type": "excluded",
                            "kind": "charge",
                            "name": "VAT",
                            "item_amount": {
                                "value": 0,
                                "currency": "USD",
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0"
                            }
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "value": 0,
                        "currency": "USD",
                        "amount_rounded": "US$0",
                        "amount_unrounded": "US$0"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "nr_stays": 7
                },
                "nr_children": 0,
                "all_inclusive": 0,
                "name": "Standard Family Room - Free cancellation",
                "max_children_free_age": 12,
                "is_last_minute_deal": 0,
                "is_secret_deal": 0,
                "refundable_until": "2024-11-30 18:00:00 +0800",
                "extrabed_available": 0,
                "mealplan": "There is no meal option with this room.",
                "room_name": "Standard Family Room",
                "smoking": 2,
                "genius_discount_percentage": 0,
                "roomtype_id": 13,
                "max_children_free": 1,
                "number_of_bedrooms": 0,
                "is_domestic_rate": 0,
                "is_flash_deal": 0,
                "name_without_policy": "Standard Family Room",
                "package_id": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "is_block_fit": 1,
                "half_board": 0,
                "can_reserve_free_parking": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "policy_display_details": {
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "title_details": {
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "type": "no_prepayment"
                    },
                    "nocc": {
                        "title_details": {
                            "tag": "payment_no_cc_needed_name",
                            "translation": "No credit card needed",
                            "placeholder_translation": "No credit card needed"
                        },
                        "description_details": {
                            "placeholder_translation": "You'll pay during your stay.",
                            "translation": "You'll pay during your stay.",
                            "tag": "payment_no_cc_needed_lf_pay_during_stay_description"
                        },
                        "policy_type_key": "no_credit_card"
                    },
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "type": "free_cancellation",
                        "clarification_details": {
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "date": "2024-11-30T18:00:00+08:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Chongqing)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "description_details": {
                            "translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "policy_type_key": "super_flex",
                        "title_details": {
                            "translation": "<b>Free cancellation</b> before 18:00 on 30 November 2024",
                            "parameters": {
                                "date": "30 November 2024",
                                "free_cancellation_deadline": "2024-11-30T18:00:00+08:00",
                                "time": "18:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "tag": "cxl_fc_before_time_date_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {time} on {date}",
                            "has_html": 1
                        }
                    }
                },
                "paymentterms": {
                    "prepayment": {
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today",
                        "info": {
                            "refundable": "anytime",
                            "prepayment_at_booktime": 0
                        },
                        "extended_type_translation": "No payment needed today",
                        "timeline": {
                            "nr_stages": 2,
                            "currency_code": "CNY",
                            "stages": [
                                {
                                    "limit_until_raw": "2024-11-30 23:59:59",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 31",
                                    "u_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "b_number": 0,
                                    "fee_remaining": 227,
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59",
                                    "stage_fee": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "u_fee_remaining": "31.90",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "amount": "0.00",
                                    "text": "Before you stay you'll pay",
                                    "limit_until_date": "30 November 2024",
                                    "is_free": 1,
                                    "effective_number": 0,
                                    "limit_timezone": "Zhongwei",
                                    "limit_from_time": "04:25",
                                    "amount_pretty": "US$ 0",
                                    "limit_until": "30 November 2024 23:59",
                                    "u_stage_fee": "0.00",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "fee": 0,
                                    "fee_pretty": "CNY 0",
                                    "fee_remaining_pretty": "CNY 227",
                                    "fee_rounded": 0,
                                    "current_stage": 1
                                },
                                {
                                    "text": "At the property you'll pay",
                                    "after_checkin": 1,
                                    "amount_pretty": "US$ 31",
                                    "is_free": 0,
                                    "amount": "31.90"
                                }
                            ],
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-"
                        },
                        "type_extended": "non_refundable_prepayment",
                        "type": "no_prepayment",
                        "description": "You'll pay during your stay."
                    },
                    "cancellation": {
                        "non_refundable_anymore": 0,
                        "type": "free_cancellation",
                        "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "guaranteed_non_refundable": 0,
                        "info": {
                            "timezone": "CST",
                            "timezone_offset": "28800",
                            "date_before": "29 November 2024",
                            "refundable_date": "2024-11-30T18:00:00+08:00",
                            "date": "30 November 2024",
                            "refundable": 1,
                            "date_before_raw": "2024-11-29",
                            "time": "18:00",
                            "date_raw": "2024-11-30 18:00:00"
                        },
                        "type_translation": "Free cancellation",
                        "bucket": "SMP_FULLY_FLEX",
                        "timeline": {
                            "currency_code": "CNY",
                            "nr_stages": 2,
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "stages": [
                                {
                                    "b_number": 0,
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 227,
                                    "limit_until_time": "17:59",
                                    "stage_fee": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "limit_until_raw": "2024-11-30 17:59:59",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 31",
                                    "stage_translation": "Free to cancel",
                                    "u_fee": "0.00",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 0",
                                    "text": "Free cancellation until 17:59 on 30 Nov",
                                    "limit_until_date": "30 November 2024",
                                    "is_free": 1,
                                    "text_refundable": "You'll get a full refund if you cancel before 17:59 on 30 November 2024.",
                                    "effective_number": 0,
                                    "limit_timezone": "Zhongwei",
                                    "u_fee_remaining": "31.90",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-30 17:59:59 +0800",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "limit_from_time": "04:25",
                                    "limit_until": "30 November 2024 17:59",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining_pretty": "CNY 227",
                                    "fee_pretty": "CNY 0",
                                    "fee_rounded": 0,
                                    "current_stage": 1,
                                    "fee": 0
                                },
                                {
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "limit_until_raw": "2024-11-30 18:00:00",
                                    "b_state": "NONREF",
                                    "u_fee": "31.90",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 227",
                                    "stage_translation": "No refund if you cancel",
                                    "b_number": 1,
                                    "fee_remaining": 0,
                                    "u_fee_pretty": "US$ 32",
                                    "limit_from": "30 November 2024 18:00",
                                    "limit_until_time": "18:00",
                                    "stage_fee": 227,
                                    "u_fee_remaining": "0.00",
                                    "u_stage_fee_pretty": "US$ 32",
                                    "amount": "31.90",
                                    "text": "From 18:00 on 30 Nov",
                                    "date_from": "2024-11-30 18:00:00 +0800",
                                    "limit_until_date": "30 November 2024",
                                    "effective_number": 1,
                                    "limit_timezone": "Zhongwei",
                                    "text_refundable": "If you cancel from 18:00 on 30 November 2024, you will no longer be eligible for a refund.",
                                    "is_free": 0,
                                    "limit_until": "30 November 2024 18:00",
                                    "limit_from_time": "18:00",
                                    "amount_pretty": "US$ 32",
                                    "u_stage_fee": "31.90",
                                    "limit_from_raw": "2024-11-30 18:00:00",
                                    "limit_from_date": "30 November 2024",
                                    "fee": 227,
                                    "fee_pretty": "CNY 227",
                                    "fee_remaining_pretty": "CNY 0",
                                    "fee_rounded": 227,
                                    "current_stage": 0
                                }
                            ]
                        }
                    }
                },
                "full_board": 0,
                "nr_adults": 2,
                "is_mobile_deal": 0,
                "transactional_policy_data": {
                    "policies": [
                        {
                            "policy_type_key": "super_flex",
                            "key": "FreeCancellationKey",
                            "icon": "checkmark_fill",
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "type": "datetime",
                                    "key": "date"
                                },
                                {
                                    "key": "time",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "jmm",
                                    "type": "datetime"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Chongqing",
                                    "type": "timezone"
                                }
                            ],
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation"
                        },
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "icon": "checkmark_fill",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "type": "prepayment",
                            "description": "No prepayment is needed."
                        },
                        {
                            "text": "No credit card needed",
                            "type": "nocc",
                            "description": "You'll pay during your stay.",
                            "key": "NoCcKey",
                            "policy_type_key": "no_credit_card",
                            "icon": "credit_card_crossed"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "key": "NoPrepaymentKey",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "credit_card",
                            "description": "No prepayment is needed.",
                            "text": "Prepayment",
                            "type": "prepayment"
                        },
                        {
                            "icon": "checkmark_fill",
                            "policy_type_key": "super_flex",
                            "key": "FreeCancellationKey",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "dMMMy",
                                    "key": "date"
                                },
                                {
                                    "key": "time",
                                    "type": "datetime",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00"
                                },
                                {
                                    "value": "Asia/Chongqing",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ],
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ]
                },
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "content": "General",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "must_reserve_free_parking": 0,
                "max_occupancy": 2,
                "refundable": 1,
                "number_of_bathrooms": 0,
                "no_cc_object": {
                    "icon": "credit_card_crossed",
                    "key": "NoCcKey",
                    "description": "You'll pay during your stay.",
                    "title": "No credit card needed"
                },
                "is_dormitory": 0,
                "room_id": 268690108,
                "babycots_available": 0,
                "is_smart_deal": 0,
                "room_surface_in_m2": 21,
                "block_id": "268690108_195358826_0_0_0",
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "value": "2024-11-30T18:00:00+08:00",
                                "type": "datetime",
                                "key": "date"
                            },
                            {
                                "type": "datetime",
                                "value": "2024-11-30T18:00:00+08:00",
                                "format": "jmm",
                                "key": "time"
                            },
                            {
                                "value": "Asia/Chongqing",
                                "type": "timezone",
                                "key": "timezone"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "text": "<b>Free cancellation</b> before {time} on {date}"
                    },
                    {
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey",
                        "text": "<b>No prepayment needed</b> – pay at the property"
                    },
                    {
                        "text": "No credit card needed",
                        "icon": "credit_card_crossed",
                        "key": "NoCcKey"
                    }
                ],
                "breakfast_included": 0,
                "deposit_required": 0,
                "room_count": 7,
                "room_surface_in_feet2": 226.0421184
            },
            {
                "availableText": "Only 4 rooms left on Booking.com",
                "available": 4,
                "product_price_breakdown": {
                    "has_long_stays_weekly_rate_price": 0,
                    "all_inclusive_amount_hotel_currency": {
                        "value": 237,
                        "currency": "CNY",
                        "amount_rounded": "CNY 237",
                        "amount_unrounded": "CNY 237"
                    },
                    "gross_amount_hotel_currency": {
                        "value": 237,
                        "currency": "CNY",
                        "amount_rounded": "CNY 237",
                        "amount_unrounded": "CNY 237"
                    },
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "excluded_amount": {
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0",
                        "currency": "USD",
                        "value": 0
                    },
                    "net_amount": {
                        "value": 33.3068658707464,
                        "currency": "USD",
                        "amount_rounded": "US$33",
                        "amount_unrounded": "US$33.31"
                    },
                    "gross_amount": {
                        "amount_unrounded": "US$33.31",
                        "amount_rounded": "US$33",
                        "currency": "USD",
                        "value": 33.3068658707464
                    },
                    "nr_stays": 4,
                    "has_long_stays_monthly_rate_price": 0,
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "value": 0,
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0"
                    },
                    "items": [
                        {
                            "item_amount": {
                                "currency": "USD",
                                "value": 0,
                                "amount_unrounded": "US$0",
                                "amount_rounded": "US$0"
                            },
                            "name": "City tax",
                            "kind": "charge",
                            "base": {
                                "kind": "not_applicable",
                                "base_amount": 0
                            },
                            "inclusion_type": "excluded"
                        },
                        {
                            "base": {
                                "base_amount": 0,
                                "kind": "not_applicable"
                            },
                            "inclusion_type": "excluded",
                            "kind": "charge",
                            "name": "VAT",
                            "item_amount": {
                                "value": 0,
                                "currency": "USD",
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0"
                            }
                        }
                    ],
                    "all_inclusive_amount": {
                        "amount_unrounded": "US$33.31",
                        "amount_rounded": "US$33",
                        "currency": "USD",
                        "value": 33.3068658707464
                    },
                    "gross_amount_per_night": {
                        "value": 33.3068658707464,
                        "currency": "USD",
                        "amount_rounded": "US$33",
                        "amount_unrounded": "US$33.31"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "charges_details": {
                        "mode": "all_included",
                        "amount": {
                            "value": 0,
                            "currency": "USD"
                        }
                    }
                },
                "nr_children": 0,
                "all_inclusive": 0,
                "max_children_free_age": 12,
                "is_last_minute_deal": 0,
                "name": "Superior Double Room with Lake View - Free cancellation",
                "refundable_until": "2024-11-30 18:00:00 +0800",
                "is_secret_deal": 0,
                "extrabed_available": 0,
                "mealplan": "There is no meal option with this room.",
                "genius_discount_percentage": 0,
                "smoking": 2,
                "room_name": "Superior Double Room with Lake View",
                "max_children_free": 1,
                "roomtype_id": 9,
                "number_of_bedrooms": 0,
                "is_domestic_rate": 0,
                "package_id": 0,
                "name_without_policy": "Superior Double Room with Lake View",
                "is_flash_deal": 0,
                "is_block_fit": 1,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "half_board": 0,
                "can_reserve_free_parking": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "policy_display_details": {
                    "cancellation": {
                        "title_details": {
                            "tag": "cxl_fc_before_time_date_name",
                            "parameters": {
                                "date": "30 November 2024",
                                "free_cancellation_deadline": "2024-11-30T18:00:00+08:00",
                                "time": "18:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "translation": "<b>Free cancellation</b> before 18:00 on 30 November 2024",
                            "has_html": 1,
                            "placeholder_translation": "<b>Free cancellation</b> before {time} on {date}"
                        },
                        "policy_type_key": "super_flex",
                        "clarification_details": {
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Chongqing)",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "date": "2024-11-30T18:00:00+08:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "type": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        }
                    },
                    "prepayment": {
                        "title_details": {
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment",
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        }
                    },
                    "nocc": {
                        "policy_type_key": "no_credit_card",
                        "title_details": {
                            "placeholder_translation": "No credit card needed",
                            "translation": "No credit card needed",
                            "tag": "payment_no_cc_needed_name"
                        },
                        "description_details": {
                            "placeholder_translation": "You'll pay during your stay.",
                            "translation": "You'll pay during your stay.",
                            "tag": "payment_no_cc_needed_lf_pay_during_stay_description"
                        }
                    }
                },
                "paymentterms": {
                    "prepayment": {
                        "description": "You'll pay during your stay.",
                        "type": "no_prepayment",
                        "type_extended": "non_refundable_prepayment",
                        "timeline": {
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "stages": [
                                {
                                    "limit_until_date": "30 November 2024",
                                    "text": "Before you stay you'll pay",
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 0,
                                    "is_free": 1,
                                    "u_fee_remaining": "33.31",
                                    "amount": "0.00",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 237,
                                    "b_number": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "stage_fee": 0,
                                    "limit_until_time": "23:59",
                                    "u_fee_remaining_pretty": "US$ 33",
                                    "b_state": "FREE",
                                    "limit_until_raw": "2024-11-30 23:59:59",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 0",
                                    "u_fee": "0.00",
                                    "fee_remaining_pretty": "CNY 237",
                                    "fee_pretty": "CNY 0",
                                    "current_stage": 1,
                                    "fee_rounded": 0,
                                    "fee": 0,
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "limit_until": "30 November 2024 23:59",
                                    "amount_pretty": "US$ 0",
                                    "limit_from_time": "04:25",
                                    "u_stage_fee": "0.00"
                                },
                                {
                                    "amount": "33.31",
                                    "is_free": 0,
                                    "amount_pretty": "US$ 33",
                                    "text": "At the property you'll pay",
                                    "after_checkin": 1
                                }
                            ],
                            "currency_code": "CNY",
                            "nr_stages": 2
                        },
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "extended_type_translation": "No payment needed today",
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today"
                    },
                    "cancellation": {
                        "bucket": "SMP_FULLY_FLEX",
                        "timeline": {
                            "policygroup_instance_id": "41/152/-",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "fee_rounded": 0,
                                    "current_stage": 1,
                                    "fee_remaining_pretty": "CNY 237",
                                    "fee_pretty": "CNY 0",
                                    "fee": 0,
                                    "limit_from_date": "18 October 2024",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "u_stage_fee": "0.00",
                                    "limit_from_time": "04:25",
                                    "limit_until": "30 November 2024 17:59",
                                    "is_free": 1,
                                    "text_refundable": "You'll get a full refund if you cancel before 17:59 on 30 November 2024.",
                                    "effective_number": 0,
                                    "limit_timezone": "Zhongwei",
                                    "text": "Free cancellation until 17:59 on 30 Nov",
                                    "limit_until_date": "30 November 2024",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-30 17:59:59 +0800",
                                    "u_fee_remaining": "33.31",
                                    "limit_until_time": "17:59",
                                    "stage_fee": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "b_number": 0,
                                    "fee_remaining": 237,
                                    "u_fee_pretty": "US$ 0",
                                    "stage_translation": "Free to cancel",
                                    "u_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "limit_until_raw": "2024-11-30 17:59:59",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 33"
                                },
                                {
                                    "u_fee_remaining": "0.00",
                                    "amount": 33.31,
                                    "u_stage_fee_pretty": "US$ 33",
                                    "date_from": "2024-11-30 18:00:00 +0800",
                                    "limit_until_date": "30 November 2024",
                                    "text": "From 18:00 on 30 Nov",
                                    "text_refundable": "If you cancel from 18:00 on 30 November 2024, you will no longer be eligible for a refund.",
                                    "is_free": 0,
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 1,
                                    "b_state": "NONREF",
                                    "limit_until_raw": "2024-11-30 18:00:00",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "stage_translation": "No refund if you cancel",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 237",
                                    "u_fee": "33.31",
                                    "u_fee_pretty": "US$ 33",
                                    "fee_remaining": 0,
                                    "b_number": 1,
                                    "stage_fee": 237,
                                    "limit_until_time": "18:00",
                                    "limit_from": "30 November 2024 18:00",
                                    "fee": 237,
                                    "fee_pretty": "CNY 237",
                                    "fee_remaining_pretty": "CNY 0",
                                    "current_stage": 0,
                                    "fee_rounded": 237,
                                    "amount_pretty": "US$ 33",
                                    "limit_from_time": "18:00",
                                    "limit_until": "30 November 2024 18:00",
                                    "u_stage_fee": "33.31",
                                    "limit_from_raw": "2024-11-30 18:00:00",
                                    "limit_from_date": "30 November 2024"
                                }
                            ],
                            "currency_code": "CNY",
                            "nr_stages": 2
                        },
                        "info": {
                            "date_before_raw": "2024-11-29",
                            "date": "30 November 2024",
                            "refundable": 1,
                            "refundable_date": "2024-11-30T18:00:00+08:00",
                            "date_before": "29 November 2024",
                            "timezone_offset": "28800",
                            "timezone": "CST",
                            "date_raw": "2024-11-30 18:00:00",
                            "time": "18:00"
                        },
                        "type_translation": "Free cancellation",
                        "guaranteed_non_refundable": 0,
                        "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "non_refundable_anymore": 0,
                        "type": "free_cancellation"
                    }
                },
                "full_board": 0,
                "nr_adults": 2,
                "is_mobile_deal": 0,
                "must_reserve_free_parking": 0,
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "General"
                        }
                    ]
                },
                "transactional_policy_data": {
                    "policies": [
                        {
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "key": "date",
                                    "type": "datetime",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "dMMMy"
                                },
                                {
                                    "type": "datetime",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "time"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Chongqing",
                                    "type": "timezone"
                                }
                            ],
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "super_flex",
                            "icon": "checkmark_fill"
                        },
                        {
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "type": "prepayment",
                            "description": "No prepayment is needed.",
                            "key": "NoPrepaymentConstructiveKey",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "checkmark_fill"
                        },
                        {
                            "icon": "credit_card_crossed",
                            "policy_type_key": "no_credit_card",
                            "key": "NoCcKey",
                            "description": "You'll pay during your stay.",
                            "type": "nocc",
                            "text": "No credit card needed"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentKey",
                            "icon": "credit_card",
                            "description": "No prepayment is needed.",
                            "text": "Prepayment",
                            "type": "prepayment"
                        },
                        {
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "type": "datetime",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "time"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Chongqing",
                                    "type": "timezone"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "policy_type_key": "super_flex",
                            "icon": "checkmark_fill"
                        }
                    ]
                },
                "max_occupancy": 2,
                "refundable": 1,
                "no_cc_object": {
                    "key": "NoCcKey",
                    "description": "You'll pay during your stay.",
                    "icon": "credit_card_crossed",
                    "title": "No credit card needed"
                },
                "number_of_bathrooms": 0,
                "is_dormitory": 0,
                "room_id": 268690117,
                "babycots_available": 0,
                "is_smart_deal": 0,
                "room_surface_in_m2": 16,
                "block_id": "268690117_195358826_0_0_0",
                "deposit_required": 0,
                "breakfast_included": 0,
                "transactional_policy_objects": [
                    {
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "value": "2024-11-30T18:00:00+08:00",
                                "type": "datetime",
                                "key": "date"
                            },
                            {
                                "format": "jmm",
                                "value": "2024-11-30T18:00:00+08:00",
                                "type": "datetime",
                                "key": "time"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Asia/Chongqing"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "key": "FreeCancellationKey",
                        "text": "<b>Free cancellation</b> before {time} on {date}"
                    },
                    {
                        "key": "NoPrepaymentConstructiveKey",
                        "icon": "checkmark_fill",
                        "text": "<b>No prepayment needed</b> – pay at the property"
                    },
                    {
                        "icon": "credit_card_crossed",
                        "key": "NoCcKey",
                        "text": "No credit card needed"
                    }
                ],
                "room_count": 4,
                "room_surface_in_feet2": 172.2225664
            },
            {
                "availableText": "Only 6 rooms left on Booking.com",
                "available": 6,
                "is_dormitory": 0,
                "number_of_bathrooms": 0,
                "no_cc_object": {
                    "icon": "credit_card_crossed",
                    "description": "You'll pay during your stay.",
                    "key": "NoCcKey",
                    "title": "No credit card needed"
                },
                "refundable": 1,
                "max_occupancy": 2,
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "General"
                        }
                    ]
                },
                "transactional_policy_data": {
                    "policies": [
                        {
                            "policy_type_key": "super_flex",
                            "key": "FreeCancellationKey",
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "type": "cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "key": "time",
                                    "type": "datetime",
                                    "format": "jmm",
                                    "value": "2024-11-30T18:00:00+08:00"
                                },
                                {
                                    "key": "timezone",
                                    "type": "timezone",
                                    "value": "Asia/Chongqing"
                                }
                            ]
                        },
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "icon": "checkmark_fill",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "type": "prepayment",
                            "description": "No prepayment is needed."
                        },
                        {
                            "icon": "credit_card_crossed",
                            "key": "NoCcKey",
                            "policy_type_key": "no_credit_card",
                            "description": "You'll pay during your stay.",
                            "type": "nocc",
                            "text": "No credit card needed"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "key": "NoPrepaymentKey",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "credit_card",
                            "text": "Prepayment",
                            "type": "prepayment",
                            "description": "No prepayment is needed."
                        },
                        {
                            "policy_type_key": "super_flex",
                            "key": "FreeCancellationKey",
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {time} on {date}",
                            "type": "cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "parameters": [
                                {
                                    "key": "date",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "dMMMy",
                                    "type": "datetime"
                                },
                                {
                                    "key": "time",
                                    "type": "datetime",
                                    "value": "2024-11-30T18:00:00+08:00",
                                    "format": "jmm"
                                },
                                {
                                    "type": "timezone",
                                    "value": "Asia/Chongqing",
                                    "key": "timezone"
                                }
                            ]
                        }
                    ]
                },
                "must_reserve_free_parking": 0,
                "is_mobile_deal": 0,
                "nr_adults": 2,
                "full_board": 0,
                "room_surface_in_feet2": 226.0421184,
                "room_count": 6,
                "transactional_policy_objects": [
                    {
                        "icon": "checkmark_fill",
                        "parameters": [
                            {
                                "value": "2024-11-30T18:00:00+08:00",
                                "format": "dMMMy",
                                "type": "datetime",
                                "key": "date"
                            },
                            {
                                "format": "jmm",
                                "value": "2024-11-30T18:00:00+08:00",
                                "type": "datetime",
                                "key": "time"
                            },
                            {
                                "type": "timezone",
                                "value": "Asia/Chongqing",
                                "key": "timezone"
                            }
                        ],
                        "key": "FreeCancellationKey",
                        "text": "<b>Free cancellation</b> before {time} on {date}"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "key": "NoPrepaymentConstructiveKey",
                        "icon": "checkmark_fill"
                    },
                    {
                        "text": "No credit card needed",
                        "icon": "credit_card_crossed",
                        "key": "NoCcKey"
                    }
                ],
                "breakfast_included": 0,
                "deposit_required": 0,
                "room_surface_in_m2": 21,
                "block_id": "268690116_195358826_0_0_0",
                "is_smart_deal": 0,
                "babycots_available": 0,
                "room_id": 268690116,
                "number_of_bedrooms": 0,
                "roomtype_id": 13,
                "max_children_free": 1,
                "room_name": "Superior Family Room",
                "smoking": 2,
                "genius_discount_percentage": 0,
                "mealplan": "There is no meal option with this room.",
                "extrabed_available": 0,
                "is_secret_deal": 0,
                "refundable_until": "2024-11-30 18:00:00 +0800",
                "name": "Superior Family Room - Free cancellation",
                "is_last_minute_deal": 0,
                "max_children_free_age": 12,
                "all_inclusive": 0,
                "nr_children": 0,
                "product_price_breakdown": {
                    "has_long_stays_weekly_rate_price": 0,
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "all_inclusive_amount_hotel_currency": {
                        "amount_rounded": "CNY 237",
                        "amount_unrounded": "CNY 237",
                        "value": 237,
                        "currency": "CNY"
                    },
                    "gross_amount_hotel_currency": {
                        "currency": "CNY",
                        "value": 237,
                        "amount_unrounded": "CNY 237",
                        "amount_rounded": "CNY 237"
                    },
                    "excluded_amount": {
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0",
                        "currency": "USD",
                        "value": 0
                    },
                    "gross_amount": {
                        "amount_unrounded": "US$33.31",
                        "amount_rounded": "US$33",
                        "currency": "USD",
                        "value": 33.3068658707464
                    },
                    "net_amount": {
                        "amount_unrounded": "US$33.31",
                        "amount_rounded": "US$33",
                        "currency": "USD",
                        "value": 33.3068658707464
                    },
                    "items": [
                        {
                            "kind": "charge",
                            "inclusion_type": "excluded",
                            "base": {
                                "kind": "not_applicable",
                                "base_amount": 0
                            },
                            "item_amount": {
                                "amount_rounded": "US$0",
                                "amount_unrounded": "US$0",
                                "value": 0,
                                "currency": "USD"
                            },
                            "name": "City tax"
                        },
                        {
                            "inclusion_type": "excluded",
                            "base": {
                                "base_amount": 0,
                                "kind": "not_applicable"
                            },
                            "kind": "charge",
                            "name": "VAT",
                            "item_amount": {
                                "currency": "USD",
                                "value": 0,
                                "amount_unrounded": "US$0",
                                "amount_rounded": "US$0"
                            }
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "value": 0,
                        "amount_unrounded": "US$0",
                        "amount_rounded": "US$0"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "nr_stays": 6,
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "value": 33.3068658707464,
                        "amount_unrounded": "US$33.31",
                        "amount_rounded": "US$33"
                    },
                    "all_inclusive_amount": {
                        "amount_rounded": "US$33",
                        "amount_unrounded": "US$33.31",
                        "value": 33.3068658707464,
                        "currency": "USD"
                    },
                    "charges_details": {
                        "mode": "all_included",
                        "amount": {
                            "currency": "USD",
                            "value": 0
                        }
                    }
                },
                "paymentterms": {
                    "cancellation": {
                        "type_translation": "Free cancellation",
                        "info": {
                            "time": "18:00",
                            "refundable_date": "2024-11-30T18:00:00+08:00",
                            "refundable": 1,
                            "date_raw": "2024-11-30 18:00:00",
                            "timezone": "CST",
                            "timezone_offset": "28800",
                            "date_before": "29 November 2024",
                            "date_before_raw": "2024-11-29",
                            "date": "30 November 2024"
                        },
                        "timeline": {
                            "currency_code": "CNY",
                            "nr_stages": 2,
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "41/152/-",
                            "stages": [
                                {
                                    "limit_from_time": "04:25",
                                    "limit_until": "30 November 2024 17:59",
                                    "u_stage_fee": "0.00",
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "fee": 0,
                                    "fee_pretty": "CNY 0",
                                    "fee_remaining_pretty": "CNY 237",
                                    "fee_rounded": 0,
                                    "current_stage": 1,
                                    "limit_until_raw": "2024-11-30 17:59:59",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 33",
                                    "stage_translation": "Free to cancel",
                                    "u_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "b_number": 0,
                                    "fee_remaining": 237,
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_time": "17:59",
                                    "stage_fee": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "u_fee_remaining": "33.31",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-30 17:59:59 +0800",
                                    "text": "Free cancellation until 17:59 on 30 Nov",
                                    "limit_until_date": "30 November 2024",
                                    "is_free": 1,
                                    "text_refundable": "You'll get a full refund if you cancel before 17:59 on 30 November 2024.",
                                    "effective_number": 0,
                                    "limit_timezone": "Zhongwei"
                                },
                                {
                                    "fee": 237,
                                    "fee_pretty": "CNY 237",
                                    "fee_remaining_pretty": "CNY 0",
                                    "fee_rounded": 237,
                                    "current_stage": 0,
                                    "limit_until": "30 November 2024 18:00",
                                    "amount_pretty": "US$ 33",
                                    "limit_from_time": "18:00",
                                    "u_stage_fee": "33.31",
                                    "limit_from_raw": "2024-11-30 18:00:00",
                                    "limit_from_date": "30 November 2024",
                                    "u_fee_remaining": "0.00",
                                    "u_stage_fee_pretty": "US$ 33",
                                    "amount": 33.31,
                                    "text": "From 18:00 on 30 Nov",
                                    "date_from": "2024-11-30 18:00:00 +0800",
                                    "limit_until_date": "30 November 2024",
                                    "effective_number": 1,
                                    "limit_timezone": "Zhongwei",
                                    "is_free": 0,
                                    "text_refundable": "If you cancel from 18:00 on 30 November 2024, you will no longer be eligible for a refund.",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "limit_until_raw": "2024-11-30 18:00:00",
                                    "b_state": "NONREF",
                                    "u_fee": "33.31",
                                    "is_effective": 1,
                                    "stage_fee_pretty": "CNY 237",
                                    "stage_translation": "No refund if you cancel",
                                    "b_number": 1,
                                    "fee_remaining": 0,
                                    "u_fee_pretty": "US$ 33",
                                    "limit_from": "30 November 2024 18:00",
                                    "limit_until_time": "18:00",
                                    "stage_fee": 237
                                }
                            ]
                        },
                        "bucket": "SMP_FULLY_FLEX",
                        "type": "free_cancellation",
                        "non_refundable_anymore": 0,
                        "guaranteed_non_refundable": 0,
                        "description": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                    },
                    "prepayment": {
                        "description": "You'll pay during your stay.",
                        "type": "no_prepayment",
                        "timeline": {
                            "policygroup_instance_id": "41/152/-",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_until_date": "30 November 2024",
                                    "text": "Before you stay you'll pay",
                                    "limit_timezone": "Zhongwei",
                                    "effective_number": 0,
                                    "is_free": 1,
                                    "u_fee_remaining": "33.31",
                                    "amount": "0.00",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "fee_remaining": 237,
                                    "u_fee_pretty": "US$ 0",
                                    "b_number": 0,
                                    "limit_from": "18 October 2024 04:25",
                                    "stage_fee": 0,
                                    "limit_until_time": "23:59",
                                    "u_fee_remaining_pretty": "US$ 33",
                                    "limit_until_raw": "2024-11-30 23:59:59",
                                    "b_state": "FREE",
                                    "stage_fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "u_fee": "0.00",
                                    "fee_remaining_pretty": "CNY 237",
                                    "fee_pretty": "CNY 0",
                                    "current_stage": 1,
                                    "fee_rounded": 0,
                                    "fee": 0,
                                    "limit_from_raw": "2024-10-18 04:25:36",
                                    "limit_from_date": "18 October 2024",
                                    "limit_until": "30 November 2024 23:59",
                                    "amount_pretty": "US$ 0",
                                    "limit_from_time": "04:25",
                                    "u_stage_fee": "0.00"
                                },
                                {
                                    "text": "At the property you'll pay",
                                    "after_checkin": 1,
                                    "amount_pretty": "US$ 33",
                                    "amount": "33.31",
                                    "is_free": 0
                                }
                            ],
                            "currency_code": "CNY",
                            "nr_stages": 2
                        },
                        "type_extended": "non_refundable_prepayment",
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today",
                        "info": {
                            "refundable": "anytime",
                            "prepayment_at_booktime": 0
                        },
                        "extended_type_translation": "No payment needed today"
                    }
                },
                "policy_display_details": {
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "clarification_details": {
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "date": "2024-11-30T18:00:00+08:00",
                                "timezone": "Asia/Chongqing"
                            },
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Chongqing)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "description_details": {
                            "translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 18:00 on the day of arrival. You will be charged the total price of the reservation if you cancel after 18:00 on the day of arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "type": "free_cancellation",
                        "policy_type_key": "super_flex",
                        "title_details": {
                            "tag": "cxl_fc_before_time_date_name",
                            "parameters": {
                                "timezone": "Asia/Chongqing",
                                "time": "18:00",
                                "free_cancellation_deadline": "2024-11-30T18:00:00+08:00",
                                "date": "30 November 2024"
                            },
                            "translation": "<b>Free cancellation</b> before 18:00 on 30 November 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {time} on {date}",
                            "has_html": 1
                        }
                    },
                    "nocc": {
                        "title_details": {
                            "translation": "No credit card needed",
                            "tag": "payment_no_cc_needed_name",
                            "placeholder_translation": "No credit card needed"
                        },
                        "description_details": {
                            "tag": "payment_no_cc_needed_lf_pay_during_stay_description",
                            "translation": "You'll pay during your stay.",
                            "placeholder_translation": "You'll pay during your stay."
                        },
                        "policy_type_key": "no_credit_card"
                    },
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "title_details": {
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1,
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name"
                        },
                        "type": "no_prepayment",
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        }
                    }
                },
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "can_reserve_free_parking": 0,
                "half_board": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "is_block_fit": 1,
                "is_flash_deal": 0,
                "name_without_policy": "Superior Family Room",
                "package_id": 0,
                "is_domestic_rate": 0
            }
        ]
    }
]

2025-08-25 12:34:51,446 - evaluation_logger_Hotels-12 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应配置化，即用户可以配置`config`对象中的`url`、`method`、`params`、`data`、`headers`、`timeout`、`responseType`等属性。其中，`headers`配置对象中的`Content-Type`属性代表着请求主体数据的类型，而`responseType`属性代表着服务端响应数据的类型。这两个属性都是字符串类型，我们可以给它们设置一个我们想要的字符串，但是`TS`无法准确的推断出我们设置的字符串是否合法，为了解决这个问题，我们需要给`headers`中的`Content-Type`和`responseType`定义一个合法的字符串字面量类型。

# 2. 需求分析

我们希望用户再设置`headers`中的`Content-Type`和`responseType`的时候，`TS`能够自动提示出自定义好的几个合法字符串，并且如果用户设置了非法的字符串，`TS`能够给出错误提示。

例如，我们希望`responseType`的合法字符串为：`'' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text'`，当用户设置`responseType`的时候，`TS`能够自动提示出这几个合法字符串，如果用户输入了不在这个几个合法字符串范围内的其他字符串，`TS`就会报错。

# 3. 定义合法类型

根据需求，我们需要给`headers`中的`Content-Type`和`responseType`分别定义合法的字符串字面量类型。

## 3.1 定义 `responseType` 合法类型

`responseType` 的合法类型为：`'' | 'arraybuffer' | 'blob' | 'document' | 'json' | 'text'`，我们把它定义成类型别名。

```typescript
// src/types/index.ts

export type ResponseType = "" | "arraybuffer" | "blob" | "document" | "json" | "text";
```

## 3.2 定义 `Content-Type` 合法类型

`Content-Type` 的合法类型为常见的内容类型，我们把它定义成类型别名。

```typescript
// src/types/index.ts

export type ContentType =
  | "text/html"
  | "text/plain"
  | "multipart/form-data"
  | "application/json"
  | "application/x-www-form-urlencoded"
  | "application/octet-stream"
  | "application/xml"
  | "image/gif"
  | "image/jpeg"
  | "image/png";
```

# 4. 使用合法类型

定义好合法类型后，我们就要在之前代码中使用它们。

## 4.1 使用 `ResponseType` 合法类型

在`config`对象中，我们把`responseType`属性的类型改为`ResponseType`。

```typescript
// src/types/index.ts

export interface AxiosRequestConfig {
  url: string;
  method?: Method;
  data?: any;
  params?: any;
  headers?: any;
  responseType?: ResponseType;
  timeout?: number;
}
```

## 4.2 使用 `ContentType` 合法类型

在`headers`对象中，我们把`Content-Type`属性的类型改为`ContentType`，但是`headers`中除了`Content-Type`属性外还有其他属性，并且`headers`中的属性都是可选的，所以我们可以这样写：

```typescript
// src/types/index.ts

export interface AxiosRequestConfig {
  url: string;
  method?: Method;
  data?: any;
  params?: any;
  headers?: {
    [key: string]: any;
    "Content-Type"?: ContentType;
  };
  responseType?: ResponseType;
  timeout?: number;
}
```

但是这样写的话，`headers`中除了`Content-Type`属性外，其他属性的`key`都是字符串，`value`都是任意类型，并且`Content-Type`属性是可选的。这样写虽然可以，但是不够优雅，我们可以把`headers`的类型抽离出来，单独定义一个接口。

```typescript
// src/types/index.ts

export interface AxiosRequestHeaders {
  [key: string]: any;
  "Content-Type"?: ContentType;
}

export interface AxiosRequestConfig {
  url: string;
  method?: Method;
  data?: any;
  params?: any;
  headers?: AxiosRequestHeaders;
  responseType?: ResponseType;
  timeout?: number;
}
```

OK，这样我们就使用上了之前定义的合法类型。

# 5. 验证

接下来，我们就来验证下我们定义的合法类型是否生效。

我们在`examples/app.ts`中，我们给`responseType`属性随便设置一个非法的字符串，例如`responseType: "invalid"`，然后我们看下`TS`是否会报错。

```typescript
// examples/app.ts

axios({
  method: "post",
  url: "/api/base/post",
  responseType: "invalid",
  data: {
    a: 1,
    b: 2,
  },
});
```

可以看到，`TS`果然报错了，如下图所示：

![](~@/axios/08/01.png)

然后我们按`ctrl + space`，`TS`就会自动提示出合法的字符串，我们选择其中一个，例如`responseType: "json"`，`TS`就不会报错了。

![](~@/axios/08/02.png)

同样，我们给`headers`中的`Content-Type`属性随便设置一个非法的字符串，例如`"Content-Type": "invalid"`，然后我们看下`TS`是否会报错。

```typescript
// examples/app.ts

axios({
  method: "post",
  url: "/api/base/post",
  headers: {
    "Content-Type": "invalid",
  },
  data: {
    a: 1,
    b: 2,
  },
});
```

可以看到，`TS`果然报错了，如下图所示：

![](~@/axios/08/03.png)

然后我们按`ctrl + space`，`TS`就会自动提示出合法的字符串，我们选择其中一个，例如`"Content-Type": "application/json"`，`TS`就不会报错了。

![](~@/axios/08/04.png)

OK，这样我们就实现了`headers`中的`Content-Type`和`responseType`的合法字符串字面量类型。

# 6. 修改之前代码

由于我们修改了`config`对象中`headers`的类型，由之前的任意对象改成了现在的`AxiosRequestHeaders`类型，所以之前代码中如果用到`config.headers`的地方，如果直接把它当对象用可能会报错，因为`AxiosRequestHeaders`类型中除了`Content-Type`属性外，其他属性的`key`都是字符串，`value`都是任意类型，所以我们可以把`config.headers`断言为`any`类型，或者重新定义一个`headers`对象，把`config.headers`的值拷贝到新对象中。

这里我们选择第二种方式，我们重新定义一个`headers`对象，把`config.headers`的值拷贝到新对象中。

在`src/core/xhr.ts`中，我们修改`processHeaders`函数的调用，因为`processHeaders`函数中会处理`config.headers`，所以我们先把`config.headers`拷贝到一个新对象中，然后再处理。

```typescript
// src/core/xhr.ts

const { headers = {}, responseType } = config;

const _headers: any = {};

Object.keys(headers).forEach((key) => {
  _headers[key] = headers[key];
});

if (isFormData(data)) {
  delete _headers["Content-Type"];
}

if (typeof data === "undefined") {
  _headers["Content-Type"] = "application/x-www-form-urlencoded";
}
```

这样，我们就避免了直接修改`config.headers`，从而避免了类型错误。

# 7. 总结

在本篇文章中，我们给`headers`中的`Content-Type`和`responseType`定义了合法的字符串字面量类型，从而让`TS`能够自动提示出合法的字符串，并且如果用户设置了非法的字符串，`TS`能够给出错误提示。这样，我们就提高了代码的健壮性和开发体验。


2025-08-25 12:34:57,889 - evaluation_logger_Hotels-12 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about hotel rooms within 120 kilometers of the specified location.'}
2025-08-25 12:35:05,253 - evaluation_logger_Hotels-12 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:35:05,253 - evaluation_logger_Hotels-12 - INFO - Message: Success.
2025-08-25 12:35:05,253 - evaluation_logger_Hotels-12 - INFO - Success turn num = 2
2025-08-25 12:35:05,253 - evaluation_logger_Hotels-12 - INFO - ----------------------------------------------------------------------------------------------------
