2025-08-25 12:03:57,422 - evaluation_logger_Cross-225 - INFO - Test Example Cross-225
2025-08-25 12:03:57,422 - evaluation_logger_Cross-225 - INFO - Query: On November 15, 2024, I'll travel from Beijing to Paris. Two days later, I'll fly from Paris to London. I need to book the fastest flights for this multi-stop trip. I plan to stay at the ibis Styles Paris Bercy in Paris, can you check whether the hotel is available on those dates? Don't forget to arrange for a taxi to pick me up from the hotel three hours before my flight and take me to the Paris airport on the 17th.
2025-08-25 12:04:07,950 - evaluation_logger_Cross-225 - INFO - Function Calls: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Beijing"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Paris"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "London"
        }
    },
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "ibis Styles Paris Bercy"
        }
    }
]

2025-08-25 12:04:07,950 - evaluation_logger_Cross-225 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Beijing"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Paris"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "London, UK"
        }
    },
    {
        "name": "Search_Hotel_Destination",
        "arguments": {
            "query": "ibis Styles Paris Bercy"
        }
    },
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "legs": [
                {
                    "fromId": "PEK.AIRPORT",
                    "toId": "CDG.AIRPORT",
                    "date": "2024-11-15"
                },
                {
                    "fromId": "CDG.AIRPORT",
                    "toId": "LHR.AIRPORT",
                    "date": "2024-11-17"
                }
            ],
            "sort": "FASTEST"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "dest_id": 53690,
            "search_type": "hotel",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17"
        }
    }
]

2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Beijing'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Beijing'}}
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'ibis Styles Paris Bercy'}}
{'name': 'Search_Hotel_Destination', 'arguments': {'query': 'ibis Styles Paris Bercy'}}
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:09,496 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'London'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'London, UK'}}
2025-08-25 12:04:18,246 - evaluation_logger_Cross-225 - DEBUG - LLM-based comparison output: {'is_equal': True, 'reason': "The parameter 'query' in both function calls refers to the same location, 'London'. The addition of 'UK' in Function call 2 does not change the meaning as a location with or without a country suffix is considered equivalent."}
2025-08-25 12:04:18,246 - evaluation_logger_Cross-225 - INFO - LLM-based compare success.
2025-08-25 12:04:18,246 - evaluation_logger_Cross-225 - INFO - Success matched: [{'name': 'Search_Flight_Location', 'arguments': {'query': 'Beijing'}}, {'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}, {'name': 'Search_Hotel_Destination', 'arguments': {'query': 'ibis Styles Paris Bercy'}}, {'name': 'Search_Flight_Location', 'arguments': {'query': 'London, UK'}}]
2025-08-25 12:04:18,248 - evaluation_logger_Cross-225 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "PEK.AIRPORT",
                "type": "AIRPORT",
                "name": "Beijing Capital International Airport",
                "code": "PEK",
                "city": "BJS",
                "cityName": "Beijing",
                "regionName": "Beijing Area",
                "country": "CN",
                "countryName": "China",
                "countryNameShort": "China",
                "distanceToCity": {
                    "value": 24.602654623740822,
                    "unit": "km"
                },
                "parent": "BJS"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "CDG.AIRPORT",
                "type": "AIRPORT",
                "name": "Paris - Charles de Gaulle Airport",
                "code": "CDG",
                "city": "PAR",
                "cityName": "Paris",
                "regionName": "Ile de France",
                "country": "FR",
                "countryName": "France",
                "countryNameShort": "France",
                "distanceToCity": {
                    "value": 23.042440255246383,
                    "unit": "km"
                },
                "parent": "PAR"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "LHR.AIRPORT",
                "type": "AIRPORT",
                "name": "London Heathrow Airport",
                "code": "LHR",
                "city": "LON",
                "cityName": "London",
                "regionName": "Greater London",
                "country": "GB",
                "countryName": "United Kingdom",
                "countryNameShort": "G.B.",
                "distanceToCity": {
                    "value": 22.860934511152355,
                    "unit": "km"
                },
                "parent": "LON"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "dest_id": "53690",
                "search_type": "hotel",
                "hotels": 1,
                "lc": "en",
                "nr_hotels": 1,
                "country": "France",
                "type": "ho",
                "name": "ibis Styles Paris Bercy",
                "region": "Ile de France",
                "city_name": "Paris",
                "label": "ibis Styles Paris Bercy, Paris, Ile de France, France",
                "city_ufi": -1456928,
                "cc1": "fr",
                "longitude": 2.3810935,
                "roundtrip": "GgEwIAAoATICZW46F2liaXMgU3R5bGVzIFBhcmlzIEJlcmN5QABKAFAA",
                "latitude": 48.83842,
                "dest_type": "hotel"
            }
        ]
    }
]

2025-08-25 12:04:33,634 - evaluation_logger_Cross-225 - INFO - Function Calls: 
[
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "legs": [
                {
                    "fromId": "PEK.AIRPORT",
                    "toId": "CDG.AIRPORT",
                    "date": "2024-11-15"
                },
                {
                    "fromId": "CDG.AIRPORT",
                    "toId": "LHR.AIRPORT",
                    "date": "2024-11-17"
                }
            ],
            "sort": "FASTEST"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "dest_id": 53690,
            "search_type": "hotel",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17"
        }
    }
]

2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "legs": [
                {
                    "fromId": "PEK.AIRPORT",
                    "toId": "CDG.AIRPORT",
                    "date": "2024-11-15"
                },
                {
                    "fromId": "CDG.AIRPORT",
                    "toId": "LHR.AIRPORT",
                    "date": "2024-11-17"
                }
            ],
            "sort": "FASTEST"
        }
    },
    {
        "name": "Search_Hotels",
        "arguments": {
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17",
            "dest_id": 53690,
            "search_type": "hotel"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "ibis Styles Paris Bercy"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Paris - Charles de Gaulle Airport"
        }
    },
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "53690",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17"
        }
    },
    {
        "name": "Search_Taxi",
        "arguments": {
            "pick_up_place_id": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
            "drop_off_place_id": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
            "pick_up_date": "2024-11-17",
            "pick_up_time": "15:00"
        }
    }
]

2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Flights_Multi_Stops', 'arguments': {'legs': [{'fromId': 'PEK.AIRPORT', 'toId': 'CDG.AIRPORT', 'date': '2024-11-15'}, {'fromId': 'CDG.AIRPORT', 'toId': 'LHR.AIRPORT', 'date': '2024-11-17'}], 'sort': 'FASTEST'}}
{'name': 'Search_Flights_Multi_Stops', 'arguments': {'legs': [{'fromId': 'PEK.AIRPORT', 'toId': 'CDG.AIRPORT', 'date': '2024-11-15'}, {'fromId': 'CDG.AIRPORT', 'toId': 'LHR.AIRPORT', 'date': '2024-11-17'}], 'sort': 'FASTEST'}}
2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'dest_id': 53690, 'search_type': 'hotel'}}
{'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'dest_id': 53690, 'search_type': 'hotel'}}
2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Success matched: [{'name': 'Search_Flights_Multi_Stops', 'arguments': {'legs': [{'fromId': 'PEK.AIRPORT', 'toId': 'CDG.AIRPORT', 'date': '2024-11-15'}, {'fromId': 'CDG.AIRPORT', 'toId': 'LHR.AIRPORT', 'date': '2024-11-17'}], 'sort': 'FASTEST'}}, {'name': 'Search_Hotels', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'dest_id': 53690, 'search_type': 'hotel'}}]
2025-08-25 12:04:33,635 - evaluation_logger_Cross-225 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "flightOffers": [
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2QbW-yMBSGf437NAqForCkeUIAnRsvUwHDpwYLIurGYruB_PrnIEubc1-9e057ck5SfosXVT1em_okhfIjUN3Kti5khXj7qR5vEA5te2m-arVobuqH_-56K2xGcfYMELxu8QJYxaoCi7_k_6peKuLG6VNzqFBBFdu2JxSc6tof3ugckZWD93GCHxZvJSXINHTL-5i74WYyb3SV6os4f5xKGrpdHw-OCBPRBZ6vx4MvwpQsoiQX0XkDGt5jf7uJMk72uw6Hw5pslw7OhksX3_Eubbo-Si0danEy5GLvX19HTr1cBNnbbnw7SJZvgasN8JfcZOAnvthe0pnhPZqoOKcYIbKwp77bQlA8n5BLalsTlpLuQtPP_5IktWybTHPoKTYMy3wS1bXismm_3qs7dR3bMBQYa_urEyVhzhJjS1Ngtg8jmOkuNpsfcu6BZoYDu2Ya0kBPoBi0YOEapaNzYNYehDMrBylZebALHahi4-2REYgNw2iqP7P1mD0w_XPel8f_T2f6QBICAAA.",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "PEK",
                                "name": "Beijing Capital International Airport",
                                "city": "BJS",
                                "cityName": "Beijing",
                                "country": "CN",
                                "countryName": "China",
                                "province": "Hebei"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France",
                                "province": "Île de France"
                            },
                            "departureTime": "2024-11-15T13:30:00",
                            "arrivalTime": "2024-11-15T17:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-15T13:30:00",
                                    "arrivalTime": "2024-11-15T17:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PEK",
                                        "name": "Beijing Capital International Airport",
                                        "city": "BJS",
                                        "cityName": "Beijing",
                                        "country": "CN",
                                        "countryName": "China",
                                        "province": "Hebei"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France",
                                        "province": "Île de France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 933,
                                        "planeType": "773",
                                        "carrierInfo": {
                                            "operatingCarrier": "CA",
                                            "marketingCarrier": "CA"
                                        }
                                    },
                                    "carriers": [
                                        "CA",
                                        "CA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air China",
                                            "code": "CA"
                                        },
                                        {
                                            "name": "Air China",
                                            "code": "CA"
                                        }
                                    ],
                                    "totalTime": 40500,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "777"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet"
                                            ]
                                        }
                                    ],
                                    "departureTerminal": "3",
                                    "arrivalTerminal": "1"
                                }
                            ],
                            "totalTime": 40500,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France",
                                "province": "Île de France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom",
                                "province": "Greater London"
                            },
                            "departureTime": "2024-11-17T18:00:00",
                            "arrivalTime": "2024-11-17T18:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-17T18:00:00",
                                    "arrivalTime": "2024-11-17T18:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France",
                                        "province": "Île de France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom",
                                        "province": "Greater London"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1180,
                                        "carrierInfo": {
                                            "operatingCarrier": "AF",
                                            "marketingCarrier": "AF"
                                        }
                                    },
                                    "carriers": [
                                        "AF",
                                        "AF"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air France",
                                            "code": "AF"
                                        },
                                        {
                                            "name": "Air France",
                                            "code": "AF"
                                        }
                                    ],
                                    "totalTime": 4800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "223"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ]
                                }
                            ],
                            "totalTime": 4800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d6a1f_H4sIAAAAAAAA_y2Q226jMBCGnya9Wgw2EKCStWKBpGk5NAkQcWURcwg51CvsbghPvyZUtub_5teMPZqTEH_5q6o21649Ca58c9AywdpS1ICym9r0MhwZu3RfrVp2vfoZfHj-Gppxkv-SEL7toCVZhaoiD30tfteDUHhP8Ut3rEGJFcdxZuQUI-0He7wExtqFhySFT4sygQ1g6sj2P5f-H3s2e7zOkJUUz6zCkXcfktHlUcrvoR-gZAx4lBlWnBY8Pm-lRo8k2G3jnBqH_R1G48bYrVyYj5d78oD7rLsPcWYj2QvTseCH4Po2ceYXPMzf99PbYbp6Dz1tlH-JbS79NOC7S7bQ_ecQNaUYAmBYzjw3KzmGyxmpwM48OKsE3kdmUPwUCWw7jjHvYcBQ123zhdfXmoqOfX3UD-y5jq4rcq3sHzKUlLgriGxNkbt9GuECedA8Nxa6SVrorrwt0YAm9SQVSi1JtAHbQtKR2AcplNhTVpHq6JRIUk2m-oYYMnYEgrn_TDZT9UjQbTlUzX_QR9hzEgIAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "PEK",
                                "name": "Beijing Capital International Airport",
                                "city": "BJS",
                                "cityName": "Beijing",
                                "country": "CN",
                                "countryName": "China",
                                "province": "Hebei"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France",
                                "province": "Île de France"
                            },
                            "departureTime": "2024-11-15T13:30:00",
                            "arrivalTime": "2024-11-15T17:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-15T13:30:00",
                                    "arrivalTime": "2024-11-15T17:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PEK",
                                        "name": "Beijing Capital International Airport",
                                        "city": "BJS",
                                        "cityName": "Beijing",
                                        "country": "CN",
                                        "countryName": "China",
                                        "province": "Hebei"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France",
                                        "province": "Île de France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 933,
                                        "planeType": "773",
                                        "carrierInfo": {
                                            "operatingCarrier": "CA",
                                            "marketingCarrier": "CA"
                                        }
                                    },
                                    "carriers": [
                                        "CA",
                                        "CA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air China",
                                            "code": "CA"
                                        },
                                        {
                                            "name": "Air China",
                                            "code": "CA"
                                        }
                                    ],
                                    "totalTime": 40500,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "777"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet"
                                            ]
                                        }
                                    ],
                                    "departureTerminal": "3",
                                    "arrivalTerminal": "1"
                                }
                            ],
                            "totalTime": 40500,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France",
                                "province": "Île de France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom",
                                "province": "Greater London"
                            },
                            "departureTime": "2024-11-17T16:10:00",
                            "arrivalTime": "2024-11-17T16:35:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-17T16:10:00",
                                    "arrivalTime": "2024-11-17T16:35:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France",
                                        "province": "Île de France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom",
                                        "province": "Greater London"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1280,
                                        "carrierInfo": {
                                            "operatingCarrier": "AF",
                                            "marketingCarrier": "AF"
                                        }
                                    },
                                    "carriers": [
                                        "AF",
                                        "AF"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "Air France",
                                            "code": "AF"
                                        },
                                        {
                                            "name": "Air France",
                                            "code": "AF"
                                        }
                                    ],
                                    "totalTime": 5100,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "223"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ]
                                }
                            ],
                            "totalTime": 5100,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                }
            ],
            "flightDeals": [
                {
                    "key": "CHEAPEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_0WRa2-bMBSGf037aRgMJjGVrCkDlqBwycpt2RcLCCEkXTzFbk349XMh2mT7nOd9ZR_fTkL84S-6fnzru5Pg2jsHHROsq0QLGvZbP95UqBm79NdOr_qbvvO3rreGdpwUXxSEm1e4VKxDXVOtedl_bQeh8VtDnvu6BRXRHMeZkTfEzFD5EDeyAGi9gmWSwclqmCAI2JaJvd3C3dizeSPrLVw63qQOJHKlDD2fRxmfcy_HxGA87SUsXAmTMbBC7_9IRt8Ovb0RujDNe3mPRg6jMUCv31ewGC9D6OVjdD75uVf8TLJgGWXFLu7lEOfYVPVlcc7VXt_KOFVesTKTuzGkqRTRuOKRIX6E3kWGrjFMx2ubhkAA0NKZb8QqTjBGMzeCPB6CHQRJI9vfP2apa1vIWExiINCysP3M27e2ET27bts72frYRpp6c_ZhIi2jWYkM-E8HtNhjEzma-ojJ2CtjsbANDeLZ2D2ZLvs4D_ergidrpXpHDTA1xaeJIYCKK2oGYO2DTQw8U-ma4lKlhuJfKh2o3SKEFbW0rhFScKSfsafwUexMg88FI63bCpndX1KNfWJgAgAA",
                    "price": {
                        "currencyCode": "USD",
                        "units": 434,
                        "nanos": 60000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 434,
                                    "nanos": 60000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 255,
                                    "nanos": 280000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 47,
                                    "nanos": 940000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 130,
                                    "nanos": 840000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 435
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 434,
                                    "nanos": 60000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 435
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "FASTEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_y2QbW-yMBSGf437NAqForCkeUIAnRsvUwHDpwYLIurGYruB_PrnIEubc1-9e057ck5SfosXVT1em_okhfIjUN3Kti5khXj7qR5vEA5te2m-arVobuqH_-56K2xGcfYMELxu8QJYxaoCi7_k_6peKuLG6VNzqFBBFdu2JxSc6tof3ugckZWD93GCHxZvJSXINHTL-5i74WYyb3SV6os4f5xKGrpdHw-OCBPRBZ6vx4MvwpQsoiQX0XkDGt5jf7uJMk72uw6Hw5pslw7OhksX3_Eubbo-Si0danEy5GLvX19HTr1cBNnbbnw7SJZvgasN8JfcZOAnvthe0pnhPZqoOKcYIbKwp77bQlA8n5BLalsTlpLuQtPP_5IktWybTHPoKTYMy3wS1bXismm_3qs7dR3bMBQYa_urEyVhzhJjS1Ngtg8jmOkuNpsfcu6BZoYDu2Ya0kBPoBi0YOEapaNzYNYehDMrBylZebALHahi4-2REYgNw2iqP7P1mD0w_XPel8f_T2f6QBICAAA.",
                    "price": {
                        "currencyCode": "USD",
                        "units": 899,
                        "nanos": 490000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 899,
                                    "nanos": 490000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 678,
                                    "nanos": 410000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 221,
                                    "nanos": 80000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 900
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 899,
                                    "nanos": 490000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 900
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "BEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_02QaY_aMBCGfw37qTmcA5yVrFUWB7qQCzbJNp-sYEKOUlxhtwv59R0IqlYzmnnm9Xh8tEr9ls-GcTh2Tauk9kfqjVCiqVStc_HLOJwh7IT42Z0ao-rORhqs53SJ3DgpvgGE37doBmwgQwPjz-VLfVGaPHPy1O1qvSKa53kjSk4s84FnMtWdpY8-kgzdJS4UcXTXtjBNp3SOR_FMlpmNzfRe7Uk0__wMaTD7ki9xLy8hXSTJUJohLc1kyIeob4OcFj-SRSPjLLomwXYTF9yNqFT58U1GWZHGHezNsRUu2tX2Clz4FsxEOS1lWKzek8GXYbZYhXNzgHNUTAOoA5kEgdxsJjYFv1-r5pwgXXdm3vgSUUmCpiNyRbzxKWKvyHvkBuWjSRF35tjjz1wIsm3sPsn6WHPVidO6vpIod5FpavDT4q_laK8MhKn3v86Yv0AIQ8NsFMKJNT-JfsAVwMT2wRtm6mBA7Z0QUMVeE32d6vlN3jH8AYkzXELaM8zt3RSoZrfVA3Mgdgw9hvTs7dY9MIRt7vb_AIdkVgM7AgAA",
                    "price": {
                        "currencyCode": "USD",
                        "units": 574,
                        "nanos": 390000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 574,
                                    "nanos": 390000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 339,
                                    "nanos": 410000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 234,
                                    "nanos": 980000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 575
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 574,
                                    "nanos": 390000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 575
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        }
                    ]
                }
            ],
            "atolProtectedStatus": "NONE",
            "searchId": "7226870D0A586E011EC73AB2CC3A40B5",
            "displayOptions": {
                "brandedFaresShownByDefault": false,
                "directFlightsOnlyFilterIgnored": false,
                "hideFlexiblePricesBanner": false
            },
            "isOffersCabinClassExtended": false,
            "searchCriteria": {
                "cabinClass": "ECONOMY"
            },
            "priceAlertStatus": {
                "isEligible": false,
                "isSearchEligible": false
            }
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "hotels": [
                {
                    "hotel_id": 53690,
                    "accessibilityLabel": "ibis Styles Paris Bercy.\n3 out of 5 stars.\n7.5 Good 9724 reviews.\n‎12th arr.‬ • ‎3 km from centre‬.\n Hotel room : 1 bed.\n294 USD.\nIncludes taxes and charges.\nFree cancellation.",
                    "property": {
                        "checkinDate": "2024-11-15",
                        "reviewCount": 9724,
                        "longitude": 2.38109350204468,
                        "currency": "EUR",
                        "reviewScoreWord": "Good",
                        "accuratePropertyClass": 3,
                        "reviewScore": 7.5,
                        "id": 53690,
                        "isHighlightedHotel": true,
                        "isFirstPage": true,
                        "priceBreakdown": {
                            "grossPrice": {
                                "value": 293.614090429851,
                                "currency": "USD"
                            }
                        },
                        "checkoutDate": "2024-11-17",
                        "propertyClass": 3,
                        "isPreferred": true,
                        "optOutFromGalleryChanges": 0,
                        "checkout": {
                            "untilTime": "12:00",
                            "fromTime": "00:00"
                        },
                        "name": "ibis Styles Paris Bercy",
                        "rankingPosition": 0,
                        "latitude": 48.8384191339527,
                        "ufi": -1456928,
                        "mainPhotoId": 512643205,
                        "blockIds": [
                            "5369009_398837781_1_33_0"
                        ],
                        "wishlistName": "Paris",
                        "position": 0,
                        "qualityClass": 0,
                        "checkin": {
                            "fromTime": "14:00",
                            "untilTime": "00:00"
                        },
                        "countryCode": "fr"
                    }
                }
            ],
            "meta": [
                {
                    "title": "4239 properties"
                }
            ],
            "appear": [
                {
                    "id": "cma",
                    "component": {
                        "props": {
                            "fill": true,
                            "content": {
                                "props": {
                                    "fitContentWidth": true,
                                    "items": [
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "spacing": "spacing_half",
                                                        "items": [
                                                            {
                                                                "props": {
                                                                    "text": [
                                                                        {
                                                                            "font": "body_2",
                                                                            "text": "Commission paid and other benefits may affect an accommodation's ranking."
                                                                        },
                                                                        {
                                                                            "color": "foreground",
                                                                            "font": "strong_2",
                                                                            "text": "  "
                                                                        },
                                                                        {
                                                                            "linkActions": [
                                                                                {}
                                                                            ],
                                                                            "color": "action_foreground",
                                                                            "font": "body_2",
                                                                            "text": "Find out more"
                                                                        }
                                                                    ]
                                                                }
                                                            }
                                                        ]
                                                    }
                                                }
                                            }
                                        },
                                        {},
                                        {
                                            "props": {
                                                "component": {
                                                    "props": {
                                                        "variant": "tertiary_tinted",
                                                        "accessibilityLabel": "Close",
                                                        "icon": "close",
                                                        "tertiaryTintedColor": "foreground"
                                                    }
                                                }
                                            }
                                        }
                                    ]
                                }
                            }
                        }
                    }
                },
                {},
                {
                    "component": {
                        "props": {
                            "text": "Properties with these icons have been awarded Booking.com's quality rating for homes"
                        }
                    },
                    "id": "banner_qualityrating"
                },
                {
                    "id": "signin_now",
                    "component": {
                        "props": {
                            "text": "Get instant access to our Genius loyalty programme and enjoy discounts at properties worldwide.",
                            "title": "Sign in and save money"
                        }
                    }
                }
            ]
        }
    }
]

2025-08-25 12:04:57,001 - evaluation_logger_Cross-225 - INFO - Function Calls: 
[
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "ibis Styles Paris Bercy"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Paris - Charles de Gaulle Airport"
        }
    },
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "53690",
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17"
        }
    }
]

2025-08-25 12:04:57,001 - evaluation_logger_Cross-225 - INFO - Golden Function Call: 
[
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "ibis Styles Paris Bercy"
        }
    },
    {
        "name": "Taxi_Search_Location",
        "arguments": {
            "query": "Paris - Charles de Gaulle Airport"
        }
    },
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "arrival_date": "2024-11-15",
            "departure_date": "2024-11-17",
            "hotel_id": "53690"
        }
    },
    {
        "name": "Search_Taxi",
        "arguments": {
            "drop_off_place_id": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
            "pick_up_date": "2024-11-17",
            "pick_up_place_id": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
            "pick_up_time": "15:00"
        }
    }
]

2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'ibis Styles Paris Bercy'}}
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'ibis Styles Paris Bercy'}}
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}
{'name': 'Taxi_Search_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'hotel_id': '53690'}}
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'hotel_id': '53690'}}
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:04:57,002 - evaluation_logger_Cross-225 - INFO - Success matched: [{'name': 'Taxi_Search_Location', 'arguments': {'query': 'ibis Styles Paris Bercy'}}, {'name': 'Taxi_Search_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}, {'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-15', 'departure_date': '2024-11-17', 'hotel_id': '53690'}}]
2025-08-25 12:04:57,004 - evaluation_logger_Cross-225 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "latitude": 48.83842,
                "googlePlaceId": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
                "countryCode": "fr",
                "country": "France",
                "city": "Paris",
                "longitude": 2.3810935,
                "name": "ibis Styles Paris Bercy",
                "types": "hotel"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "longitude": 2.56844,
                "iata": "CDG",
                "latitude": 49.0071,
                "googlePlaceId": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
                "types": "airport",
                "country": "France",
                "city": "Paris",
                "countryCode": "fr",
                "name": "Paris - Charles de Gaulle Airport"
            }
        ]
    },
    {
        "status": true,
        "available": [
            {
                "half_board": 0,
                "breakfast_included": 1,
                "roomtype_id": 9,
                "is_dormitory": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "all_inclusive": 0,
                "is_smart_deal": 0,
                "smoking": 0,
                "max_occupancy": 1,
                "is_block_fit": 1,
                "max_children_free": 0,
                "choose_when_you_pay": 1,
                "block_id": "5369009_398837781_1_33_0",
                "name": "Standard Double Room - single occupancy - Free cancellation",
                "full_board": 0,
                "deposit_required": 1,
                "room_id": 5369009,
                "pre_auth_bo_nocc": 0,
                "paymentterms": {
                    "prepayment": {
                        "type": "partial_prepayment",
                        "type_translation": "Prepayment needed",
                        "extended_type_translation": "REFUNDABLE prepayment needed",
                        "timeline": {
                            "policygroup_instance_id": "36/36/-",
                            "currency_code": "EUR",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_timezone": "Paris",
                                    "u_fee_remaining_pretty": "US$ 282",
                                    "stage_fee": 0,
                                    "current_stage": 1,
                                    "limit_from": "30 October 2024 04:02",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "effective_number": 0,
                                    "amount_pretty": "US$ 0",
                                    "limit_from_date": "30 October 2024",
                                    "fee_remaining": 261,
                                    "u_fee": "0.00",
                                    "fee_pretty": "&#x20AC; 0",
                                    "limit_until_time": "23:59",
                                    "fee_rounded": 0,
                                    "u_stage_fee": "0.00",
                                    "u_fee_remaining": "282.36",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 261",
                                    "limit_from_time": "04:02",
                                    "text": "Today you'll pay",
                                    "limit_until_raw": "2024-11-13 23:59:59",
                                    "u_fee_pretty": "US$ 0",
                                    "is_free": 1,
                                    "limit_until": "13 November 2024 23:59",
                                    "b_state": "FREE",
                                    "fee": 0,
                                    "limit_until_date": "13 November 2024",
                                    "b_number": 0,
                                    "amount": "0.00",
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-10-30 04:02:40"
                                },
                                {
                                    "fee_remaining": 130.5,
                                    "u_stage_fee": "141.18",
                                    "limit_until_time": "00:00",
                                    "fee_rounded": 131,
                                    "u_fee": 141.18,
                                    "fee_pretty": "&#x20AC; 130",
                                    "stage_fee": 130.5,
                                    "u_fee_remaining_pretty": "US$ 141",
                                    "limit_timezone": "Paris",
                                    "limit_from_date": "14 November 2024",
                                    "amount_pretty": "US$ 141",
                                    "effective_number": 1,
                                    "limit_from": "14 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 141",
                                    "current_stage": 0,
                                    "b_state": "PAID",
                                    "fee": 130.5,
                                    "limit_until": "14 November 2024 00:00",
                                    "is_free": 0,
                                    "amount": "141.18",
                                    "limit_from_raw": "2024-11-14 00:00:00",
                                    "is_effective": 1,
                                    "limit_until_date": "14 November 2024",
                                    "b_number": 1,
                                    "limit_from_time": "00:00",
                                    "text": "After 14 November you'll pay",
                                    "stage_fee_pretty": "&#x20AC; 131",
                                    "fee_remaining_pretty": "&#x20AC; 130",
                                    "u_fee_remaining": "141.18",
                                    "u_fee_pretty": "US$ 141",
                                    "limit_until_raw": "2024-11-14 00:00:00"
                                },
                                {
                                    "is_free": 0,
                                    "amount_pretty": "US$ 141",
                                    "after_checkin": 1,
                                    "amount": "141.18",
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "nr_stages": 3
                        },
                        "simple_translation": "Prepayment",
                        "info": {
                            "timezone_offset": "3600",
                            "prepayment_at_booktime": 0,
                            "is_midnight": 1,
                            "date_before": "13 November 2024",
                            "date": "14 November 2024",
                            "timezone": "CET",
                            "refundable": 1,
                            "time": "00:00",
                            "time_before_midnight": "23:59"
                        },
                        "type_extended": "refundable_prepayment",
                        "description": "You will be charged a prepayment of the cost of the first night within 1 day before arrival."
                    },
                    "cancellation": {
                        "guaranteed_non_refundable": 0,
                        "timeline": {
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/36/-",
                            "currency_code": "EUR",
                            "stages": [
                                {
                                    "current_stage": 1,
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "30 October 2024 04:02",
                                    "effective_number": 0,
                                    "limit_from_date": "30 October 2024",
                                    "limit_timezone": "Paris",
                                    "stage_translation": "Free to cancel",
                                    "u_fee_remaining_pretty": "US$ 282",
                                    "stage_fee": 0,
                                    "fee_pretty": "&#x20AC; 0",
                                    "u_fee": "0.00",
                                    "fee_rounded": 0,
                                    "limit_until_time": "23:59",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 261,
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 13 November 2024.",
                                    "limit_until_raw": "2024-11-13 23:59:59",
                                    "u_fee_pretty": "US$ 0",
                                    "u_fee_remaining": "282.36",
                                    "fee_remaining_pretty": "&#x20AC; 261",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "text": "Free cancellation until 23:59 on 13 Nov",
                                    "limit_from_time": "04:02",
                                    "b_number": 0,
                                    "limit_until_date": "13 November 2024",
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_free": 1,
                                    "limit_until": "13 November 2024 23:59",
                                    "date_until": "2024-11-13 23:59:59 +0100",
                                    "fee": 0,
                                    "b_state": "FREE"
                                },
                                {
                                    "limit_until": "14 November 2024 00:00",
                                    "is_free": 0,
                                    "b_state": "PAID",
                                    "fee": 130.5,
                                    "limit_until_date": "14 November 2024",
                                    "b_number": 1,
                                    "amount": 141.18,
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-11-14 00:00:00",
                                    "u_fee_remaining": "141.18",
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 14 Nov",
                                    "stage_fee_pretty": "&#x20AC; 131",
                                    "fee_remaining_pretty": "&#x20AC; 130",
                                    "text_refundable": "If you cancel from 14 November 2024, you'll get a US$ 141 refund.",
                                    "limit_until_raw": "2024-11-14 00:00:00",
                                    "u_fee_pretty": "US$ 141",
                                    "fee_remaining": 130.5,
                                    "limit_until_time": "00:00",
                                    "fee_rounded": 131,
                                    "u_fee": "141.18",
                                    "fee_pretty": "&#x20AC; 130",
                                    "u_stage_fee": "141.18",
                                    "stage_translation": "Partial refund if you cancel",
                                    "limit_timezone": "Paris",
                                    "stage_fee": 130.5,
                                    "u_fee_remaining_pretty": "US$ 141",
                                    "limit_from": "14 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 141",
                                    "date_from": "2024-11-14 00:00:00 +0100",
                                    "current_stage": 0,
                                    "limit_from_date": "14 November 2024",
                                    "effective_number": 1,
                                    "amount_pretty": "US$ 141"
                                }
                            ],
                            "u_currency_code": "USD"
                        },
                        "type_translation": "Free cancellation",
                        "bucket": "SMP_FLEX",
                        "type": "free_cancellation",
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the cost of the first night if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "non_refundable_anymore": 0,
                        "info": {
                            "date": "14 November 2024",
                            "is_midnight": 1,
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-13",
                            "date_before": "13 November 2024",
                            "timezone_offset": "3600",
                            "refundable_date_midnight": "2024-11-13T23:59:59+01:00",
                            "refundable": 1,
                            "time": "00:00",
                            "timezone": "CET",
                            "refundable_date": "2024-11-14T00:00:00+01:00",
                            "date_raw": "2024-11-14 00:00:00"
                        }
                    }
                },
                "genius_discount_percentage": 0,
                "is_secret_deal": 0,
                "is_domestic_rate": 0,
                "must_reserve_free_parking": 0,
                "is_vp2_enrolled": 1,
                "b_pay_later_deadline_epoch": 1731365940,
                "is_flash_deal": 0,
                "room_surface_in_feet2": 139.9308352,
                "transactional_policy_objects": [
                    {
                        "parameters": [
                            {
                                "type": "datetime",
                                "key": "date",
                                "format": "dMMMy",
                                "value": "2024-11-14T00:00:00+01:00"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Europe/Paris"
                            }
                        ],
                        "key": "FreeCancellationKey",
                        "text": "<b>Free cancellation</b> before {date}",
                        "icon": "checkmark_fill"
                    },
                    {
                        "icon": "clock",
                        "text": "Pay nothing until {date}",
                        "key": "PayNothingUntilKey",
                        "parameters": [
                            {
                                "format": "dMMM",
                                "key": "date",
                                "type": "datetime",
                                "value": "2024-11-11T23:59:00+01:00"
                            },
                            {
                                "type": "datetime",
                                "key": "time",
                                "format": "jmm",
                                "value": "2024-11-11T23:59:00+01:00"
                            }
                        ]
                    }
                ],
                "number_of_bathrooms": 0,
                "is_mobile_deal": 0,
                "room_surface_in_m2": 13,
                "room_count": 14,
                "policy_display_details": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "cancellation": {
                        "type": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "policy_type_key": "free_cancellation",
                        "clarification_details": {
                            "parameters": {
                                "date": "2024-11-14T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "title_details": {
                            "parameters": {
                                "free_cancellation_deadline": "2024-11-14T00:00:00+01:00",
                                "timezone": "Europe/Paris",
                                "date": "14 November 2024"
                            },
                            "has_html": 1,
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "translation": "<b>Free cancellation</b> before 14 November 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}"
                        },
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    },
                    "prepayment": {
                        "description_details": {
                            "parameters": {
                                "time": "23:59",
                                "date": "11 November 2024",
                                "timezone": "Europe/Paris",
                                "scheduled_payment_deadline": "2024-11-11T23:59:00+01:00"
                            },
                            "placeholder_translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "tag": "payment_cwyp_description",
                            "translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book."
                        },
                        "title_details": {
                            "translation": "Pay nothing until 11 November 2024",
                            "tag": "payment_scheduled_name",
                            "placeholder_translation": "Pay nothing until {date}",
                            "parameters": {
                                "date": "11 November 2024",
                                "timezone": "Europe/Paris",
                                "scheduled_payment_deadline": "2024-11-11T23:59:00+01:00"
                            }
                        },
                        "policy_type_key": "pbb_scheduled",
                        "type": "partial_prepayment"
                    }
                },
                "babycots_available": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "The total price of the reservation is charged at the time of booking.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "mealplan_vector": "33",
                            "content": "Breakfast included in the price",
                            "class": "POLICY_HOTEL_MEALPLAN"
                        },
                        {
                            "content": "Fully Flexible",
                            "class": "POLICY_TITLE"
                        },
                        {
                            "content": " You'll get a full refund if you cancel before 23:59 on 13 November 2024. If you cancel from 14 November 2024, you'll get a US$ 141.18 refund.",
                            "class": "POLICY_REFUND_SCHEDULE"
                        }
                    ]
                },
                "max_children_free_age": 0,
                "nr_adults": 1,
                "refundable": 1,
                "can_reserve_free_parking": 0,
                "nr_children": 0,
                "room_name": "Standard Double Room",
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "parameters": [
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "format": "dMMMy",
                                    "key": "date",
                                    "type": "datetime"
                                },
                                {
                                    "format": "jmm",
                                    "key": "time",
                                    "type": "datetime",
                                    "value": "2024-11-11T23:59:00+01:00"
                                }
                            ],
                            "key": "PayNothingUntilKey",
                            "type": "prepayment",
                            "icon": "credit_card",
                            "policy_type_key": "pbb_scheduled",
                            "text": "Prepayment",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book."
                        },
                        {
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "key": "FreeCancellationKey",
                            "parameters": [
                                {
                                    "key": "date",
                                    "format": "dMMMy",
                                    "type": "datetime",
                                    "value": "2024-11-14T00:00:00+01:00"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        }
                    ],
                    "policies": [
                        {
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "key": "date",
                                    "value": "2024-11-14T00:00:00+01:00"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "type": "cancellation"
                        },
                        {
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "text": "Pay nothing until {date}",
                            "icon": "clock",
                            "policy_type_key": "pbb_scheduled",
                            "type": "prepayment",
                            "key": "PayNothingUntilKey",
                            "parameters": [
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "format": "dMMM",
                                    "key": "date",
                                    "type": "datetime"
                                },
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "type": "datetime",
                                    "key": "time",
                                    "format": "jmm"
                                }
                            ]
                        }
                    ],
                    "applied_products": [
                        "pay_in_follows_policy"
                    ]
                },
                "name_without_policy": "Standard Double Room - single occupancy",
                "package_id": 0,
                "product_price_breakdown": {
                    "has_long_stays_weekly_rate_price": 0,
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "value": 271.4,
                        "amount_unrounded": "€ 271.40",
                        "currency": "EUR",
                        "amount_rounded": "€ 271"
                    },
                    "gross_amount": {
                        "amount_rounded": "US$282",
                        "value": 282.362850413379,
                        "amount_unrounded": "US$282.36",
                        "currency": "USD"
                    },
                    "nr_stays": 7,
                    "excluded_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$11.25",
                        "value": 11.2512400164718,
                        "amount_rounded": "US$11"
                    },
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$25.67",
                        "value": 25.6693500375799,
                        "amount_rounded": "US$26"
                    },
                    "charges_details": {
                        "mode": "extra_charges",
                        "amount": {
                            "value": 11,
                            "currency": "USD"
                        }
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "gross_amount_per_night": {
                        "amount_unrounded": "US$141.18",
                        "currency": "USD",
                        "value": 141.18142520669,
                        "amount_rounded": "US$141"
                    },
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "items": [
                        {
                            "item_amount": {
                                "amount_rounded": "US$26",
                                "value": 25.6693500375799,
                                "currency": "USD",
                                "amount_unrounded": "US$25.67"
                            },
                            "name": "VAT",
                            "base": {
                                "kind": "percentage",
                                "percentage": 10
                            },
                            "details": "10 % VAT",
                            "kind": "charge",
                            "inclusion_type": "included"
                        },
                        {
                            "base": {
                                "base_amount": 5.2,
                                "kind": "per_person_per_night"
                            },
                            "item_amount": {
                                "amount_rounded": "US$11",
                                "value": 11.2512400164718,
                                "currency": "USD",
                                "amount_unrounded": "US$11.25"
                            },
                            "inclusion_type": "excluded",
                            "kind": "charge",
                            "name": "City tax"
                        }
                    ],
                    "gross_amount_hotel_currency": {
                        "value": 261,
                        "currency": "EUR",
                        "amount_unrounded": "€ 261",
                        "amount_rounded": "€ 261"
                    },
                    "net_amount": {
                        "amount_unrounded": "US$256.69",
                        "currency": "USD",
                        "value": 256.693500375799,
                        "amount_rounded": "US$257"
                    },
                    "all_inclusive_amount": {
                        "value": 293.614090429851,
                        "currency": "USD",
                        "amount_unrounded": "US$293.61",
                        "amount_rounded": "US$294"
                    }
                },
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "mealplan": "Breakfast included in the price",
                "extrabed_available": 0,
                "refundable_until": "2024-11-13 23:59:59 +0100",
                "is_last_minute_deal": 0,
                "number_of_bedrooms": 0
            },
            {
                "name": "Standard Double Room - Free cancellation",
                "full_board": 0,
                "block_id": "5369009_398837781_2_33_0",
                "is_block_fit": 1,
                "max_children_free": 0,
                "choose_when_you_pay": 1,
                "max_occupancy": 2,
                "is_secret_deal": 0,
                "is_vp2_enrolled": 1,
                "must_reserve_free_parking": 0,
                "is_domestic_rate": 0,
                "b_pay_later_deadline_epoch": 1731365940,
                "pre_auth_bo_nocc": 0,
                "genius_discount_percentage": 0,
                "paymentterms": {
                    "prepayment": {
                        "type": "partial_prepayment",
                        "timeline": {
                            "stages": [
                                {
                                    "amount": "0.00",
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_effective": 1,
                                    "limit_until_date": "13 November 2024",
                                    "b_number": 0,
                                    "b_state": "FREE",
                                    "fee": 0,
                                    "is_free": 1,
                                    "limit_until": "13 November 2024 23:59",
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_raw": "2024-11-13 23:59:59",
                                    "fee_remaining_pretty": "&#x20AC; 284",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "limit_from_time": "04:02",
                                    "text": "Today you'll pay",
                                    "u_fee_remaining": "307.68",
                                    "u_stage_fee": "0.00",
                                    "u_fee": "0.00",
                                    "fee_pretty": "&#x20AC; 0",
                                    "limit_until_time": "23:59",
                                    "fee_rounded": 0,
                                    "fee_remaining": 284.4,
                                    "effective_number": 0,
                                    "amount_pretty": "US$ 0",
                                    "limit_from_date": "30 October 2024",
                                    "current_stage": 1,
                                    "limit_from": "30 October 2024 04:02",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "u_fee_remaining_pretty": "US$ 307",
                                    "stage_fee": 0,
                                    "limit_timezone": "Paris"
                                },
                                {
                                    "is_free": 0,
                                    "limit_until": "14 November 2024 00:00",
                                    "b_state": "PAID",
                                    "fee": 142.2,
                                    "limit_until_date": "14 November 2024",
                                    "b_number": 1,
                                    "amount": "153.84",
                                    "limit_from_raw": "2024-11-14 00:00:00",
                                    "is_effective": 1,
                                    "u_fee_remaining": "153.84",
                                    "stage_fee_pretty": "&#x20AC; 142",
                                    "fee_remaining_pretty": "&#x20AC; 142",
                                    "limit_from_time": "00:00",
                                    "text": "After 14 November you'll pay",
                                    "limit_until_raw": "2024-11-14 00:00:00",
                                    "u_fee_pretty": "US$ 154",
                                    "fee_remaining": 142.2,
                                    "u_fee": 153.84,
                                    "fee_pretty": "&#x20AC; 142",
                                    "limit_until_time": "00:00",
                                    "fee_rounded": 142,
                                    "u_stage_fee": "153.84",
                                    "limit_timezone": "Paris",
                                    "u_fee_remaining_pretty": "US$ 153",
                                    "stage_fee": 142.2,
                                    "current_stage": 0,
                                    "limit_from": "14 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 154",
                                    "amount_pretty": "US$ 154",
                                    "effective_number": 1,
                                    "limit_from_date": "14 November 2024"
                                },
                                {
                                    "is_free": 0,
                                    "after_checkin": 1,
                                    "amount_pretty": "US$ 153",
                                    "amount": "153.84",
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "u_currency_code": "USD",
                            "currency_code": "EUR",
                            "policygroup_instance_id": "36/36/-",
                            "nr_stages": 3
                        },
                        "type_translation": "Prepayment needed",
                        "extended_type_translation": "REFUNDABLE prepayment needed",
                        "info": {
                            "prepayment_at_booktime": 0,
                            "timezone_offset": "3600",
                            "is_midnight": 1,
                            "date_before": "13 November 2024",
                            "date": "14 November 2024",
                            "timezone": "CET",
                            "time_before_midnight": "23:59",
                            "refundable": 1,
                            "time": "00:00"
                        },
                        "simple_translation": "Prepayment",
                        "description": "You will be charged a prepayment of the cost of the first night within 1 day before arrival.",
                        "type_extended": "refundable_prepayment"
                    },
                    "cancellation": {
                        "non_refundable_anymore": 0,
                        "info": {
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-13",
                            "date": "14 November 2024",
                            "is_midnight": 1,
                            "refundable": 1,
                            "time": "00:00",
                            "date_raw": "2024-11-14 00:00:00",
                            "refundable_date": "2024-11-14T00:00:00+01:00",
                            "timezone": "CET",
                            "date_before": "13 November 2024",
                            "refundable_date_midnight": "2024-11-13T23:59:59+01:00",
                            "timezone_offset": "3600"
                        },
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the cost of the first night if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "type": "free_cancellation",
                        "bucket": "SMP_FLEX",
                        "type_translation": "Free cancellation",
                        "guaranteed_non_refundable": 0,
                        "timeline": {
                            "currency_code": "EUR",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "fee_remaining": 284.4,
                                    "fee_rounded": 0,
                                    "limit_until_time": "23:59",
                                    "fee_pretty": "&#x20AC; 0",
                                    "u_fee": "0.00",
                                    "u_stage_fee": "0.00",
                                    "limit_timezone": "Paris",
                                    "stage_translation": "Free to cancel",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 307",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "30 October 2024 04:02",
                                    "current_stage": 1,
                                    "limit_from_date": "30 October 2024",
                                    "effective_number": 0,
                                    "limit_until": "13 November 2024 23:59",
                                    "is_free": 1,
                                    "fee": 0,
                                    "b_state": "FREE",
                                    "date_until": "2024-11-13 23:59:59 +0100",
                                    "b_number": 0,
                                    "limit_until_date": "13 November 2024",
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_effective": 1,
                                    "u_fee_remaining": "307.68",
                                    "text": "Free cancellation until 23:59 on 13 Nov",
                                    "limit_from_time": "04:02",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 284",
                                    "limit_until_raw": "2024-11-13 23:59:59",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 13 November 2024.",
                                    "u_fee_pretty": "US$ 0"
                                },
                                {
                                    "limit_until": "14 November 2024 00:00",
                                    "is_free": 0,
                                    "b_state": "PAID",
                                    "fee": 142.2,
                                    "limit_until_date": "14 November 2024",
                                    "b_number": 1,
                                    "amount": 153.84,
                                    "limit_from_raw": "2024-11-14 00:00:00",
                                    "is_effective": 1,
                                    "u_fee_remaining": "153.84",
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 14 Nov",
                                    "stage_fee_pretty": "&#x20AC; 142",
                                    "fee_remaining_pretty": "&#x20AC; 142",
                                    "limit_until_raw": "2024-11-14 00:00:00",
                                    "text_refundable": "If you cancel from 14 November 2024, you'll get a US$ 153 refund.",
                                    "u_fee_pretty": "US$ 154",
                                    "fee_remaining": 142.2,
                                    "limit_until_time": "00:00",
                                    "fee_rounded": 142,
                                    "u_fee": "153.84",
                                    "fee_pretty": "&#x20AC; 142",
                                    "u_stage_fee": "153.84",
                                    "stage_translation": "Partial refund if you cancel",
                                    "limit_timezone": "Paris",
                                    "stage_fee": 142.2,
                                    "u_fee_remaining_pretty": "US$ 153",
                                    "limit_from": "14 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 154",
                                    "date_from": "2024-11-14 00:00:00 +0100",
                                    "current_stage": 0,
                                    "limit_from_date": "14 November 2024",
                                    "amount_pretty": "US$ 154",
                                    "effective_number": 1
                                }
                            ],
                            "policygroup_instance_id": "36/36/-",
                            "nr_stages": 2
                        }
                    }
                },
                "deposit_required": 1,
                "room_id": 5369009,
                "half_board": 0,
                "breakfast_included": 1,
                "smoking": 0,
                "all_inclusive": 0,
                "is_smart_deal": 0,
                "is_dormitory": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "roomtype_id": 9,
                "transactional_policy_data": {
                    "policies": [
                        {
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "type": "cancellation",
                            "parameters": [
                                {
                                    "value": "2024-11-14T00:00:00+01:00",
                                    "key": "date",
                                    "format": "dMMMy",
                                    "type": "datetime"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "key": "FreeCancellationKey"
                        },
                        {
                            "text": "Pay nothing until {date}",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "key": "PayNothingUntilKey",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMM",
                                    "key": "date",
                                    "value": "2024-11-11T23:59:00+01:00"
                                },
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "key": "time",
                                    "format": "jmm",
                                    "type": "datetime"
                                }
                            ],
                            "type": "prepayment",
                            "policy_type_key": "pbb_scheduled",
                            "icon": "clock"
                        }
                    ],
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "policy_type_key": "pbb_scheduled",
                            "icon": "credit_card",
                            "key": "PayNothingUntilKey",
                            "parameters": [
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "key": "date"
                                },
                                {
                                    "value": "2024-11-11T23:59:00+01:00",
                                    "key": "time",
                                    "format": "jmm",
                                    "type": "datetime"
                                }
                            ],
                            "type": "prepayment"
                        },
                        {
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "key": "date",
                                    "format": "dMMMy",
                                    "value": "2024-11-14T00:00:00+01:00"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "icon": "checkmark_fill",
                            "policy_type_key": "free_cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ]
                },
                "name_without_policy": "Standard Double Room",
                "room_name": "Standard Double Room",
                "nr_children": 0,
                "is_last_minute_deal": 0,
                "number_of_bedrooms": 0,
                "mealplan": "Breakfast included in the price",
                "extrabed_available": 0,
                "refundable_until": "2024-11-13 23:59:59 +0100",
                "product_price_breakdown": {
                    "gross_amount_hotel_currency": {
                        "amount_rounded": "€ 284",
                        "amount_unrounded": "€ 284.40",
                        "currency": "EUR",
                        "value": 284.4
                    },
                    "all_inclusive_amount": {
                        "amount_rounded": "US$319",
                        "amount_unrounded": "US$318.93",
                        "currency": "USD",
                        "value": 318.929380466913
                    },
                    "net_amount": {
                        "value": 279.707400409492,
                        "amount_unrounded": "US$279.71",
                        "currency": "USD",
                        "amount_rounded": "US$280"
                    },
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "items": [
                        {
                            "details": "10 % VAT",
                            "item_amount": {
                                "amount_unrounded": "US$27.97",
                                "currency": "USD",
                                "value": 27.9707400409492,
                                "amount_rounded": "US$28"
                            },
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            },
                            "inclusion_type": "included",
                            "kind": "charge",
                            "name": "VAT"
                        },
                        {
                            "item_amount": {
                                "value": 11.2512400164718,
                                "currency": "USD",
                                "amount_unrounded": "US$11.25",
                                "amount_rounded": "US$11"
                            },
                            "base": {
                                "base_amount": 5.2,
                                "kind": "per_person_per_night"
                            },
                            "kind": "charge",
                            "inclusion_type": "excluded",
                            "name": "City tax"
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "amount_rounded": "US$28",
                        "value": 27.9707400409492,
                        "currency": "USD",
                        "amount_unrounded": "US$27.97"
                    },
                    "charges_details": {
                        "amount": {
                            "value": 11,
                            "currency": "USD"
                        },
                        "mode": "extra_charges"
                    },
                    "gross_amount_per_night": {
                        "amount_rounded": "US$154",
                        "value": 153.83907022522,
                        "amount_unrounded": "US$153.84",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "gross_amount": {
                        "value": 307.678140450441,
                        "currency": "USD",
                        "amount_unrounded": "US$307.68",
                        "amount_rounded": "US$308"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "value": 294.8,
                        "amount_unrounded": "€ 294.80",
                        "currency": "EUR",
                        "amount_rounded": "€ 295"
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "excluded_amount": {
                        "amount_rounded": "US$11",
                        "value": 11.2512400164718,
                        "currency": "USD",
                        "amount_unrounded": "US$11.25"
                    },
                    "nr_stays": 7
                },
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "package_id": 0,
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "type": "datetime",
                                "key": "date",
                                "format": "dMMMy",
                                "value": "2024-11-14T00:00:00+01:00"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Europe/Paris"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "text": "<b>Free cancellation</b> before {date}"
                    },
                    {
                        "icon": "clock",
                        "text": "Pay nothing until {date}",
                        "key": "PayNothingUntilKey",
                        "parameters": [
                            {
                                "type": "datetime",
                                "format": "dMMM",
                                "key": "date",
                                "value": "2024-11-11T23:59:00+01:00"
                            },
                            {
                                "format": "jmm",
                                "key": "time",
                                "type": "datetime",
                                "value": "2024-11-11T23:59:00+01:00"
                            }
                        ]
                    }
                ],
                "is_flash_deal": 0,
                "room_surface_in_feet2": 139.9308352,
                "refundable": 1,
                "can_reserve_free_parking": 0,
                "max_children_free_age": 0,
                "nr_adults": 2,
                "policy_display_details": {
                    "prepayment": {
                        "title_details": {
                            "placeholder_translation": "Pay nothing until {date}",
                            "translation": "Pay nothing until 11 November 2024",
                            "tag": "payment_scheduled_name",
                            "parameters": {
                                "timezone": "Europe/Paris",
                                "scheduled_payment_deadline": "2024-11-11T23:59:00+01:00",
                                "date": "11 November 2024"
                            }
                        },
                        "description_details": {
                            "placeholder_translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "tag": "payment_cwyp_description",
                            "translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "parameters": {
                                "scheduled_payment_deadline": "2024-11-11T23:59:00+01:00",
                                "timezone": "Europe/Paris",
                                "date": "11 November 2024",
                                "time": "23:59"
                            }
                        },
                        "type": "partial_prepayment",
                        "policy_type_key": "pbb_scheduled"
                    },
                    "cancellation": {
                        "policy_type_key": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "type": "free_cancellation",
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "title_details": {
                            "parameters": {
                                "date": "14 November 2024",
                                "timezone": "Europe/Paris",
                                "free_cancellation_deadline": "2024-11-14T00:00:00+01:00"
                            },
                            "translation": "<b>Free cancellation</b> before 14 November 2024",
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "has_html": 1
                        },
                        "clarification_details": {
                            "parameters": {
                                "date": "2024-11-14T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)"
                        }
                    },
                    "applied_products": [
                        "pay_in_follows_policy"
                    ]
                },
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "content": "The total price of the reservation is charged at the time of booking.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "content": "Breakfast included in the price",
                            "mealplan_vector": "33",
                            "class": "POLICY_HOTEL_MEALPLAN"
                        },
                        {
                            "content": "Fully Flexible",
                            "class": "POLICY_TITLE"
                        },
                        {
                            "class": "POLICY_REFUND_SCHEDULE",
                            "content": " You'll get a full refund if you cancel before 23:59 on 13 November 2024. If you cancel from 14 November 2024, you'll get a US$ 153.84 refund."
                        }
                    ]
                },
                "babycots_available": 0,
                "is_mobile_deal": 0,
                "number_of_bathrooms": 0,
                "room_surface_in_m2": 13,
                "room_count": 14
            },
            {
                "smoking": 0,
                "is_smart_deal": 0,
                "all_inclusive": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "is_dormitory": 0,
                "roomtype_id": 9,
                "half_board": 0,
                "breakfast_included": 1,
                "is_vp2_enrolled": 1,
                "must_reserve_free_parking": 0,
                "is_domestic_rate": 0,
                "is_secret_deal": 0,
                "genius_discount_percentage": 0,
                "pre_auth_bo_nocc": 0,
                "paymentterms": {
                    "prepayment": {
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "simple_translation": "No prepayment",
                        "description": "You'll pay during your stay.",
                        "type_extended": "non_refundable_prepayment",
                        "type": "no_prepayment",
                        "type_translation": "No payment needed today",
                        "extended_type_translation": "No payment needed today",
                        "timeline": {
                            "nr_stages": 2,
                            "currency_code": "EUR",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "amount_pretty": "US$ 0",
                                    "effective_number": 0,
                                    "limit_from_date": "30 October 2024",
                                    "current_stage": 1,
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "30 October 2024 04:02",
                                    "u_fee_remaining_pretty": "US$ 329",
                                    "stage_fee": 0,
                                    "limit_timezone": "Paris",
                                    "u_stage_fee": "0.00",
                                    "u_fee": "0.00",
                                    "fee_pretty": "&#x20AC; 0",
                                    "limit_until_time": "23:59",
                                    "fee_rounded": 0,
                                    "fee_remaining": 304.5,
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_raw": "2024-11-15 23:59:59",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 304",
                                    "limit_from_time": "04:02",
                                    "text": "Before you stay you'll pay",
                                    "u_fee_remaining": "329.42",
                                    "amount": "0.00",
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_effective": 1,
                                    "limit_until_date": "15 November 2024",
                                    "b_number": 0,
                                    "b_state": "FREE",
                                    "fee": 0,
                                    "is_free": 1,
                                    "limit_until": "15 November 2024 23:59"
                                },
                                {
                                    "is_free": 0,
                                    "amount_pretty": "US$ 329",
                                    "after_checkin": 1,
                                    "text": "At the property you'll pay",
                                    "amount": "329.42"
                                }
                            ],
                            "policygroup_instance_id": "35/152/-"
                        }
                    },
                    "cancellation": {
                        "non_refundable_anymore": 0,
                        "info": {
                            "date_before": "14 November 2024",
                            "refundable_date_midnight": "2024-11-14T23:59:59+01:00",
                            "timezone_offset": "3600",
                            "refundable_date": "2024-11-15T00:00:00+01:00",
                            "date_raw": "2024-11-15 00:00:00",
                            "timezone": "CET",
                            "time": "00:00",
                            "refundable": 1,
                            "is_midnight": 1,
                            "date": "15 November 2024",
                            "date_before_raw": "2024-11-14",
                            "time_before_midnight": "23:59"
                        },
                        "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "bucket": "SMP_FULLY_FLEX",
                        "type": "free_cancellation",
                        "guaranteed_non_refundable": 0,
                        "timeline": {
                            "nr_stages": 2,
                            "policygroup_instance_id": "35/152/-",
                            "currency_code": "EUR",
                            "stages": [
                                {
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "30 October 2024 04:02",
                                    "current_stage": 1,
                                    "limit_from_date": "30 October 2024",
                                    "effective_number": 0,
                                    "limit_timezone": "Paris",
                                    "stage_translation": "Free to cancel",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 329",
                                    "fee_rounded": 0,
                                    "limit_until_time": "23:59",
                                    "fee_pretty": "&#x20AC; 0",
                                    "u_fee": "0.00",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 304.5,
                                    "limit_until_raw": "2024-11-14 23:59:59",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 14 November 2024.",
                                    "u_fee_pretty": "US$ 0",
                                    "u_fee_remaining": "329.42",
                                    "text": "Free cancellation until 23:59 on 14 Nov",
                                    "limit_from_time": "04:02",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 304",
                                    "b_number": 0,
                                    "limit_until_date": "14 November 2024",
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_effective": 1,
                                    "limit_until": "14 November 2024 23:59",
                                    "is_free": 1,
                                    "fee": 0,
                                    "b_state": "FREE",
                                    "date_until": "2024-11-14 23:59:59 +0100"
                                },
                                {
                                    "fee": 152.25,
                                    "b_state": "PAID",
                                    "limit_until": "15 November 2024 00:00",
                                    "is_free": 0,
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-11-15 00:00:00",
                                    "amount": 164.71,
                                    "b_number": 1,
                                    "limit_until_date": "15 November 2024",
                                    "text": "From 00:00 on 15 Nov",
                                    "limit_from_time": "00:00",
                                    "fee_remaining_pretty": "&#x20AC; 152",
                                    "stage_fee_pretty": "&#x20AC; 152",
                                    "u_fee_remaining": "164.71",
                                    "u_fee_pretty": "US$ 165",
                                    "text_refundable": "If you cancel from 15 November 2024, you'll get a US$ 164 refund.",
                                    "limit_until_raw": "2024-11-15 00:00:00",
                                    "fee_remaining": 152.25,
                                    "u_stage_fee": "164.71",
                                    "fee_rounded": 152,
                                    "limit_until_time": "00:00",
                                    "fee_pretty": "&#x20AC; 152",
                                    "u_fee": "164.71",
                                    "stage_fee": 152.25,
                                    "u_fee_remaining_pretty": "US$ 164",
                                    "limit_timezone": "Paris",
                                    "stage_translation": "Partial refund if you cancel",
                                    "limit_from_date": "15 November 2024",
                                    "effective_number": 1,
                                    "amount_pretty": "US$ 165",
                                    "u_stage_fee_pretty": "US$ 165",
                                    "date_from": "2024-11-15 00:00:00 +0100",
                                    "limit_from": "15 November 2024 00:00",
                                    "current_stage": 0
                                }
                            ],
                            "u_currency_code": "USD"
                        },
                        "type_translation": "Free cancellation"
                    }
                },
                "room_id": 5369009,
                "deposit_required": 0,
                "full_board": 0,
                "name": "Standard Double Room - single occupancy - Free cancellation",
                "block_id": "5369009_376291071_1_33_0",
                "is_block_fit": 1,
                "max_children_free": 0,
                "max_occupancy": 1,
                "can_reserve_free_parking": 0,
                "refundable": 1,
                "max_children_free_age": 0,
                "nr_adults": 1,
                "policy_display_details": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "prepayment": {
                        "title_details": {
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "policy_type_key": "patp_without_prepayment",
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "type": "no_prepayment"
                    },
                    "cancellation": {
                        "title_details": {
                            "has_html": 1,
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "translation": "<b>Free cancellation</b> before 15 November 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "parameters": {
                                "date": "15 November 2024",
                                "free_cancellation_deadline": "2024-11-15T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            }
                        },
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "parameters": {
                                "timezone": "Europe/Paris",
                                "date": "2024-11-15T00:00:00+01:00"
                            },
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "policy_type_key": "free_cancellation",
                        "type": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        }
                    }
                },
                "babycots_available": 0,
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "mealplan_vector": "33",
                            "content": "Breakfast included in the price"
                        },
                        {
                            "content": "Fully Prepaid",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "number_of_bathrooms": 0,
                "is_mobile_deal": 0,
                "room_count": 14,
                "room_surface_in_m2": 13,
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "key": "date",
                                "type": "datetime",
                                "value": "2024-11-15T00:00:00+01:00"
                            },
                            {
                                "value": "Europe/Paris",
                                "key": "timezone",
                                "type": "timezone"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "text": "<b>Free cancellation</b> before {date}"
                    },
                    {
                        "key": "NoPrepaymentConstructiveKey",
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill"
                    }
                ],
                "room_surface_in_feet2": 139.9308352,
                "is_flash_deal": 0,
                "is_last_minute_deal": 0,
                "number_of_bedrooms": 0,
                "mealplan": "Breakfast included in the price",
                "refundable_until": "2024-11-14 23:59:59 +0100",
                "extrabed_available": 0,
                "product_price_breakdown": {
                    "all_inclusive_amount": {
                        "amount_rounded": "US$341",
                        "value": 340.674565498748,
                        "currency": "USD",
                        "amount_unrounded": "US$340.67"
                    },
                    "net_amount": {
                        "amount_rounded": "US$299",
                        "currency": "USD",
                        "amount_unrounded": "US$299.48",
                        "value": 299.475750438432
                    },
                    "gross_amount_hotel_currency": {
                        "amount_rounded": "€ 305",
                        "value": 304.5,
                        "currency": "EUR",
                        "amount_unrounded": "€ 304.50"
                    },
                    "items": [
                        {
                            "item_amount": {
                                "value": 29.9475750438433,
                                "amount_unrounded": "US$29.95",
                                "currency": "USD",
                                "amount_rounded": "US$30"
                            },
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            },
                            "details": "10 % VAT",
                            "name": "VAT",
                            "inclusion_type": "included",
                            "kind": "charge"
                        },
                        {
                            "kind": "charge",
                            "inclusion_type": "excluded",
                            "name": "City tax",
                            "base": {
                                "kind": "per_person_per_night",
                                "base_amount": 5.2
                            },
                            "item_amount": {
                                "currency": "USD",
                                "amount_unrounded": "US$11.25",
                                "value": 11.2512400164718,
                                "amount_rounded": "US$11"
                            }
                        }
                    ],
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "has_long_stays_monthly_rate_price": 0,
                    "gross_amount_per_night": {
                        "amount_rounded": "US$165",
                        "value": 164.711662741138,
                        "amount_unrounded": "US$164.71",
                        "currency": "USD"
                    },
                    "charges_details": {
                        "mode": "extra_charges",
                        "amount": {
                            "currency": "USD",
                            "value": 11
                        }
                    },
                    "included_taxes_and_charges_amount": {
                        "value": 29.9475750438433,
                        "amount_unrounded": "US$29.95",
                        "currency": "USD",
                        "amount_rounded": "US$30"
                    },
                    "nr_stays": 7,
                    "excluded_amount": {
                        "amount_rounded": "US$11",
                        "currency": "USD",
                        "amount_unrounded": "US$11.25",
                        "value": 11.2512400164718
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "amount_rounded": "€ 315",
                        "value": 314.9,
                        "amount_unrounded": "€ 314.90",
                        "currency": "EUR"
                    },
                    "gross_amount": {
                        "amount_rounded": "US$329",
                        "value": 329.423325482276,
                        "amount_unrounded": "US$329.42",
                        "currency": "USD"
                    }
                },
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "package_id": 0,
                "name_without_policy": "Standard Double Room - single occupancy",
                "transactional_policy_data": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "key": "date",
                                    "value": "2024-11-15T00:00:00+01:00"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "type": "cancellation"
                        },
                        {
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "icon": "checkmark_fill",
                            "policy_type_key": "patp_without_prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "description": "No prepayment is needed."
                        }
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "description": "No prepayment is needed.",
                            "key": "NoPrepaymentKey",
                            "type": "prepayment",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "credit_card"
                        },
                        {
                            "icon": "checkmark_fill",
                            "policy_type_key": "free_cancellation",
                            "key": "FreeCancellationKey",
                            "parameters": [
                                {
                                    "value": "2024-11-15T00:00:00+01:00",
                                    "key": "date",
                                    "format": "dMMMy",
                                    "type": "datetime"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        }
                    ]
                },
                "room_name": "Standard Double Room",
                "nr_children": 0
            },
            {
                "package_id": 0,
                "product_price_breakdown": {
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "items": [
                        {
                            "name": "VAT",
                            "inclusion_type": "included",
                            "kind": "charge",
                            "item_amount": {
                                "amount_rounded": "US$33",
                                "value": 32.632530047774,
                                "currency": "USD",
                                "amount_unrounded": "US$32.63"
                            },
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            },
                            "details": "10 % VAT"
                        },
                        {
                            "name": "City tax",
                            "kind": "charge",
                            "inclusion_type": "excluded",
                            "base": {
                                "base_amount": 5.2,
                                "kind": "per_person_per_night"
                            },
                            "item_amount": {
                                "amount_rounded": "US$11",
                                "amount_unrounded": "US$11.25",
                                "currency": "USD",
                                "value": 11.2512400164718
                            }
                        }
                    ],
                    "gross_amount_hotel_currency": {
                        "amount_rounded": "€ 332",
                        "value": 331.8,
                        "amount_unrounded": "€ 331.80",
                        "currency": "EUR"
                    },
                    "net_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$326.33",
                        "value": 326.32530047774,
                        "amount_rounded": "US$326"
                    },
                    "all_inclusive_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$370.21",
                        "value": 370.209070541986,
                        "amount_rounded": "US$370"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "amount_rounded": "€ 342",
                        "currency": "EUR",
                        "amount_unrounded": "€ 342.20",
                        "value": 342.2
                    },
                    "gross_amount": {
                        "amount_rounded": "US$359",
                        "value": 358.957830525514,
                        "currency": "USD",
                        "amount_unrounded": "US$358.96"
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "excluded_amount": {
                        "amount_unrounded": "US$11.25",
                        "currency": "USD",
                        "value": 11.2512400164718,
                        "amount_rounded": "US$11"
                    },
                    "nr_stays": 7,
                    "included_taxes_and_charges_amount": {
                        "value": 32.632530047774,
                        "amount_unrounded": "US$32.63",
                        "currency": "USD",
                        "amount_rounded": "US$33"
                    },
                    "charges_details": {
                        "mode": "extra_charges",
                        "amount": {
                            "value": 11,
                            "currency": "USD"
                        }
                    },
                    "gross_amount_per_night": {
                        "amount_rounded": "US$179",
                        "value": 179.478915262757,
                        "amount_unrounded": "US$179.48",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0
                },
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "mealplan": "Breakfast included in the price",
                "extrabed_available": 0,
                "refundable_until": "2024-11-14 23:59:59 +0100",
                "is_last_minute_deal": 0,
                "number_of_bedrooms": 0,
                "nr_children": 0,
                "room_name": "Standard Double Room",
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "credit_card",
                            "key": "NoPrepaymentKey",
                            "type": "prepayment"
                        },
                        {
                            "parameters": [
                                {
                                    "value": "2024-11-15T00:00:00+01:00",
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "key": "date"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ],
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "parameters": [
                                {
                                    "value": "2024-11-15T00:00:00+01:00",
                                    "format": "dMMMy",
                                    "key": "date",
                                    "type": "datetime"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "policy_type_key": "free_cancellation",
                            "icon": "checkmark_fill",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "icon": "checkmark_fill",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment"
                        }
                    ]
                },
                "name_without_policy": "Standard Double Room",
                "is_mobile_deal": 0,
                "number_of_bathrooms": 0,
                "room_count": 14,
                "room_surface_in_m2": 13,
                "policy_display_details": {
                    "cancellation": {
                        "title_details": {
                            "parameters": {
                                "date": "15 November 2024",
                                "free_cancellation_deadline": "2024-11-15T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "has_html": 1,
                            "translation": "<b>Free cancellation</b> before 15 November 2024",
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}"
                        },
                        "description_details": {
                            "translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "parameters": {
                                "date": "2024-11-15T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            }
                        },
                        "policy_type_key": "free_cancellation",
                        "type": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        }
                    },
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment",
                        "title_details": {
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name"
                        },
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        }
                    },
                    "applied_products": [
                        "pay_in_follows_policy"
                    ]
                },
                "babycots_available": 0,
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "content": "Breakfast included in the price",
                            "mealplan_vector": "33"
                        },
                        {
                            "content": "Fully Prepaid",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "nr_adults": 2,
                "max_children_free_age": 0,
                "can_reserve_free_parking": 0,
                "refundable": 1,
                "room_surface_in_feet2": 139.9308352,
                "is_flash_deal": 0,
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "type": "datetime",
                                "format": "dMMMy",
                                "key": "date",
                                "value": "2024-11-15T00:00:00+01:00"
                            },
                            {
                                "key": "timezone",
                                "type": "timezone",
                                "value": "Europe/Paris"
                            }
                        ],
                        "text": "<b>Free cancellation</b> before {date}",
                        "icon": "checkmark_fill"
                    },
                    {
                        "key": "NoPrepaymentConstructiveKey",
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill"
                    }
                ],
                "room_id": 5369009,
                "deposit_required": 0,
                "genius_discount_percentage": 0,
                "pre_auth_bo_nocc": 0,
                "paymentterms": {
                    "prepayment": {
                        "type": "no_prepayment",
                        "type_translation": "No payment needed today",
                        "extended_type_translation": "No payment needed today",
                        "timeline": {
                            "nr_stages": 2,
                            "policygroup_instance_id": "35/152/-",
                            "currency_code": "EUR",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_until_date": "15 November 2024",
                                    "b_number": 0,
                                    "amount": "0.00",
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "is_effective": 1,
                                    "is_free": 1,
                                    "limit_until": "15 November 2024 23:59",
                                    "b_state": "FREE",
                                    "fee": 0,
                                    "limit_until_raw": "2024-11-15 23:59:59",
                                    "u_fee_pretty": "US$ 0",
                                    "u_fee_remaining": "358.96",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 331",
                                    "limit_from_time": "04:02",
                                    "text": "Before you stay you'll pay",
                                    "u_fee": "0.00",
                                    "fee_pretty": "&#x20AC; 0",
                                    "limit_until_time": "23:59",
                                    "fee_rounded": 0,
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 331.8,
                                    "current_stage": 1,
                                    "limit_from": "30 October 2024 04:02",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "effective_number": 0,
                                    "amount_pretty": "US$ 0",
                                    "limit_from_date": "30 October 2024",
                                    "limit_timezone": "Paris",
                                    "u_fee_remaining_pretty": "US$ 358",
                                    "stage_fee": 0
                                },
                                {
                                    "after_checkin": 1,
                                    "amount_pretty": "US$ 358",
                                    "text": "At the property you'll pay",
                                    "amount": "358.96",
                                    "is_free": 0
                                }
                            ]
                        },
                        "simple_translation": "No prepayment",
                        "info": {
                            "refundable": "anytime",
                            "prepayment_at_booktime": 0
                        },
                        "type_extended": "non_refundable_prepayment",
                        "description": "You'll pay during your stay."
                    },
                    "cancellation": {
                        "info": {
                            "date_before": "14 November 2024",
                            "timezone_offset": "3600",
                            "refundable_date_midnight": "2024-11-14T23:59:59+01:00",
                            "timezone": "CET",
                            "date_raw": "2024-11-15 00:00:00",
                            "refundable_date": "2024-11-15T00:00:00+01:00",
                            "refundable": 1,
                            "time": "00:00",
                            "is_midnight": 1,
                            "date": "15 November 2024",
                            "date_before_raw": "2024-11-14",
                            "time_before_midnight": "23:59"
                        },
                        "non_refundable_anymore": 0,
                        "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the cost of the first night. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "bucket": "SMP_FULLY_FLEX",
                        "type": "free_cancellation",
                        "timeline": {
                            "policygroup_instance_id": "35/152/-",
                            "currency_code": "EUR",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_until": "14 November 2024 23:59",
                                    "is_free": 1,
                                    "b_state": "FREE",
                                    "fee": 0,
                                    "date_until": "2024-11-14 23:59:59 +0100",
                                    "limit_until_date": "14 November 2024",
                                    "b_number": 0,
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-10-30 04:02:40",
                                    "u_fee_remaining": "358.96",
                                    "limit_from_time": "04:02",
                                    "text": "Free cancellation until 23:59 on 14 Nov",
                                    "stage_fee_pretty": "&#x20AC; 0",
                                    "fee_remaining_pretty": "&#x20AC; 331",
                                    "limit_until_raw": "2024-11-14 23:59:59",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 14 November 2024.",
                                    "u_fee_pretty": "US$ 0",
                                    "fee_remaining": 331.8,
                                    "limit_until_time": "23:59",
                                    "fee_rounded": 0,
                                    "u_fee": "0.00",
                                    "fee_pretty": "&#x20AC; 0",
                                    "u_stage_fee": "0.00",
                                    "stage_translation": "Free to cancel",
                                    "limit_timezone": "Paris",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 358",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "30 October 2024 04:02",
                                    "current_stage": 1,
                                    "limit_from_date": "30 October 2024",
                                    "effective_number": 0
                                },
                                {
                                    "stage_translation": "Partial refund if you cancel",
                                    "limit_timezone": "Paris",
                                    "stage_fee": 165.9,
                                    "u_fee_remaining_pretty": "US$ 179",
                                    "u_stage_fee_pretty": "US$ 179",
                                    "limit_from": "15 November 2024 00:00",
                                    "date_from": "2024-11-15 00:00:00 +0100",
                                    "current_stage": 0,
                                    "limit_from_date": "15 November 2024",
                                    "amount_pretty": "US$ 179",
                                    "effective_number": 1,
                                    "fee_remaining": 165.9,
                                    "limit_until_time": "00:00",
                                    "fee_rounded": 166,
                                    "u_fee": "179.48",
                                    "fee_pretty": "&#x20AC; 165",
                                    "u_stage_fee": "179.48",
                                    "u_fee_remaining": "179.48",
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 15 Nov",
                                    "stage_fee_pretty": "&#x20AC; 166",
                                    "fee_remaining_pretty": "&#x20AC; 165",
                                    "limit_until_raw": "2024-11-15 00:00:00",
                                    "text_refundable": "If you cancel from 15 November 2024, you'll get a US$ 179 refund.",
                                    "u_fee_pretty": "US$ 179",
                                    "limit_until": "15 November 2024 00:00",
                                    "is_free": 0,
                                    "b_state": "PAID",
                                    "fee": 165.9,
                                    "limit_until_date": "15 November 2024",
                                    "b_number": 1,
                                    "amount": 179.48,
                                    "limit_from_raw": "2024-11-15 00:00:00",
                                    "is_effective": 1
                                }
                            ],
                            "nr_stages": 2
                        },
                        "guaranteed_non_refundable": 0,
                        "type_translation": "Free cancellation"
                    }
                },
                "is_domestic_rate": 0,
                "is_vp2_enrolled": 1,
                "must_reserve_free_parking": 0,
                "is_secret_deal": 0,
                "max_occupancy": 2,
                "is_block_fit": 1,
                "max_children_free": 0,
                "block_id": "5369009_376291071_2_33_0",
                "full_board": 0,
                "name": "Standard Double Room - Free cancellation",
                "roomtype_id": 9,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "is_dormitory": 0,
                "is_smart_deal": 0,
                "all_inclusive": 0,
                "smoking": 0,
                "half_board": 0,
                "breakfast_included": 1
            }
        ],
        "unavailable": [
            {
                "package_id": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "If you cancel, modify the booking, or don't show up, the fee will be the total price of the reservation."
                        },
                        {
                            "content": "The total price of the reservation is charged at the time of booking.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "mealplan_vector": "33",
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "content": "Breakfast included in the price"
                        },
                        {
                            "content": "Non Refundable",
                            "class": "POLICY_TITLE"
                        },
                        {
                            "class": "POLICY_REFUND_SCHEDULE",
                            "content": " You won't be eligible for a refund if you cancel this booking."
                        }
                    ]
                },
                "nr_children": 0,
                "extrabed_available": 0,
                "babycots_available": 0,
                "name": "Standard Twin Room - Non-refundable",
                "pay_in_advance": 1,
                "is_flash_deal": 0,
                "name_without_policy": "Standard Twin Room",
                "half_board": 0,
                "is_dormitory": 0,
                "room_count": 7,
                "number_of_bathrooms": 0,
                "roomtype_id": 8,
                "all_inclusive": 0,
                "room_surface_in_m2": 13,
                "policy_display_details": {
                    "cancellation": {
                        "title_details": {
                            "placeholder_translation": "Non-refundable",
                            "translation": "Non-refundable",
                            "tag": "cxl_nr_name"
                        },
                        "description_details": {
                            "placeholder_translation": "If you cancel, modify the booking, or don't show up, the fee will be the total price of the reservation.",
                            "translation": "If you cancel, modify the booking, or don't show up, the fee will be the total price of the reservation."
                        },
                        "policy_type_key": "non_refundable",
                        "type": "non_refundable",
                        "is_cost_to_cancel": 0,
                        "parameters": {
                            "has_cancellation_fee": 1
                        }
                    },
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "prepayment": {
                        "description_details": {
                            "placeholder_translation": "The total price of the reservation is charged at the time of booking.",
                            "translation": "The total price of the reservation is charged at the time of booking."
                        },
                        "title_details": {
                            "tag": "payment_pay_online_name",
                            "placeholder_translation": "Pay online",
                            "translation": "Pay online"
                        },
                        "type": "full_prepayment",
                        "policy_type_key": "pbb_at_booking_time"
                    }
                },
                "is_domestic_rate": 0,
                "refundable": 0,
                "smoking": 0,
                "full_board": 0,
                "is_mobile_deal": 0,
                "transactional_policy_data": {
                    "policies": [
                        {
                            "description": "If you cancel, modify the booking, or don't show up, the fee will be the total price of the reservation.",
                            "policy_type_key": "non_refundable",
                            "key": "NonRefundableKey",
                            "type": "cancellation",
                            "text": "Non-refundable"
                        },
                        {
                            "key": "VP2PayInAdvanceKey",
                            "type": "prepayment",
                            "description": "The total price of the reservation is charged at the time of booking.",
                            "policy_type_key": "pbb_at_booking_time",
                            "text": "Pay online",
                            "icon": "credit_card_back"
                        }
                    ],
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "icon": "credit_card",
                            "key": "VP2PayInAdvanceKey",
                            "type": "prepayment",
                            "policy_type_key": "pbb_at_booking_time",
                            "description": "The total price of the reservation is charged at the time of booking."
                        },
                        {
                            "text": "Non-refundable",
                            "icon": "stop",
                            "policy_type_key": "non_refundable",
                            "description": "If you cancel, modify the booking, or don't show up, the fee will be the total price of the reservation.",
                            "type": "cancellation",
                            "key": "NonRefundableKey"
                        }
                    ]
                },
                "breakfast_included": 1,
                "nr_adults": 1,
                "max_occupancy": 1,
                "mealplan": "Breakfast included in the price",
                "is_vp2_enrolled": 1,
                "number_of_bedrooms": 0,
                "max_children_free_age": 0,
                "block_id": "5369010_97566635_1_33_0",
                "room_id": 5369010,
                "must_reserve_free_parking": 0,
                "max_children_free": 0,
                "deposit_required": 1,
                "pre_auth_bo_nocc": 0,
                "is_block_fit": 1,
                "room_name": "Standard Twin Room",
                "can_reserve_free_parking": 0,
                "room_surface_in_feet2": 139.9308352
            },
            {
                "room_count": 7,
                "choose_when_you_pay": 1,
                "number_of_bathrooms": 0,
                "is_flash_deal": 0,
                "name": "Standard Twin Room - single occupancy - Free cancellation",
                "half_board": 0,
                "name_without_policy": "Standard Twin Room - single occupancy",
                "is_dormitory": 0,
                "nr_children": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "The total price of the reservation is charged at the time of booking.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "content": "Breakfast included in the price",
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "mealplan_vector": "33"
                        },
                        {
                            "content": "Fully Flexible",
                            "class": "POLICY_TITLE"
                        },
                        {
                            "class": "POLICY_REFUND_SCHEDULE",
                            "content": " You'll get a full refund if you cancel before 23:59 on 19 December 2024. If you cancel from 20 December 2024, you will no longer be eligible for a refund."
                        }
                    ]
                },
                "extrabed_available": 0,
                "babycots_available": 0,
                "package_id": 0,
                "refundable": 1,
                "smoking": 0,
                "is_domestic_rate": 0,
                "policy_display_details": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "prepayment": {
                        "policy_type_key": "pbb_scheduled",
                        "type": "full_prepayment",
                        "title_details": {
                            "placeholder_translation": "Pay nothing until {date}",
                            "translation": "Pay nothing until 17 December 2024",
                            "parameters": {
                                "date": "17 December 2024",
                                "timezone": "Europe/Paris",
                                "scheduled_payment_deadline": "2024-12-17T23:59:00+01:00"
                            },
                            "tag": "payment_scheduled_name"
                        },
                        "description_details": {
                            "parameters": {
                                "timezone": "Europe/Paris",
                                "scheduled_payment_deadline": "2024-12-17T23:59:00+01:00",
                                "time": "23:59",
                                "date": "17 December 2024"
                            },
                            "tag": "payment_cwyp_description",
                            "placeholder_translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book."
                        }
                    },
                    "cancellation": {
                        "clarification_details": {
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "timezone": "Europe/Paris",
                                "date": "2024-12-20T00:00:00+01:00"
                            }
                        },
                        "description_details": {
                            "translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "title_details": {
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "has_html": 1,
                            "parameters": {
                                "date": "20 December 2024",
                                "free_cancellation_deadline": "2024-12-20T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "translation": "<b>Free cancellation</b> before 20 December 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}"
                        },
                        "type": "free_cancellation",
                        "policy_type_key": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        }
                    }
                },
                "room_surface_in_m2": 13,
                "roomtype_id": 8,
                "all_inclusive": 0,
                "max_occupancy": 1,
                "mealplan": "Breakfast included in the price",
                "nr_adults": 1,
                "transactional_policy_data": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "parameters": [
                                {
                                    "key": "date",
                                    "type": "datetime",
                                    "value": "2024-12-20T00:00:00+01:00",
                                    "format": "dMMMy"
                                },
                                {
                                    "key": "timezone",
                                    "type": "timezone",
                                    "value": "Europe/Paris"
                                }
                            ],
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        {
                            "type": "prepayment",
                            "key": "PayNothingUntilKey",
                            "policy_type_key": "pbb_scheduled",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "text": "Pay nothing until {date}",
                            "parameters": [
                                {
                                    "format": "dMMM",
                                    "key": "date",
                                    "type": "datetime",
                                    "value": "2024-12-17T23:59:00+01:00"
                                },
                                {
                                    "format": "jmm",
                                    "key": "time",
                                    "type": "datetime",
                                    "value": "2024-12-17T23:59:00+01:00"
                                }
                            ],
                            "icon": "clock"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "icon": "credit_card",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "value": "2024-12-17T23:59:00+01:00",
                                    "key": "date",
                                    "format": "dMMMy"
                                },
                                {
                                    "value": "2024-12-17T23:59:00+01:00",
                                    "key": "time",
                                    "type": "datetime",
                                    "format": "jmm"
                                }
                            ],
                            "type": "prepayment",
                            "key": "PayNothingUntilKey",
                            "policy_type_key": "pbb_scheduled",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book."
                        },
                        {
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "key": "date",
                                    "type": "datetime",
                                    "value": "2024-12-20T00:00:00+01:00"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill"
                        }
                    ]
                },
                "breakfast_included": 1,
                "full_board": 0,
                "is_mobile_deal": 0,
                "deposit_required": 1,
                "room_name": "Standard Twin Room",
                "can_reserve_free_parking": 0,
                "is_block_fit": 1,
                "pre_auth_bo_nocc": 0,
                "room_surface_in_feet2": 139.9308352,
                "b_pay_later_deadline_epoch": 1734476340,
                "must_reserve_free_parking": 0,
                "max_children_free": 0,
                "block_id": "5369010_398837781_1_33_0",
                "room_id": 5369010,
                "number_of_bedrooms": 0,
                "is_vp2_enrolled": 1,
                "max_children_free_age": 0
            },
            {
                "is_mobile_deal": 0,
                "full_board": 0,
                "transactional_policy_data": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "key": "FreeCancellationKey",
                            "type": "cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "key": "date",
                                    "value": "2024-12-20T00:00:00+01:00",
                                    "type": "datetime"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "type": "timezone",
                                    "key": "timezone"
                                }
                            ]
                        },
                        {
                            "key": "PayNothingUntilKey",
                            "type": "prepayment",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "policy_type_key": "pbb_scheduled",
                            "parameters": [
                                {
                                    "format": "dMMM",
                                    "type": "datetime",
                                    "value": "2024-12-17T23:59:00+01:00",
                                    "key": "date"
                                },
                                {
                                    "format": "jmm",
                                    "key": "time",
                                    "type": "datetime",
                                    "value": "2024-12-17T23:59:00+01:00"
                                }
                            ],
                            "icon": "clock",
                            "text": "Pay nothing until {date}"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "icon": "credit_card",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "key": "date",
                                    "value": "2024-12-17T23:59:00+01:00",
                                    "type": "datetime"
                                },
                                {
                                    "type": "datetime",
                                    "key": "time",
                                    "value": "2024-12-17T23:59:00+01:00",
                                    "format": "jmm"
                                }
                            ],
                            "text": "Prepayment",
                            "type": "prepayment",
                            "key": "PayNothingUntilKey",
                            "description": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "policy_type_key": "pbb_scheduled"
                        },
                        {
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "type": "datetime",
                                    "key": "date",
                                    "value": "2024-12-20T00:00:00+01:00"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Europe/Paris",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill",
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ]
                },
                "breakfast_included": 1,
                "nr_adults": 2,
                "max_occupancy": 2,
                "mealplan": "Breakfast included in the price",
                "max_children_free_age": 0,
                "number_of_bedrooms": 0,
                "is_vp2_enrolled": 1,
                "room_id": 5369010,
                "block_id": "5369010_398837781_2_33_0",
                "max_children_free": 0,
                "must_reserve_free_parking": 0,
                "room_name": "Standard Twin Room",
                "can_reserve_free_parking": 0,
                "pre_auth_bo_nocc": 0,
                "is_block_fit": 1,
                "deposit_required": 1,
                "room_surface_in_feet2": 139.9308352,
                "b_pay_later_deadline_epoch": 1734476340,
                "package_id": 0,
                "nr_children": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "The total price of the reservation is charged at the time of booking.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "content": "Breakfast included in the price",
                            "mealplan_vector": "33"
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "Fully Flexible"
                        },
                        {
                            "content": " You'll get a full refund if you cancel before 23:59 on 19 December 2024. If you cancel from 20 December 2024, you will no longer be eligible for a refund.",
                            "class": "POLICY_REFUND_SCHEDULE"
                        }
                    ]
                },
                "extrabed_available": 0,
                "babycots_available": 0,
                "half_board": 0,
                "name_without_policy": "Standard Twin Room",
                "is_flash_deal": 0,
                "name": "Standard Twin Room - Free cancellation",
                "is_dormitory": 0,
                "choose_when_you_pay": 1,
                "room_count": 7,
                "number_of_bathrooms": 0,
                "room_surface_in_m2": 13,
                "all_inclusive": 0,
                "roomtype_id": 8,
                "is_domestic_rate": 0,
                "policy_display_details": {
                    "prepayment": {
                        "type": "full_prepayment",
                        "policy_type_key": "pbb_scheduled",
                        "description_details": {
                            "parameters": {
                                "time": "23:59",
                                "date": "17 December 2024",
                                "scheduled_payment_deadline": "2024-12-17T23:59:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "tag": "payment_cwyp_description",
                            "placeholder_translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book.",
                            "translation": "Payment is due by {time} on {date} (property time). You can choose to be charged automatically at that time, or simply pay when you book."
                        },
                        "title_details": {
                            "tag": "payment_scheduled_name",
                            "parameters": {
                                "date": "17 December 2024",
                                "scheduled_payment_deadline": "2024-12-17T23:59:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "translation": "Pay nothing until 17 December 2024",
                            "placeholder_translation": "Pay nothing until {date}"
                        }
                    },
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "policy_type_key": "free_cancellation",
                        "type": "free_cancellation",
                        "title_details": {
                            "translation": "<b>Free cancellation</b> before 20 December 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "has_html": 1,
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "parameters": {
                                "free_cancellation_deadline": "2024-12-20T00:00:00+01:00",
                                "date": "20 December 2024",
                                "timezone": "Europe/Paris"
                            }
                        },
                        "description_details": {
                            "translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. If you cancel within 1 day before arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "parameters": {
                                "date": "2024-12-20T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            },
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)"
                        }
                    }
                },
                "refundable": 1,
                "smoking": 0
            },
            {
                "nr_adults": 1,
                "mealplan": "Breakfast included in the price",
                "max_occupancy": 1,
                "is_mobile_deal": 0,
                "full_board": 0,
                "breakfast_included": 1,
                "transactional_policy_data": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "value": "2024-12-21T00:00:00+01:00",
                                    "type": "datetime",
                                    "key": "date"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill"
                        },
                        {
                            "icon": "checkmark_fill",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "icon": "credit_card",
                            "text": "Prepayment",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "type": "prepayment",
                            "key": "NoPrepaymentKey"
                        },
                        {
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "type": "datetime",
                                    "key": "date",
                                    "value": "2024-12-21T00:00:00+01:00"
                                },
                                {
                                    "value": "Europe/Paris",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}"
                        }
                    ]
                },
                "max_children_free": 0,
                "must_reserve_free_parking": 0,
                "room_surface_in_feet2": 139.9308352,
                "pre_auth_bo_nocc": 0,
                "is_block_fit": 1,
                "can_reserve_free_parking": 0,
                "room_name": "Standard Twin Room",
                "deposit_required": 0,
                "max_children_free_age": 0,
                "is_vp2_enrolled": 1,
                "number_of_bedrooms": 0,
                "room_id": 5369010,
                "block_id": "5369010_376291071_1_33_0",
                "is_dormitory": 0,
                "name_without_policy": "Standard Twin Room - single occupancy",
                "half_board": 0,
                "name": "Standard Twin Room - single occupancy - Free cancellation",
                "is_flash_deal": 0,
                "number_of_bathrooms": 0,
                "room_count": 7,
                "package_id": 0,
                "extrabed_available": 0,
                "babycots_available": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "content": "Breakfast included in the price",
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "mealplan_vector": "33"
                        },
                        {
                            "content": "Fully Prepaid",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "nr_children": 0,
                "policy_display_details": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "prepayment": {
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "title_details": {
                            "tag": "payment_npn_patp_name",
                            "has_html": 1,
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "type": "no_prepayment",
                        "policy_type_key": "patp_without_prepayment"
                    },
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "type": "free_cancellation",
                        "policy_type_key": "free_cancellation",
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "title_details": {
                            "parameters": {
                                "free_cancellation_deadline": "2024-12-21T00:00:00+01:00",
                                "date": "21 December 2024",
                                "timezone": "Europe/Paris"
                            },
                            "has_html": 1,
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "translation": "<b>Free cancellation</b> before 21 December 2024"
                        },
                        "clarification_details": {
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "timezone": "Europe/Paris",
                                "date": "2024-12-21T00:00:00+01:00"
                            },
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        }
                    }
                },
                "is_domestic_rate": 0,
                "smoking": 0,
                "refundable": 1,
                "all_inclusive": 0,
                "roomtype_id": 8,
                "room_surface_in_m2": 13
            },
            {
                "is_domestic_rate": 0,
                "policy_display_details": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment",
                        "title_details": {
                            "tag": "payment_npn_patp_name",
                            "has_html": 1,
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        }
                    },
                    "cancellation": {
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "title_details": {
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "has_html": 1,
                            "parameters": {
                                "free_cancellation_deadline": "2024-12-21T00:00:00+01:00",
                                "date": "21 December 2024",
                                "timezone": "Europe/Paris"
                            },
                            "translation": "<b>Free cancellation</b> before 21 December 2024",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}"
                        },
                        "clarification_details": {
                            "translation": "(Cancellation deadlines are in the property's timezone – Europe/Paris)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "parameters": {
                                "date": "2024-12-21T00:00:00+01:00",
                                "timezone": "Europe/Paris"
                            }
                        },
                        "type": "free_cancellation",
                        "policy_type_key": "free_cancellation"
                    }
                },
                "refundable": 1,
                "smoking": 0,
                "room_surface_in_m2": 13,
                "roomtype_id": 8,
                "all_inclusive": 0,
                "half_board": 0,
                "name_without_policy": "Standard Twin Room",
                "is_flash_deal": 0,
                "name": "Standard Twin Room - Free cancellation",
                "is_dormitory": 0,
                "room_count": 7,
                "number_of_bathrooms": 0,
                "package_id": 0,
                "nr_children": 0,
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "content": "Breakfast included in the price",
                            "class": "POLICY_HOTEL_MEALPLAN",
                            "mealplan_vector": "33"
                        },
                        {
                            "content": "Fully Prepaid",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "extrabed_available": 0,
                "babycots_available": 0,
                "max_children_free": 0,
                "must_reserve_free_parking": 0,
                "can_reserve_free_parking": 0,
                "room_name": "Standard Twin Room",
                "pre_auth_bo_nocc": 0,
                "is_block_fit": 1,
                "deposit_required": 0,
                "room_surface_in_feet2": 139.9308352,
                "max_children_free_age": 0,
                "number_of_bedrooms": 0,
                "is_vp2_enrolled": 1,
                "room_id": 5369010,
                "block_id": "5369010_376291071_2_33_0",
                "nr_adults": 2,
                "max_occupancy": 2,
                "mealplan": "Breakfast included in the price",
                "is_mobile_deal": 0,
                "full_board": 0,
                "transactional_policy_data": {
                    "applied_products": [
                        "pay_in_follows_policy"
                    ],
                    "policies": [
                        {
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "value": "2024-12-21T00:00:00+01:00",
                                    "type": "datetime",
                                    "key": "date"
                                },
                                {
                                    "type": "timezone",
                                    "value": "Europe/Paris",
                                    "key": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "type": "cancellation",
                            "key": "FreeCancellationKey"
                        },
                        {
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "icon": "checkmark_fill",
                            "text": "<b>No prepayment needed</b> – pay at the property"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "icon": "credit_card",
                            "type": "prepayment",
                            "key": "NoPrepaymentKey",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment"
                        },
                        {
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 00:00 on the day of arrival. If you cancel after 00:00 on the day of arrival, the cancellation fee will be the total price of the reservation. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "value": "2024-12-21T00:00:00+01:00",
                                    "type": "datetime",
                                    "key": "date",
                                    "format": "dMMMy"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Europe/Paris",
                                    "type": "timezone"
                                }
                            ],
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "text": "<b>Free cancellation</b> before {date}"
                        }
                    ]
                },
                "breakfast_included": 1
            }
        ]
    }
]

2025-08-25 12:05:16,910 - evaluation_logger_Cross-225 - INFO - Function Calls: 
[
    {
        "name": "Search_Taxi",
        "arguments": {
            "pick_up_place_id": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
            "drop_off_place_id": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
            "pick_up_date": "2024-11-17",
            "pick_up_time": "15:00"
        }
    }
]

2025-08-25 12:05:16,910 - evaluation_logger_Cross-225 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Taxi",
        "arguments": {
            "drop_off_place_id": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
            "pick_up_date": "2024-11-17",
            "pick_up_place_id": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
            "pick_up_time": "15:00"
        }
    }
]

2025-08-25 12:05:16,910 - evaluation_logger_Cross-225 - INFO - Start compare_single_call: 
{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJW89MjgM-5kcRLKZbL5jgKwQ', 'pick_up_date': '2024-11-17', 'pick_up_place_id': 'ChIJL7xAkhZy5kcR2X7eLNO7kCw', 'pick_up_time': '15:00'}}
{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJW89MjgM-5kcRLKZbL5jgKwQ', 'pick_up_date': '2024-11-17', 'pick_up_place_id': 'ChIJL7xAkhZy5kcR2X7eLNO7kCw', 'pick_up_time': '15:00'}}
2025-08-25 12:05:16,910 - evaluation_logger_Cross-225 - INFO - Rule-based compare success.
2025-08-25 12:05:16,910 - evaluation_logger_Cross-225 - INFO - Success matched: [{'name': 'Search_Taxi', 'arguments': {'drop_off_place_id': 'ChIJW89MjgM-5kcRLKZbL5jgKwQ', 'pick_up_date': '2024-11-17', 'pick_up_place_id': 'ChIJL7xAkhZy5kcR2X7eLNO7kCw', 'pick_up_time': '15:00'}}]
2025-08-25 12:05:16,911 - evaluation_logger_Cross-225 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "journeys": [
                {
                    "janusSearchReference": "c0f16395-703e-46a5-a11a-ed135408bf73",
                    "dropOffLocation": {
                        "locationType": "AIRPORT",
                        "city": "Roissy-en-France",
                        "description": "95700 Roissy-en-France, France",
                        "establishment": "Charles de Gaulle Airport (CDG)",
                        "postcode": "95700",
                        "country": "FR",
                        "locationId": "ChIJW89MjgM-5kcRLKZbL5jgKwQ",
                        "airportCode": "CDG",
                        "name": "Charles de Gaulle Airport (CDG), 95700 Roissy-en-France, France"
                    },
                    "journeyDirection": "OUTBOUND",
                    "pickupLocation": {
                        "locationType": "GEO",
                        "city": "Paris",
                        "timezone": "Europe/Paris",
                        "country": "FR",
                        "name": "ibis Styles Paris Bercy, 77 Rue de Bercy, 75012 Paris, France",
                        "locationId": "ChIJL7xAkhZy5kcR2X7eLNO7kCw",
                        "description": "77 Rue de Bercy, 75012 Paris, France",
                        "postcode": "75012",
                        "establishment": "ibis Styles Paris Bercy"
                    },
                    "requestedPickupDateTime": "2024-11-17T15:00:00"
                }
            ],
            "results": [
                {
                    "resultId": "9b82f264-6e8a-4349-ac60-48d062a624d5",
                    "janusResultReference": "1",
                    "supplierName": "Heycars",
                    "legPriceBreakdown": [
                        {
                            "supplierLocationId": 5683,
                            "supplierId": 2500,
                            "price": {
                                "amount": "65.81",
                                "currencyCode": "USD"
                            },
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Heycars"
                        }
                    ],
                    "vehicleType": "STANDARD",
                    "duration": 32,
                    "categoryLocalised": "Standard",
                    "descriptionLocalised": "Perfect for solo travellers, couples and small families.",
                    "category": "Standard",
                    "geniusDiscount": false,
                    "cancellationLeadTimeMinutes": 1440,
                    "nonRefundable": false,
                    "discountType": "NONE",
                    "supplierId": 2500,
                    "priceRuleId": 19502,
                    "price": {
                        "currencyCode": "USD",
                        "amount": "65.81"
                    },
                    "passengerCapacity": 3,
                    "meetGreet": false,
                    "description": "Standard",
                    "drivingDistance": 29.56,
                    "bags": 3
                },
                {
                    "duration": 32,
                    "vehicleType": "EXECUTIVE",
                    "categoryLocalised": "Executive",
                    "category": "Executive",
                    "descriptionLocalised": "Plenty of space to travel in comfort.",
                    "geniusDiscount": false,
                    "resultId": "7c6a6ae3-0842-4fbf-b1f4-ec7c2454cc57",
                    "supplierName": "Get-e",
                    "janusResultReference": "2",
                    "legPriceBreakdown": [
                        {
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Get-e",
                            "price": {
                                "currencyCode": "USD",
                                "amount": "85.01"
                            },
                            "supplierLocationId": 5955,
                            "supplierId": 2498
                        }
                    ],
                    "passengerCapacity": 3,
                    "meetGreet": true,
                    "description": "Executive",
                    "drivingDistance": 29.56,
                    "bags": 2,
                    "nonRefundable": false,
                    "cancellationLeadTimeMinutes": 1440,
                    "discountType": "NONE",
                    "supplierId": 2498,
                    "price": {
                        "currencyCode": "USD",
                        "amount": "85.01"
                    },
                    "priceRuleId": 19503
                },
                {
                    "price": {
                        "currencyCode": "USD",
                        "amount": "94.28"
                    },
                    "priceRuleId": 119640,
                    "supplierId": 2501,
                    "discountType": "NONE",
                    "cancellationLeadTimeMinutes": 1440,
                    "nonRefundable": false,
                    "bags": 3,
                    "drivingDistance": 29.56,
                    "description": "Electric Standard",
                    "meetGreet": false,
                    "passengerCapacity": 3,
                    "legPriceBreakdown": [
                        {
                            "price": {
                                "amount": "94.28",
                                "currencyCode": "USD"
                            },
                            "supplierLocationId": 5516,
                            "supplierId": 2501,
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Transferz"
                        }
                    ],
                    "supplierName": "Transferz",
                    "janusResultReference": "14",
                    "resultId": "6a51a148-c3d3-4ee2-9d03-0a591d96acc3",
                    "geniusDiscount": false,
                    "category": "Electric Standard",
                    "descriptionLocalised": "100% Electric",
                    "categoryLocalised": "Electric Standard",
                    "duration": 32,
                    "vehicleType": "STANDARD"
                },
                {
                    "price": {
                        "currencyCode": "USD",
                        "amount": "99.59"
                    },
                    "priceRuleId": 120348,
                    "supplierId": 2501,
                    "discountType": "NONE",
                    "nonRefundable": false,
                    "cancellationLeadTimeMinutes": 1440,
                    "bags": 3,
                    "drivingDistance": 29.56,
                    "description": "Electric Luxury",
                    "passengerCapacity": 3,
                    "meetGreet": false,
                    "legPriceBreakdown": [
                        {
                            "supplierLocationId": 5516,
                            "supplierId": 2501,
                            "price": {
                                "amount": "99.59",
                                "currencyCode": "USD"
                            },
                            "journeyDirection": "OUTBOUND",
                            "supplierName": "Transferz"
                        }
                    ],
                    "supplierName": "Transferz",
                    "janusResultReference": "15",
                    "resultId": "60d051b8-f2f6-475b-8cdb-2be6d7505ccc",
                    "geniusDiscount": false,
                    "descriptionLocalised": "Electric Luxury",
                    "category": "Electric Luxury",
                    "categoryLocalised": "Electric Luxury",
                    "duration": 32,
                    "vehicleType": "EXECUTIVE"
                },
                {
                    "price": {
                        "currencyCode": "USD",
                        "amount": "111.57"
                    },
                    "priceRuleId": 19506,
                    "supplierId": 2498,
                    "discountType": "NONE",
                    "cancellationLeadTimeMinutes": 1440,
                    "nonRefundable": false,
                    "bags": 6,
                    "description": "People Carrier",
                    "drivingDistance": 29.56,
                    "meetGreet": true,
                    "passengerCapacity": 6,
                    "legPriceBreakdown": [
                        {
                            "supplierName": "Get-e",
                            "journeyDirection": "OUTBOUND",
                            "supplierId": 2498,
                            "supplierLocationId": 5955,
                            "price": {
                                "amount": "111.57",
                                "currencyCode": "USD"
                            }
                        }
                    ],
                    "supplierName": "Get-e",
                    "janusResultReference": "5",
                    "resultId": "8e6aa9a1-9401-4817-86de-6f8f54058de8",
                    "geniusDiscount": false,
                    "descriptionLocalised": "Great choice for families.",
                    "category": "People Carrier",
                    "categoryLocalised": "People carrier",
                    "duration": 32,
                    "vehicleType": "LARGE"
                }
            ]
        }
    }
]

2025-08-25 12:08:47,213 - evaluation_logger_Cross-225 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应配置化，即用户可以配置`config`对象中的`url`、`method`、`params`、`data`、`headers`、`timeout`、`responseType`等属性。其中除了`headers`属性需要单独处理外，其余属性都可以直接传给`XMLHttpRequest`对象。另外，我们并没有对`config`对象中的`data`做处理，我们只是把它直接传给了`xhr.send(data)`，而`data`参数允许我们传递一些参数，并且根据`headers`中的`Content-Type`字段，`data`可以有不同的数据结构，例如：

- 如果`data`是普通对象，并且`headers`中的`Content-Type`是`application/json`，那么我们在发送前应该将`data`用`JSON.stringify`序列化成`JSON`字符串。
- 如果`data`是普通对象，并且`headers`中的`Content-Type`是`application/x-www-form-urlencoded`，那么我们应该将`data`对象转换成`urlencoded`字符串，也就是`key1=val1&key2=val2`格式。

所以，在这一篇文章中，我们将会处理`config`对象中的`headers`和`data`属性。

# 2. 处理请求 headers

## 2.1 需求分析

我们观察一下`XMLHttpRequest`对象发送请求的时候，是如何添加`headers`的。如下：

```typescript
// 示例代码
const xhr = new XMLHttpRequest();
xhr.open("post", "/api/add/user", true);
xhr.setRequestHeader("Content-Type", "application/json");
xhr.send('{"name":"Coby","age":18}');
```

从上面代码中我们可以看到，先调用`xhr.open`方法，然后调用`xhr.setRequestHeader`方法设置请求头，最后调用`xhr.send`方法发送请求。

在我们的项目中，`headers`属性是用户自己配置的，但是我们在上一篇文章中并没有处理这个属性，而是把它直接透传给了`XMLHttpRequest`对象。但是，我们允许用户在`headers`中配置`common`、`post`、`get`等字段，并且允许用户配置一些额外的属性，所以我们需要对`headers`做一层合并处理。

另外，我们还要对`headers`中的`Content-Type`字段做处理，因为如果用户没有配置`Content-Type`，我们需要根据`data`的数据类型来自动设置`Content-Type`的值。

## 2.2 实现 processHeaders 函数

根据需求分析，我们需要实现一个工具函数`processHeaders`，用来处理`config`对象中的`headers`属性。该函数实现的功能如下：

- 如果没有`headers`属性，就给它一个空对象
- 如果`headers`中有`common`属性，那么就把`common`属性中的值合并到`headers`中
- 如果`headers`中有`method`属性（例如`post`），那么就把`method`属性中的值合并到`headers`中
- 删除`headers`中的`common`属性和`method`属性
- 如果`data`是普通对象，并且`headers`中没有`Content-Type`属性，那么自动设置`Content-Type`为`application/json;charset=utf-8`

我们在`src`目录下创建`helpers`文件夹，用来存放一些辅助工具函数，然后在`helpers`文件夹下创建`headers.ts`文件，用来实现`processHeaders`函数。

`helpers/headers.ts`

```typescript
import { Method } from "../types";
import { deepMerge, isPlainObject } from "./util";

function normalizeHeaderName(headers: any, normalizedName: string): void {
  if (!headers) {
    return;
  }
  Object.keys(headers).forEach(name => {
    if (
      name !== normalizedName &&
      name.toUpperCase() === normalizedName.toUpperCase()
    ) {
      headers[normalizedName] = headers[name];
      delete headers[name];
    }
  });
}

export function processHeaders(headers: any, data: any): any {
  normalizeHeaderName(headers, "Content-Type");

  if (isPlainObject(data)) {
    if (headers && !headers["Content-Type"]) {
      headers["Content-Type"] = "application/json;charset=utf-8";
    }
  }
  return headers;
}
```

代码说明：

- 首先，我们定义了一个`normalizeHeaderName`函数，用来规范化`headers`中的属性名，因为`headers`中的属性名是大小写不敏感的，例如`Content-Type`和`content-type`是等价的，所以我们先把`headers`中的所有属性名都转换成小写，然后再做处理。
- 然后，我们定义了`processHeaders`函数，该函数接收两个参数：`headers`和`data`。首先调用`normalizeHeaderName`函数规范化`headers`中的`Content-Type`属性名，然后判断`data`是否是普通对象，如果是普通对象，并且`headers`中没有`Content-Type`属性，那么自动设置`Content-Type`为`application/json;charset=utf-8`。
- 最后，返回处理后的`headers`。

另外，我们还需要实现`isPlainObject`和`deepMerge`函数，这两个函数我们放在`helpers/util.ts`中实现。

`helpers/util.ts`

```typescript
export function isPlainObject(val: any): val is Object {
  return toString.call(val) === "[object Object]";
}

export function deepMerge(...objs: any[]): any {
  const result = Object.create(null);
  objs.forEach(obj => {
    if (obj) {
      Object.keys(obj).forEach(key => {
        const val = obj[key];
        if (isPlainObject(val)) {
          if (isPlainObject(result[key])) {
            result[key] = deepMerge(result[key], val);
          } else {
            result[key] = deepMerge(val);
          }
        } else {
          result[key] = val;
        }
      });
    }
  });
  return result;
}
```

代码说明：

- `isPlainObject`函数用来判断一个值是否是普通对象，我们通过`Object.prototype.toString.call`来判断。
- `deepMerge`函数用来深度合并多个对象，我们通过递归的方式来实现。

## 2.3 实现 flattenHeaders 函数

我们还需要实现一个`flattenHeaders`函数，用来把`headers`中的`common`、`post`、`get`等属性平铺到`headers`中，然后删除`common`、`post`、`get`等属性。

`helpers/headers.ts`

```typescript
export function flattenHeaders(headers: any, method: Method): any {
  if (!headers) {
    return headers;
  }
  headers = deepMerge(headers.common, headers[method], headers);

  const methodsToDelete = ["delete", "get", "head", "options", "post", "put", "patch", "common"];

  methodsToDelete.forEach(method => {
    delete headers[method];
  });

  return headers;
}
```

代码说明：

- 首先，我们通过`deepMerge`函数把`headers.common`、`headers[method]`和`headers`合并到一起。
- 然后，我们定义一个数组`methodsToDelete`，里面存放需要删除的属性名，包括`common`和所有`method`。
- 最后，遍历`methodsToDelete`数组，删除`headers`中对应的属性。

## 2.4 在 xhr 函数中使用 processHeaders 和 flattenHeaders

现在，我们可以在`xhr`函数中使用`processHeaders`和`flattenHeaders`函数了。

`xhr.ts`

```typescript
import { AxiosRequestConfig } from "./types";
import { processHeaders } from "./helpers/headers";
import { flattenHeaders } from "./helpers/headers";

export default function xhr(config: AxiosRequestConfig): void {
  const {
    data = null,
    url,
    method = "get",
    headers,
    responseType,
    timeout
  } = config;

  const request = new XMLHttpRequest();

  if (responseType) {
    request.responseType = responseType;
  }

  if (timeout) {
    request.timeout = timeout;
  }

  request.open(method.toUpperCase(), url, true);

  // 处理 headers
  const processedHeaders = processHeaders(headers, data);
  // 扁平化 headers
  const flattenedHeaders = flattenHeaders(processedHeaders, method);

  Object.keys(flattenedHeaders).forEach(name => {
    if (data === null && name.toLowerCase() === "content-type") {
      delete flattenedHeaders[name];
    } else {
      request.setRequestHeader(name, flattenedHeaders[name]);
    }
  });

  request.send(data);
}
```

代码说明：

- 首先，我们从`config`中解构出`data`、`url`、`method`、`headers`、`responseType`、`timeout`等属性。
- 然后，我们调用`processHeaders`函数处理`headers`，得到`processedHeaders`。
- 接着，我们调用`flattenHeaders`函数扁平化`processedHeaders`，得到`flattenedHeaders`。
- 最后，我们遍历`flattenedHeaders`，调用`request.setRequestHeader`方法设置请求头。注意，如果`data`为`null`，并且`headers`中有`Content-Type`属性，那么我们需要删除这个属性，因为`data`为`null`时，`Content-Type`是没有意义的。

OK，这样我们就实现了对`headers`的处理。

# 3. 处理请求 data

## 3.1 需求分析

我们之前说过，如果`data`是普通对象，并且`headers`中的`Content-Type`是`application/json`，那么我们在发送前应该将`data`用`JSON.stringify`序列化成`JSON`字符串。如果`data`是普通对象，并且`headers`中的`Content-Type`是`application/x-www-form-urlencoded`，那么我们应该将`data`对象转换成`urlencoded`字符串，也就是`key1=val1&key2=val2`格式。

所以，我们需要实现一个工具函数`transformRequest`，用来处理`config`对象中的`data`属性。

## 3.2 实现 transformRequest 函数

我们在`helpers`文件夹下创建`data.ts`文件，用来实现`transformRequest`函数。

`helpers/data.ts`

```typescript
import { isPlainObject } from "./util";

export function transformRequest(data: any): any {
  if (isPlainObject(data)) {
    return JSON.stringify(data);
  }
  return data;
}
```

代码说明：

- 首先，我们判断`data`是否是普通对象，如果是，就调用`JSON.stringify`序列化成`JSON`字符串。
- 否则，直接返回`data`。

## 3.3 在 xhr 函数中使用 transformRequest

现在，我们可以在`xhr`函数中使用`transformRequest`函数了。

`xhr.ts`

```typescript
import { AxiosRequestConfig } from "./types";
import { processHeaders } from "./helpers/headers";
import { flattenHeaders } from "./helpers/headers";
import { transformRequest } from "./helpers/data";

export default function xhr(config: AxiosRequestConfig): void {
  const {
    data = null,
    url,
    method = "get",
    headers,
    responseType,
    timeout
  } = config;

  const request = new XMLHttpRequest();

  if (responseType) {
    request.responseType = responseType;
  }

  if (timeout) {
    request.timeout = timeout;
  }

  request.open(method.toUpperCase(), url, true);

  // 处理 data
  const transformedData = transformRequest(data);

  // 处理 headers
  const processedHeaders = processHeaders(headers, transformedData);
  // 扁平化 headers
  const flattenedHeaders = flattenHeaders(processedHeaders, method);

  Object.keys(flattenedHeaders).forEach(name => {
    if (data === null && name.toLowerCase() === "content-type") {
      delete flattenedHeaders[name];
    } else {
      request.setRequestHeader(name, flattenedHeaders[name]);
    }
  });

  request.send(transformedData);
}
```

代码说明：

- 首先，我们从`config`中解构出`data`、`url`、`method`、`headers`、`responseType`、`timeout`等属性。
- 然后，我们调用`transformRequest`函数处理`data`，得到`transformedData`。
- 接着，我们调用`processHeaders`函数处理`headers`，注意这里传入的`data`是`transformedData`，因为`processHeaders`函数中会根据`data`的类型来设置`Content-Type`。
- 最后，我们调用`request.send`方法发送`transformedData`。

# 4. 处理响应 data

## 4.1 需求分析

我们之前说过，如果`responseType`是`json`，那么`xhr.response`返回的就是`JSON`对象，否则返回的是字符串。但是，我们希望无论`responseType`是什么，我们都能够把`xhr.response`转换成`JSON`对象，这样用户就可以直接使用`JSON`对象了。

所以，我们需要实现一个工具函数`transformResponse`，用来处理`xhr.response`。

## 4.2 实现 transformResponse 函数

我们在`helpers`文件夹下的`data.ts`文件中实现`transformResponse`函数。

`helpers/data.ts`

```typescript
export function transformResponse(data: any): any {
  if (typeof data === "string") {
    try {
      data = JSON.parse(data);
    } catch (e) {
      // do nothing
    }
  }
  return data;
}
```

代码说明：

- 首先，我们判断`data`是否是字符串，如果是，就尝试用`JSON.parse`解析成`JSON`对象。
- 如果解析失败，就原样返回`data`。
- 如果`data`不是字符串，就直接返回`data`。

## 4.3 在 xhr 函数中使用 transformResponse

现在，我们可以在`xhr`函数中使用`transformResponse`函数了。

`xhr.ts`

```typescript
import { AxiosRequestConfig, AxiosResponse } from "./types";
import { processHeaders } from "./helpers/headers";
import { flattenHeaders } from "./helpers/headers";
import { transformRequest } from "./helpers/data";
import { transformResponse } from "./helpers/data";

export default function xhr(config: AxiosRequestConfig): void {
  const {
    data = null,
    url,
    method = "get",
    headers,
    responseType,
    timeout
  } = config;

  const request = new XMLHttpRequest();

  if (responseType) {
    request.responseType = responseType;
  }

  if (timeout) {
    request.timeout = timeout;
  }

  request.open(method.toUpperCase(), url, true);

  // 处理 data
  const transformedData = transformRequest(data);

  // 处理 headers
  const processedHeaders = processHeaders(headers, transformedData);
  // 扁平化 headers
  const flattenedHeaders = flattenHeaders(processedHeaders, method);

  Object.keys(flattenedHeaders).forEach(name => {
    if (data === null && name.toLowerCase() === "content-type") {
      delete flattenedHeaders[name];
    } else {
      request.setRequestHeader(name, flattenedHeaders[name]);
    }
  });

  request.send(transformedData);

  request.onreadystatechange = function handleLoad() {
    if (request.readyState !== 4) {
      return;
    }

    if (request.status === 0) {
      return;
    }

    const responseHeaders = request.getAllResponseHeaders();
    const responseData =
      responseType && responseType !== "text"
        ? request.response
        : request.responseText;
    const response: AxiosResponse = {
      data: transformResponse(responseData),
      status: request.status,
      statusText: request.statusText,
      headers: responseHeaders,
      config,
      request
    };
    resolve(response);
  };
}
```

代码说明：

- 首先，我们从`config`中解构出`data`、`url`、`method`、`headers`、`responseType`、`timeout`等属性。
- 然后，我们调用`transformRequest`函数处理`data`，得到`transformedData`。
- 接着，我们调用`processHeaders`函数处理`headers`，注意这里传入的`data`是`transformedData`，因为`processHeaders`函数中会根据`data`的类型来设置`Content-Type`。
- 最后，我们调用`request.send`方法发送`transformedData`。
- 在`onreadystatechange`事件中，我们调用`transformResponse`函数处理`responseData`，得到`response.data`。

# 5. 编写 demo

现在，我们已经实现了对`headers`和`data`的处理，我们可以编写一个`demo`来测试一下。

`examples/base/app.ts`

```typescript
import axios from "../../src/index";

axios({
  method: "post",
  url: "/api/base/post",
  data: {
    a: 1,
    b: 2
  }
});

axios({
  method: "post",
  url: "/api/base/post",
  headers: {
    "content-type": "application/json;charset=utf-8"
  },
  data: {
    a: 1,
    b: 2
  }
});

axios({
  method: "post",
  url: "/api/base/post",
  headers: {
    "content-type": "application/x-www-form-urlencoded"
  },
  data: {
    a: 1,
    b: 2
  }
});
```

我们在`examples`目录下创建`base`目录，然后在`base`目录下创建`index.html`和`app.ts`文件。

`examples/base/index.html`

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Base example</title>
  </head>
  <body>
    <script src="/__build__/base.js"></script>
  </body>
</html>
```

然后我们在`examples`目录下创建`webpack.config.js`文件，用来配置`webpack`。

`examples/webpack.config.js`

```javascript
const fs = require("fs");
const path = require("path");
const webpack = require("webpack");

module.exports = {
  mode: "development",
  entry: fs.readdirSync(__dirname).reduce((entries, dir) => {
    const fullDir = path.join(__dirname, dir);
    const entry = path.join(fullDir, "app.ts");
    if (fs.statSync(fullDir).isDirectory() && fs.existsSync(entry)) {
      entries[dir] = ["webpack-hot-middleware/client", entry];
    }
    return entries;
  }, {}),
  output: {
    path: path.join(__dirname

2025-08-25 12:08:55,293 - evaluation_logger_Cross-225 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any part of the user's query about booking flights, checking hotel availability, or arranging a taxi."}
2025-08-25 12:09:02,809 - evaluation_logger_Cross-225 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:09:02,809 - evaluation_logger_Cross-225 - INFO - Message: Success.
2025-08-25 12:09:02,809 - evaluation_logger_Cross-225 - INFO - Success turn num = 4
2025-08-25 12:09:02,809 - evaluation_logger_Cross-225 - INFO - ----------------------------------------------------------------------------------------------------
