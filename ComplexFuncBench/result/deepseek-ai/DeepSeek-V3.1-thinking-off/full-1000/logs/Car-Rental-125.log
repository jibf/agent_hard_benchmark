2025-08-25 11:24:43,042 - evaluation_logger_Car-Rental-125 - INFO - Test Example Car-Rental-125
2025-08-25 11:24:43,042 - evaluation_logger_Car-Rental-125 - INFO - Query: My friends are planning a self-driving trip in France from December 1st to 8th, 2024. They'll pick up the car at Paris - Charles de Gaulle Airport at 10 AM and return it at Toulouse-Blagnac Airport at 6 PM. Could you provide details of the vehicle, the supplier's ratings, and user comments?
2025-08-25 11:24:53,984 - evaluation_logger_Car-Rental-125 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Paris - Charles de Gaulle Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Toulouse-Blagnac Airport"
        }
    }
]

2025-08-25 11:24:53,984 - evaluation_logger_Car-Rental-125 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Paris - Charles de Gaulle Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Toulouse-Blagnac Airport"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 49.0070991516113,
            "pick_up_longitude": 2.56843996047974,
            "drop_off_latitude": 43.6309013366699,
            "drop_off_longitude": 1.37371003627777,
            "pick_up_date": "2024-12-01",
            "pick_up_time": "10:00",
            "drop_off_date": "2024-12-08",
            "drop_off_time": "18:00"
        }
    }
]

2025-08-25 11:24:53,984 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}
2025-08-25 11:24:53,984 - evaluation_logger_Car-Rental-125 - INFO - Rule-based compare success.
2025-08-25 11:24:53,985 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Toulouse-Blagnac Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Toulouse-Blagnac Airport'}}
2025-08-25 11:24:53,985 - evaluation_logger_Car-Rental-125 - INFO - Rule-based compare success.
2025-08-25 11:24:53,985 - evaluation_logger_Car-Rental-125 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Paris - Charles de Gaulle Airport'}}, {'name': 'Search_Car_Location', 'arguments': {'query': 'Toulouse-Blagnac Airport'}}]
2025-08-25 11:24:53,985 - evaluation_logger_Car-Rental-125 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "coordinates": {
                    "latitude": 49.0070991516113,
                    "longitude": 2.56843996047974
                },
                "country": "France",
                "name": "Paris - Charles de Gaulle Airport",
                "type": "airport",
                "iata_code": "CDG",
                "city": "Paris"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "country": "France",
                "iata_code": "TLS",
                "type": "airport",
                "coordinates": {
                    "longitude": 1.37371003627777,
                    "latitude": 43.6309013366699
                },
                "city": "Toulouse",
                "name": "Toulouse-Blagnac Airport"
            }
        ]
    }
]

2025-08-25 11:25:05,785 - evaluation_logger_Car-Rental-125 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 49.0070991516113,
            "pick_up_longitude": 2.56843996047974,
            "drop_off_latitude": 43.6309013366699,
            "drop_off_longitude": 1.37371003627777,
            "pick_up_date": "2024-12-01",
            "pick_up_time": "10:00",
            "drop_off_date": "2024-12-08",
            "drop_off_time": "18:00"
        }
    }
]

2025-08-25 11:25:05,785 - evaluation_logger_Car-Rental-125 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-12-08",
            "drop_off_latitude": 43.6309013366699,
            "drop_off_longitude": 1.37371003627777,
            "drop_off_time": "18:00",
            "pick_up_date": "2024-12-01",
            "pick_up_latitude": 49.0070991516113,
            "pick_up_longitude": 2.56843996047974,
            "pick_up_time": "10:00"
        }
    },
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    }
]

2025-08-25 11:25:05,785 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-12-08', 'drop_off_latitude': 43.6309013366699, 'drop_off_longitude': 1.37371003627777, 'drop_off_time': '18:00', 'pick_up_date': '2024-12-01', 'pick_up_latitude': 49.0070991516113, 'pick_up_longitude': 2.56843996047974, 'pick_up_time': '10:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-12-08', 'drop_off_latitude': 43.6309013366699, 'drop_off_longitude': 1.37371003627777, 'drop_off_time': '18:00', 'pick_up_date': '2024-12-01', 'pick_up_latitude': 49.0070991516113, 'pick_up_longitude': 2.56843996047974, 'pick_up_time': '10:00'}}
2025-08-25 11:25:05,785 - evaluation_logger_Car-Rental-125 - INFO - Rule-based compare success.
2025-08-25 11:25:05,785 - evaluation_logger_Car-Rental-125 - INFO - Success matched: [{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-12-08', 'drop_off_latitude': 43.6309013366699, 'drop_off_longitude': 1.37371003627777, 'drop_off_time': '18:00', 'pick_up_date': '2024-12-01', 'pick_up_latitude': 49.0070991516113, 'pick_up_longitude': 2.56843996047974, 'pick_up_time': '10:00'}}]
2025-08-25 11:25:05,786 - evaluation_logger_Car-Rental-125 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "is_genius_location": true,
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "filter": [
                {
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Train station",
                            "count": 17,
                            "id": "depotLocationType::TRAINSTATION",
                            "nameWithCount": "Train station (17)"
                        },
                        {
                            "nameWithCount": "Airport (in terminal) (333)",
                            "id": "depotLocationType::IN_TERMINAL",
                            "count": 333,
                            "name": "Airport (in terminal)"
                        }
                    ],
                    "title": "Location",
                    "id": "depotLocationType",
                    "layout": {
                        "is_collapsed": "false",
                        "layout_type": "list",
                        "collapsed_count": 2,
                        "is_collapsable": "false"
                    }
                },
                {
                    "title": "Car Type",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "id": "carCategory::small",
                            "nameWithCount": "Small (71)",
                            "count": 71,
                            "name": "Small"
                        },
                        {
                            "name": "Medium",
                            "nameWithCount": "Medium (143)",
                            "id": "carCategory::medium",
                            "count": 143
                        },
                        {
                            "name": "Large",
                            "nameWithCount": "Large (130)",
                            "id": "carCategory::large",
                            "count": 130
                        },
                        {
                            "name": "Estate",
                            "nameWithCount": "Estate (18)",
                            "id": "carCategory::estate",
                            "count": 18
                        },
                        {
                            "name": "Premium",
                            "nameWithCount": "Premium (33)",
                            "id": "carCategory::premium",
                            "count": 33
                        }
                    ],
                    "id": "carCategory",
                    "layout": {
                        "collapsed_count": 5,
                        "is_collapsable": "true",
                        "is_collapsed": "true",
                        "layout_type": "list"
                    }
                },
                {
                    "categories": [
                        {
                            "name": "US$0 - US$50",
                            "id": "pricePerDayBuckets::BUCKET_1",
                            "nameWithCount": "US$0 - US$50 (16)",
                            "count": 16
                        },
                        {
                            "nameWithCount": "US$50 - US$100 (208)",
                            "id": "pricePerDayBuckets::BUCKET_2",
                            "count": 208,
                            "name": "US$50 - US$100"
                        },
                        {
                            "count": 119,
                            "nameWithCount": "US$100 - US$150 (119)",
                            "id": "pricePerDayBuckets::BUCKET_3",
                            "name": "US$100 - US$150"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_4",
                            "nameWithCount": "US$150 - US$200 (7)",
                            "count": 7,
                            "name": "US$150 - US$200"
                        },
                        {
                            "nameWithCount": "US$200+ (0)",
                            "id": "pricePerDayBuckets::BUCKET_5",
                            "count": 0,
                            "name": "US$200+"
                        }
                    ],
                    "type": "multiple_union",
                    "title": "Price per day",
                    "layout": {
                        "is_collapsable": "false",
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsed": "false"
                    },
                    "id": "pricePerDayBuckets"
                },
                {
                    "layout": {
                        "is_collapsable": "true",
                        "collapsed_count": 5,
                        "is_collapsed": "true",
                        "layout_type": "list"
                    },
                    "id": "supplier",
                    "title": "Supplier",
                    "categories": [
                        {
                            "id": "supplier::Avis",
                            "nameWithCount": "Avis (93)",
                            "count": 93,
                            "name": "Avis"
                        },
                        {
                            "count": 59,
                            "id": "supplier::Budget",
                            "nameWithCount": "Budget (59)",
                            "name": "Budget"
                        },
                        {
                            "name": "Europcar",
                            "count": 43,
                            "id": "supplier::Europcar",
                            "nameWithCount": "Europcar (43)"
                        },
                        {
                            "nameWithCount": "Keddy By Europcar (11)",
                            "id": "supplier::Keddy By Europcar",
                            "count": 11,
                            "name": "Keddy By Europcar"
                        },
                        {
                            "nameWithCount": "Sixt (144)",
                            "id": "supplier::Sixt",
                            "count": 144,
                            "name": "Sixt"
                        }
                    ],
                    "type": "multiple_union"
                },
                {
                    "id": "transmission",
                    "layout": {
                        "is_collapsed": "true",
                        "layout_type": "list",
                        "is_collapsable": "true",
                        "collapsed_count": 5
                    },
                    "title": "Transmission",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Automatic",
                            "nameWithCount": "Automatic (225)",
                            "id": "transmission::AUTOMATIC",
                            "count": 225
                        },
                        {
                            "count": 125,
                            "nameWithCount": "Manual (125)",
                            "id": "transmission::MANUAL",
                            "name": "Manual"
                        }
                    ]
                }
            ],
            "count": 179,
            "provider": "rentalcars",
            "sort": [
                {
                    "name": "Recommended – best first",
                    "title_tag": "tr.searchresults.sortBy.recommended",
                    "identifier": "recommended"
                },
                {
                    "name": "Price - lowest first",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh",
                    "identifier": "price_low_to_high"
                },
                {
                    "name": "Review score - highest first",
                    "identifier": "review_score",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow"
                }
            ],
            "title": "Car rentals",
            "search_context": {
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
                "recommendationsSearchUniqueId": "fd8436c5-705f-4a96-95b1-ce22aaa0764a",
                "searchId": "e0cef248-8a17-4f7c-9a67-f9087d63d08a"
            },
            "type": "cars",
            "content": {
                "filters": {
                    "countLabel": "179 results"
                },
                "items": [
                    {
                        "type": "SHELL_REGION_VIEW",
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        },
                        "positionInList": 3
                    }
                ]
            },
            "meta": {
                "response_code": 200
            },
            "search_results": [
                {
                    "vehicle_id": "774442521",
                    "accessibility": {
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Automatic gearbox",
                        "pick_up_location": "Pick-up information: In Terminal",
                        "supplier_rating": "At this location, our customers have rated Sixt as 8.2 out of 10, Very good."
                    },
                    "route_info": {
                        "pickup": {
                            "country_code": "FR",
                            "location_id": "4750743",
                            "name": "Paris - Charles de Gaulle Airport",
                            "latitude": "49.014252",
                            "longitude": "2.54125",
                            "location_hash": "UGFyaXMgLSBDaGFybGVzIGRlIEdhdWxsZSBBaXJwb3J0",
                            "address": "Aéroport de Paris-Charles-de-Gaulle, Terminal 2F, Paris, France - Mainland, 95711",
                            "location_type": "IN_TERMINAL"
                        },
                        "dropoff": {
                            "latitude": "43.630534",
                            "location_id": "2776046",
                            "name": "Toulouse-Blagnac Airport",
                            "country_code": "FR",
                            "longitude": "1.373973",
                            "address": "Aéroport de Toulouse-Blagnac, Blagnac, France, 31703",
                            "location_type": "IN_TERMINAL"
                        }
                    },
                    "supplier_info": {
                        "pickup_instructions": "The Sixt branch is located in the renters' building (arrivals level, between terminal 2E and terminal 2F.",
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false,
                        "longitude": "2.54125",
                        "name": "Sixt",
                        "address": "Aéroport de Paris-Charles-de-Gaulle, Terminal 2F, Paris, France - Mainland, 95711",
                        "latitude": "49.014252",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/207_logo_200.png"
                    },
                    "pricing_info": {
                        "deposit": 676.58,
                        "drive_away_price": 676.58,
                        "discount": 0,
                        "pay_when": "PAY_NOW",
                        "drive_away_price_is_approx": true,
                        "base_price": 56903.1,
                        "currency": "USD",
                        "base_currency": "INR",
                        "base_deposit": 56903.1,
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "max_amount": 4000,
                                    "is_always_payable": 0,
                                    "type": "THEFT_EXCESS",
                                    "is_tax_included": 1,
                                    "min_amount": 4000,
                                    "amount": 4000,
                                    "currency": "EUR"
                                },
                                {
                                    "min_amount": 500,
                                    "amount": 500,
                                    "currency": "EUR",
                                    "max_amount": 500,
                                    "is_always_payable": 0,
                                    "type": "DEPOSIT",
                                    "is_tax_included": 1
                                },
                                {
                                    "max_amount": 4000,
                                    "is_always_payable": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "is_tax_included": 1,
                                    "amount": 4000,
                                    "currency": "EUR",
                                    "min_amount": 4000
                                },
                                {
                                    "max_amount": 0.89,
                                    "is_always_payable": 0,
                                    "distance_allowed": {
                                        "is_km": 1,
                                        "per_duration": "rental",
                                        "value": 2000,
                                        "is_unlimited": 0
                                    },
                                    "type": "MILEAGE",
                                    "is_tax_included": 1,
                                    "min_amount": 0.89,
                                    "amount": 0.89,
                                    "currency": "EUR"
                                }
                            ],
                            "fuel_policy": {
                                "amount": 0,
                                "type": "RETURN_SAME"
                            }
                        },
                        "price": 676.58,
                        "quote_allowed": 1
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "vehicle_info": {
                        "fuel_type": "N/A",
                        "unlimited_mileage": 0,
                        "airbags": 1,
                        "free_cancellation": 1,
                        "doors": "5",
                        "mileage": "2000 kilometres per rental",
                        "fuel_policy": "Like for like",
                        "group": "Premium",
                        "seats": "5",
                        "label": "Premium car with:",
                        "transmission": "Automatic",
                        "v_name": "Mercedes EQE",
                        "v_id": "774442521",
                        "badges": {
                            "greenVehicle": "Fully electric"
                        },
                        "cma_compliant": -1,
                        "aircon": 1,
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        }
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT"
                            },
                            {
                                "variation": "DEFAULT",
                                "type": "ACCENT",
                                "text": "Fully electric"
                            }
                        ],
                        "supplier": {
                            "name": "Sixt",
                            "rating": {
                                "localisedRating": {
                                    "displayValue": "8.2",
                                    "rawValue": 8.2
                                },
                                "title": "Very good",
                                "average": "8.2",
                                "subtitle": "2,683 reviews"
                            }
                        }
                    },
                    "rating_info": {
                        "efficiency": 8.3,
                        "value_for_money": 7.8,
                        "pickup_time": 7.1,
                        "average_text": "Excellent",
                        "dropoff_time": 9,
                        "condition": 8.4,
                        "average": 8.2,
                        "cleanliness": 8.6,
                        "no_of_ratings": 2683,
                        "location": 8.7
                    }
                }
            ]
        }
    }
]

2025-08-25 11:26:03,234 - evaluation_logger_Car-Rental-125 - INFO - Function Calls: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05GIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774442521",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    }
]

2025-08-25 11:26:03,234 - evaluation_logger_Car-Rental-125 - INFO - Golden Function Call: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "774442521"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "774442521"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "774442521"
        }
    }
]

2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Rule-based compare success.
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Rule-based compare success.
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Ratings', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05GIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
{'name': 'Vehicle_Supplier_Ratings', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - {'error_type': 'value_error', 'content': 'Parameter search_key value is not correct in prediction.'}
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Success matched: [{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}, {'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMi0wOFQxODowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQzLjYzMDkwMTMzNjY2OTksMS4zNzM3MTAwMzYyNzc3NyIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTEyLTAxVDEwOjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI0OS4wMDcwOTkxNTE2MTEzLDIuNTY4NDM5OTYwNDc5NzQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '774442521'}}]
2025-08-25 11:26:03,818 - evaluation_logger_Car-Rental-125 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "whatsIncluded": {
                "items": [
                    {
                        "icon": "TICK",
                        "text": "<b>Free cancellation</b> up to 48 hours before pick-up"
                    },
                    {
                        "text": "Collision Damage Waiver (CDW)",
                        "icon": "TICK"
                    },
                    {
                        "icon": "TICK",
                        "text": "Theft Cover"
                    },
                    {
                        "icon": "TICK",
                        "text": "Third-Party Liability (TPL)"
                    }
                ],
                "title": "What's included"
            },
            "importantInfo": {
                "subtitle": "Security deposit, damage excess, what you'll need at pick-up, and more",
                "items": [
                    {
                        "icon": "CREDIT_CARD",
                        "text": "<b>Payment card at pick-up:</b> Credit or debit card<br/>The main driver <b>must</b> have a credit or debit card in their own name when picking the car up."
                    }
                ],
                "title": "Important information",
                "cta": {
                    "text": "More details",
                    "title": "Rental terms"
                }
            },
            "metadata": {
                "navigation": {
                    "showExtrasStep": false
                }
            },
            "content": {
                "reviews": {
                    "supplier": {
                        "name": "Sixt",
                        "rating": {
                            "subtitle": "2,683 reviews",
                            "localisedRating": {
                                "displayValue": "8.2",
                                "rawValue": 8.2
                            },
                            "average": "8.2",
                            "title": "Very good"
                        }
                    },
                    "title": "Reviews"
                },
                "carSpecification": {
                    "green": {
                        "items": [
                            {
                                "text": "Range: 410 km",
                                "icon": "GREEN_BATTERY"
                            },
                            {
                                "details": {
                                    "title": "Charging time:",
                                    "items": [
                                        "Fast charger: 28 mins",
                                        "Medium charger: 14 hours 30 mins",
                                        "Slow charger: 46 hours 30 mins"
                                    ]
                                },
                                "text": "Fast charging time: 28 mins",
                                "icon": "GREEN_CHARGER"
                            },
                            {
                                "text": "Charging policy: Like for like",
                                "icon": "CAR_PLUG_IN",
                                "details": {
                                    "items": [
                                        "The battery will be about 80% charged at pick-up. Just charge it back to the same level before drop-off."
                                    ],
                                    "title": "Charging policy:"
                                }
                            }
                        ]
                    }
                },
                "carCard": {
                    "badges": [
                        {
                            "type": "CONSTRUCTIVE",
                            "text": "Free cancellation",
                            "variation": "DEFAULT"
                        },
                        {
                            "type": "ACCENT",
                            "variation": "DEFAULT",
                            "text": "Fully electric"
                        }
                    ],
                    "supplier": {
                        "rating": {
                            "title": "Very good",
                            "subtitle": "2,683 reviews",
                            "average": "8.2",
                            "localisedRating": {
                                "rawValue": 8.2,
                                "displayValue": "8.2"
                            }
                        },
                        "name": "Sixt"
                    },
                    "accessibility": {
                        "transmission": "Automatic gearbox",
                        "supplier_rating": "At this location, our customers have rated Sixt as 8.2 out of 10, Very good.",
                        "fuel_policy": "Fuel policy is: {fuel_policy}",
                        "pick_up_location": "Pick-up information: In Terminal"
                    }
                }
            },
            "supplier": {
                "locationType": "In Terminal",
                "rating": 8.2
            },
            "links": {
                "fullRentalTerms": {
                    "label": "Rental terms"
                }
            },
            "meta": {
                "response_code": 200
            },
            "depots": {
                "dropoff": {
                    "id": "2776046",
                    "iataCode": "TLS",
                    "country_code": "FR",
                    "name": "Toulouse-Blagnac Airport",
                    "location_type": "IN_TERMINAL",
                    "longitude": "1.373973",
                    "location_id": "2776046",
                    "latitude": "43.630534",
                    "address": "Aéroport de Toulouse-Blagnac, Blagnac, France, 31703"
                },
                "pickup": {
                    "iataCode": "CDG",
                    "id": "4750743",
                    "name": "Paris - Charles de Gaulle Airport",
                    "country_code": "FR",
                    "longitude": "2.54125",
                    "location_type": "IN_TERMINAL",
                    "latitude": "49.014252",
                    "location_id": "4750743",
                    "country": "France - Mainland",
                    "city": "Paris",
                    "address": "Aéroport de Paris-Charles-de-Gaulle, Terminal 2F, Paris, France - Mainland, 95711"
                }
            },
            "packages": [
                {
                    "id": "RC_FULL_PROTECTION",
                    "content": {
                        "price": {
                            "displayPrice": "US$158.43",
                            "priceAnnotation": {
                                "text": "Free cancellation"
                            },
                            "label": "Total protection price"
                        },
                        "title": "Add insurance...",
                        "description": "You could lose your whole deposit if the car is damaged or stolen, but as long as you have Full Protection, Booking.com will refund you!",
                        "cta": {
                            "attach": "Read more",
                            "remove": "Remove Full Protection"
                        },
                        "included": "Full Protection included",
                        "subtitle": "for peace of mind"
                    }
                }
            ],
            "vehicle": {
                "fees": {
                    "otherFees": [
                        {
                            "distanceUnit": "M",
                            "name": "DAMAGE_EXCESS",
                            "unlimited": false,
                            "price": {
                                "maximumAmount": 4000,
                                "minimumAmount": 4000,
                                "amount": 4000,
                                "currency": "EUR",
                                "taxIncluded": true
                            },
                            "includedInPrice": false,
                            "alwaysPayable": true,
                            "displayPrice": {
                                "maximumAmount": 4310,
                                "minimumAmount": 4310,
                                "taxIncluded": true,
                                "amount": 4310,
                                "currency": "USD"
                            }
                        },
                        {
                            "unlimited": false,
                            "price": {
                                "taxIncluded": true,
                                "amount": 500,
                                "currency": "EUR",
                                "maximumAmount": 500,
                                "minimumAmount": 500
                            },
                            "name": "DEPOSIT",
                            "distanceUnit": "M",
                            "displayPrice": {
                                "maximumAmount": 538.75,
                                "minimumAmount": 538.75,
                                "taxIncluded": true,
                                "amount": 538.75,
                                "currency": "USD"
                            },
                            "alwaysPayable": true,
                            "includedInPrice": false
                        },
                        {
                            "includedInPrice": false,
                            "alwaysPayable": false,
                            "displayPrice": {
                                "amount": 12.93,
                                "currency": "USD",
                                "taxIncluded": true,
                                "minimumAmount": 12.93,
                                "maximumAmount": 12.93
                            },
                            "name": "FUEL_POLICY",
                            "distanceUnit": "M",
                            "price": {
                                "maximumAmount": 12,
                                "minimumAmount": 12,
                                "amount": 12,
                                "currency": "EUR",
                                "taxIncluded": true
                            },
                            "unlimited": false,
                            "type": "RETURN_SAME"
                        },
                        {
                            "includedInPrice": false,
                            "distance": 2000,
                            "alwaysPayable": false,
                            "displayPrice": {
                                "currency": "USD",
                                "amount": 0.96,
                                "taxIncluded": true,
                                "maximumAmount": 0.96,
                                "minimumAmount": 0.96
                            },
                            "name": "MILEAGE",
                            "distanceUnit": "KM",
                            "unlimited": false,
                            "price": {
                                "minimumAmount": 0.89,
                                "maximumAmount": 0.89,
                                "amount": 0.89,
                                "currency": "EUR",
                                "taxIncluded": true
                            },
                            "perWhat": "PER_RENTAL"
                        },
                        {
                            "name": "THEFT_EXCESS",
                            "distanceUnit": "M",
                            "price": {
                                "maximumAmount": 4000,
                                "minimumAmount": 4000,
                                "taxIncluded": true,
                                "amount": 4000,
                                "currency": "EUR"
                            },
                            "unlimited": false,
                            "includedInPrice": false,
                            "displayPrice": {
                                "taxIncluded": true,
                                "currency": "USD",
                                "amount": 4310,
                                "maximumAmount": 4310,
                                "minimumAmount": 4310
                            },
                            "alwaysPayable": true
                        }
                    ]
                },
                "makeAndModel": "Mercedes EQE",
                "rentalDurationInDays": 8,
                "badges": {
                    "greenVehicle": "Fully electric"
                },
                "freeCancellation": true,
                "id": "774442521",
                "label": "Premium car with:",
                "carClass": "Premium",
                "price": {
                    "payWhen": "PAY_NOW",
                    "driveAwayPriceIsApprox": true,
                    "base": {
                        "currency": "INR",
                        "value": 56903.1
                    },
                    "driveAway": {
                        "currency": "USD",
                        "value": 676.58
                    },
                    "display": {
                        "value": 676.58,
                        "currency": "USD"
                    }
                },
                "specification": {
                    "smallSuitcases": 1,
                    "bigSuitcases": 2,
                    "numberOfDoors": "5",
                    "airConditioning": true,
                    "transmission": "Automatic",
                    "mileage": "2000 kilometres per rental",
                    "numberOfSeats": "5"
                }
            }
        }
    },
    {
        "api_status": true,
        "content": "There is a problem with your api call, please double-check for possible problems."
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "supplier": {
                "rating": {
                    "title": "Very good",
                    "average": "8.2",
                    "subtitle": "2,683 reviews",
                    "localisedRating": {
                        "displayValue": "8.2",
                        "rawValue": 8.2
                    },
                    "breakdown": [
                        {
                            "title": "Overall value for money of your vehicle hire",
                            "score": "7.8",
                            "localisedRating": {
                                "displayValue": "7.8",
                                "rawValue": 7.8
                            }
                        },
                        {
                            "localisedRating": {
                                "rawValue": 8.3,
                                "displayValue": "8.3"
                            },
                            "score": "8.3",
                            "title": "Helpfulness"
                        },
                        {
                            "title": "Pick-up speed",
                            "score": "7.1",
                            "localisedRating": {
                                "displayValue": "7.1",
                                "rawValue": 7.1
                            }
                        },
                        {
                            "localisedRating": {
                                "rawValue": 9,
                                "displayValue": "9"
                            },
                            "score": "9.0",
                            "title": "Drop-off speed"
                        },
                        {
                            "score": "8.6",
                            "title": "Car cleanliness",
                            "localisedRating": {
                                "displayValue": "8.6",
                                "rawValue": 8.6
                            }
                        }
                    ]
                },
                "name": "Sixt",
                "title": "Rental company"
            },
            "customerReviews": {
                "title": "Customer reviews",
                "sort": {
                    "pageTitle": "Sort by",
                    "options": {
                        "default": "score.descending",
                        "items": [
                            {
                                "id": "score.descending",
                                "label": "Highest scores"
                            },
                            {
                                "label": "Lowest scores",
                                "id": "score.ascending"
                            },
                            {
                                "label": "Newest first",
                                "id": "date.descending"
                            },
                            {
                                "label": "Oldest first",
                                "id": "date.ascending"
                            }
                        ]
                    },
                    "ctaTitle": "Sort by"
                },
                "reviews": [
                    {
                        "type": "Family",
                        "rating": "7.4",
                        "epochDay": 20019,
                        "date": "Wed, Oct 23 2024",
                        "negative": "As most people we had a fixed schedule - had we been delayed a further 30minutes we would have had a completely pointless journey \nHow you can book a vehicle then have to wait over 2hr to queue & eventually & luckily receive a car that wasn’t what you pre-booked is ridiculous ",
                        "localisedRating": {
                            "rawValue": 7.4,
                            "displayValue": "7.4"
                        }
                    },
                    {
                        "localisedRating": {
                            "displayValue": "2",
                            "rawValue": 2
                        },
                        "negative": "You could not help and change the pickup place after 3 minutes from booking the cat",
                        "date": "Thu, Oct 17 2024",
                        "rating": "2.0",
                        "epochDay": 20013,
                        "type": "Couple",
                        "positive": "You are the worst rental company i ever met"
                    },
                    {
                        "positive": "Competitive rate and high efficiency ",
                        "rating": "6.6",
                        "epochDay": 20013,
                        "type": "Group",
                        "localisedRating": {
                            "rawValue": 6.6,
                            "displayValue": "6.6"
                        },
                        "negative": "No SIXT employee on site when we picked the car up and dropped the car off to go through the conditions of the car. The car wasn’t washed when we took it, and it wasn’t easy for us to tell minor defects. When we returned the car, several customers waited there under rain and no employee showed up, I returned the key to the counter inside the terminal after 30 minutes waiting , then I received a “damage report” on the second day via email, haven’t known the charge yet.",
                        "date": "Thu, Oct 17 2024"
                    },
                    {
                        "date": "Wed, Oct 16 2024",
                        "negative": "No dislikes, just noting that the GPS needed to be updated, nothing major, we used our phones.  ",
                        "localisedRating": {
                            "rawValue": 9.4,
                            "displayValue": "9.4"
                        },
                        "positive": "Car was great, modern features and comfortable.  Trunk was a good size for a compact vehicle.  It fit a large suitcase and we still\nhad plenty of room.  ",
                        "type": "Family",
                        "epochDay": 20012,
                        "rating": "9.4"
                    },
                    {
                        "localisedRating": {
                            "displayValue": "6",
                            "rawValue": 6
                        },
                        "negative": "The counter agent tried to up sale me a larger and more expensive car.  Also, she also tried to sell me another CDW policy even though I purchased one from Booking.  She implied the SixT was better in case I had an accident.  ",
                        "date": "Fri, Oct 11 2024",
                        "epochDay": 20007,
                        "rating": "6.0",
                        "type": "Couple"
                    }
                ]
            }
        }
    }
]

2025-08-25 11:27:45,123 - evaluation_logger_Car-Rental-125 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应配置化，即用户可以配置`url`、`method`、`params`、`data`、`headers`、`timeout`、`responseType`等等。另外，我们还实现了`axios`的`response`响应数据的结构化和泛型。那么接下来，我们就来实现`axios`的异常处理。

# 2. 需求分析

在之前的代码中，我们虽然处理了网络请求错误、超时错误以及状态码非 200 的情况，但是我们都只是简单的`console`到控制台上，这肯定是不行的，我们希望能够捕获到这些错误，做进一步的处理。

另外，我们希望程序也能捕获到一些我们预料之外的异常，比如请求配置对象中的参数不在允许范围内。

所以，我们希望程序能够处理这些异常，并且返回一个`Promise`，使得我们能够捕获到这些异常。

# 3. 异常处理分类

我们先来梳理下有哪些异常是需要处理的：

- 网络错误：当网络出现异常（比如不通）的时候会触发`XMLHttpRequest`对象实例的`error`事件；
- 超时错误：当请求超时的时候会触发`XMLHttpRequest`对象实例的`timeout`事件；
- 非 200 状态码：当服务器返回的状态码不是 200 的时候，表示请求出错了；
- 用户配置错误：比如用户配置了不支持的`method`，或者配置了无效的`params`、`headers`等；

# 4. 异常处理实现

## 4.1 网络错误、超时错误、非 200 状态码

对于网络错误、超时错误、非 200 状态码，我们都是在`xhr`函数中处理的，所以我们也应该在这几种错误发生时使用`Promise.reject`返回一个错误，使得用户能够捕获到该错误。

我们在`src/xhr.ts`中处理：

```typescript
// src/xhr.ts

import { AxiosRequestConfig, AxiosResponse } from "./types";

export default function xhr(config: AxiosRequestConfig): Promise<AxiosResponse> {
  return new Promise((resolve, reject) => {
    const {
      url,
      method = "get",
      data = null,
      headers,
      responseType,
      timeout,
    } = config;

    const request = new XMLHttpRequest();

    if (responseType) {
      request.responseType = responseType;
    }

    if (timeout) {
      request.timeout = timeout;
    }

    request.open(method.toUpperCase(), url, true);

    request.onreadystatechange = function handleLoad() {
      if (request.readyState !== 4) {
        return;
      }
      if (request.status === 0) {
        return;
      }
      const responseHeaders = request.getAllResponseHeaders();
      const responseData =
        responseType && responseType !== "text"
          ? request.response
          : request.responseText;
      const response: AxiosResponse = {
        data: responseData,
        status: request.status,
        statusText: request.statusText,
        headers: responseHeaders,
        config,
        request,
      };
      handleResponse(response);
    };

    request.onerror = function handleError() {
      reject(new Error("Network Error"));
    };

    request.ontimeout = function handleTimeout() {
      reject(new Error(`Timeout of ${timeout} ms exceeded`));
    };

    Object.keys(headers).forEach((name) => {
      if (data === null && name.toLowerCase() === "content-type") {
        delete headers[name];
      } else {
        request.setRequestHeader(name, headers[name]);
      }
    });

    request.send(data);

    function handleResponse(response: AxiosResponse) {
      if (response.status >= 200 && response.status < 300) {
        resolve(response);
      } else {
        reject(new Error(`Request failed with status code ${response.status}`));
      }
    }
  });
}
```

我们分别给`request`对象添加了`onerror`和`ontimeout`的事件处理函数，当网络错误和超时错误发生时，我们用`Promise.reject`返回了一个`Error`实例，并且包含了错误信息。

另外，对于状态码非 200 的情况，我们在`handleResponse`函数中做了处理，当状态码不在 200-300 之间时，我们也用`Promise.reject`返回了一个`Error`实例，并且包含了状态码。

## 4.2 用户配置错误

对于用户配置错误，我们目前还没有做处理，比如用户配置了不支持的`method`，或者配置了无效的`params`、`headers`等。我们可以在`src/core/xhr.ts`中的`xhr`函数中处理，但是这样会导致`xhr`函数变得臃肿，而且这些错误并不是`xhr`函数独有的，其它请求方式也可能会有这些错误。所以，我们应该在`src/core/dispatchRequest.ts`中的`dispatchRequest`函数中处理。

我们在`src/core/dispatchRequest.ts`中处理：

```typescript
// src/core/dispatchRequest.ts

import { AxiosPromise, AxiosRequestConfig, AxiosResponse } from "../types";
import xhr from "./xhr";
import { buildURL } from "../helpers/url";
import { transformRequest, transformResponse } from "../helpers/data";
import { processHeaders } from "../helpers/headers";

export default function dispatchRequest(
  config: AxiosRequestConfig
): AxiosPromise {
  processConfig(config);
  return xhr(config).then((res) => {
    return transformResponseData(res);
  });
}

function processConfig(config: AxiosRequestConfig): void {
  config.url = transformURL(config);
  config.headers = transformHeaders(config);
  config.data = transformRequestData(config);
}

function transformURL(config: AxiosRequestConfig): string {
  const { url, params } = config;
  return buildURL(url, params);
}

function transformRequestData(config: AxiosRequestConfig): any {
  return transformRequest(config.data);
}

function transformHeaders(config: AxiosRequestConfig): any {
  const { headers = {}, data } = config;
  return processHeaders(headers, data);
}

function transformResponseData(res: AxiosResponse): AxiosResponse {
  res.data = transformResponse(res.data);
  return res;
}
```

我们在`dispatchRequest`函数中调用了`processConfig`函数，该函数用于处理配置对象，我们可以在该函数中检查配置对象中的参数是否合法。

但是，目前我们还没有定义哪些参数是合法的，所以暂时先不处理，等后面定义了再处理。

# 5. 编写 demo

```javascript
// examples/error/app.ts

import axios from "../../src/index";

axios({
  method: "get",
  url: "/error/get1",
})
  .then((res) => {
    console.log(res);
  })
  .catch((e) => {
    console.log(e);
  });

axios({
  method: "get",
  url: "/error/get",
})
  .then((res) => {
    console.log(res);
  })
  .catch((e) => {
    console.log(e);
  });

setTimeout(() => {
  axios({
    method: "get",
    url: "/error/get",
  })
    .then((res) => {
      console.log(res);
    })
    .catch((e) => {
      console.log(e);
    });
}, 5000);

axios({
  method: "get",
  url: "/error/timeout",
  timeout: 2000,
})
  .then((res) => {
    console.log(res);
  })
  .catch((e) => {
    console.log(e);
  });
```

我们创建了 4 个请求：

- 第一个请求是请求`/error/get1`，该接口返回 500 状态码，并且会返回错误信息；
- 第二个请求是请求`/error/get`，该接口返回 200 状态码，并且会返回正常数据；
- 第三个请求是 5 秒后请求`/error/get`，该接口返回 200 状态码，并且会返回正常数据；
- 第四个请求是请求`/error/timeout`，该接口会延迟 3 秒返回，但是我们设置了 2 秒超时，所以会触发超时错误；

# 6. 运行 demo

我们使用`examples/error/index.html`作为入口，在浏览器中运行该 demo，并且打开控制台，我们可以看到如下输出：

![](~@/axios/07/01.png)

我们可以看到，第一个请求返回了 500 状态码，并且我们捕获到了错误，错误信息是`Request failed with status code 500`；第二个请求返回了 200 状态码，并且返回了正常数据；第三个请求在 5 秒后发送，返回了 200 状态码，并且返回了正常数据；第四个请求超时了，并且我们捕获到了错误，错误信息是`Timeout of 2000 ms exceeded`。

这样，我们就实现了`axios`的异常处理。

# 7. 总结

在本篇文章中，我们实现了`axios`的异常处理，包括网络错误、超时错误、非 200 状态码以及用户配置错误。我们通过`Promise.reject`返回了一个`Error`实例，使得用户能够捕获到这些错误。

另外，我们还编写了 demo，验证了我们的异常处理是否正确。

在下一篇文章中，我们将实现`axios`的接口扩展，使得用户能够使用`axios.get`、`axios.post`等接口。


2025-08-25 11:27:50,960 - evaluation_logger_Car-Rental-125 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any of the requested information about the vehicle, supplier's ratings, or user comments for the self-driving trip in France."}
2025-08-25 11:27:58,208 - evaluation_logger_Car-Rental-125 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 11:27:58,209 - evaluation_logger_Car-Rental-125 - INFO - Message: [{'error_type': 'value_error', 'content': 'Parameter search_key value is not correct in prediction.'}]
2025-08-25 11:27:58,209 - evaluation_logger_Car-Rental-125 - INFO - Success turn num = 2
2025-08-25 11:27:58,209 - evaluation_logger_Car-Rental-125 - INFO - ----------------------------------------------------------------------------------------------------
