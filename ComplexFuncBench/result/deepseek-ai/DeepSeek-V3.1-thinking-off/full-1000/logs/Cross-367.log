2025-08-25 12:25:46,232 - evaluation_logger_Cross-367 - INFO - Test Example Cross-367
2025-08-25 12:25:46,232 - evaluation_logger_Cross-367 - INFO - Query: It's now 10 o'clock on November 15th, 2024 and I'm at Los Angeles International Airport. I hope to rent a car to visit the most trending attraction in Los Angeles and return it near the attraction 48 hours later.
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Los Angeles International Airport"
        }
    },
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Los Angeles"
        }
    }
]

2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attraction_Location",
        "arguments": {
            "query": "Los Angeles"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Los Angeles International Airport"
        }
    },
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOjIwMDE0MTgxfQ==",
            "sortBy": "trending"
        }
    }
]

2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Los Angeles International Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Los Angeles International Airport'}}
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Rule-based compare success.
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Start compare_single_call: 
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Los Angeles'}}
{'name': 'Search_Attraction_Location', 'arguments': {'query': 'Los Angeles'}}
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Rule-based compare success.
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Los Angeles International Airport'}}, {'name': 'Search_Attraction_Location', 'arguments': {'query': 'Los Angeles'}}]
2025-08-25 12:25:55,301 - evaluation_logger_Cross-367 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "coordinates": {
                    "longitude": -118.402000427246,
                    "latitude": 33.9440994262695
                },
                "type": "airport",
                "name": "Los Angeles International Airport",
                "iata_code": "LAX",
                "country": "United States",
                "city": "Los Angeles"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "destinations": [
                {
                    "id": "eyJ1ZmkiOjIwMDE0MTgxfQ==",
                    "__typename": "AttractionsSearchDestinationSuggestion",
                    "ufi": 20014181,
                    "country": "United States",
                    "cityName": "Los Angeles",
                    "productCount": 1078,
                    "cc1": "us"
                }
            ]
        }
    }
]

2025-08-25 12:26:04,710 - evaluation_logger_Cross-367 - INFO - Function Calls: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOjIwMDE0MTgxfQ==",
            "sortBy": "trending"
        }
    }
]

2025-08-25 12:26:04,710 - evaluation_logger_Cross-367 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Attractions",
        "arguments": {
            "id": "eyJ1ZmkiOjIwMDE0MTgxfQ==",
            "sortBy": "trending"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Universal Studios Hollywood"
        }
    }
]

2025-08-25 12:26:04,710 - evaluation_logger_Cross-367 - INFO - Start compare_single_call: 
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOjIwMDE0MTgxfQ==', 'sortBy': 'trending'}}
{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOjIwMDE0MTgxfQ==', 'sortBy': 'trending'}}
2025-08-25 12:26:04,710 - evaluation_logger_Cross-367 - INFO - Rule-based compare success.
2025-08-25 12:26:04,710 - evaluation_logger_Cross-367 - INFO - Success matched: [{'name': 'Search_Attractions', 'arguments': {'id': 'eyJ1ZmkiOjIwMDE0MTgxfQ==', 'sortBy': 'trending'}}]
2025-08-25 12:26:04,711 - evaluation_logger_Cross-367 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "__typename": "AttractionsProductSearchResponse",
            "products": [
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": false
                    },
                    "id": "PRgumD7AGgw6",
                    "name": "Universal Studios Hollywood General Admission Ticket",
                    "slug": "prgumd7aggw6-universal-studios-hollywood-general-admission",
                    "shortDescription": "A one-day ticket providing admission to Universal Studios Hollywood",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 109.05,
                        "currency": "USD",
                        "publicAmount": 109.05
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 8,
                        "percentage": "88%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.4,
                            "total": 397
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Los Angeles",
                        "ufi": 20014181
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI8pkVO05Rr3"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OINLc2YBzABz"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIO0xe6hsjvq"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIqwCPJm0s1U"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIsgwmp3gOUw"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIqYt6fLR2qw"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 1
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PR95VlQVGQx8",
                    "name": "Authentic 3-Hour Hollywood to Beverly Hills Tour",
                    "slug": "pr95vlqvgqx8-authentic-3-hour-hollywood-to-beverly-hills-tour",
                    "shortDescription": "By using our small air conditioned vehicles, we will get you access that other companies only dre...",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 49,
                        "currency": "USD",
                        "publicAmount": 49
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 0,
                        "percentage": "0",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.7,
                            "total": 191
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Los Angeles",
                        "ufi": 20014181
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIzQcXfFIuOY"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIPtQ8ycwQF2"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 2
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRr5SQc8T4Jw",
                    "name": "Three-hour Sightseeing Tour",
                    "slug": "prr5sqc8t4jw-three-hour-sightseeing-tour",
                    "shortDescription": "Tour exploring legendary landmarks and destinations in Hollywood with a secret stop at the sign",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 51.15,
                        "currency": "USD",
                        "publicAmount": 55
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 43,
                        "percentage": "91%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.7,
                            "total": 596
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Los Angeles",
                        "ufi": 20014181
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIk311Ji9rQx"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OINiYN3mYsHV"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OICMNPOtN0sM"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIpIXqQiRuDo"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIT2PnL3Xso6"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OItUZg88LyoK"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIwUq7wXqk7L"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIm0uWr2E5av"
                                }
                            ]
                        },
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIKGJn2xcL9O"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIhVhPQTbE7C"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 6
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRZ59CiS6E7B",
                    "name": "Swan Boat Night Ride at Echo Park Lake",
                    "slug": "prz59cis6e7b-swan-boat-night-ride-at-echo-park-lake",
                    "shortDescription": "A one-hour evening boat rental",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 13,
                        "currency": "USD",
                        "publicAmount": 13
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 39,
                        "percentage": "95%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.4,
                            "total": 110
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Los Angeles",
                        "ufi": 20014181
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIIqrx3r7OX8"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIBKGwf9EjuC"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 4
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerInMonth",
                            "value": true,
                            "rank": 2
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerInWeek",
                            "value": true,
                            "rank": 2
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerOnWeekends",
                            "value": true,
                            "rank": 1
                        },
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestsellerForTours",
                            "value": true,
                            "rank": 1
                        }
                    ]
                },
                {
                    "__typename": "AttractionsProduct",
                    "cancellationPolicy": {
                        "__typename": "AttractionsCancellationPolicy",
                        "hasFreeCancellation": true
                    },
                    "id": "PRQwLWelvIGf",
                    "name": "Hollywood Sightseeing and Celebrity Homes Tour",
                    "slug": "prqwlwelvigf-hollywood-sightseeing-and-celebrity-homes-tour",
                    "shortDescription": "A guided tour exploring landmarks and filming locations, with a drive through a celebrity neighbourhood",
                    "representativePrice": {
                        "__typename": "AttractionsPrice",
                        "chargeAmount": 39,
                        "currency": "USD",
                        "publicAmount": 39
                    },
                    "reviewsStats": {
                        "__typename": "AttractionsProductReviewStats",
                        "allReviewsCount": 18,
                        "percentage": "94%",
                        "combinedNumericStats": {
                            "__typename": "AttractionsProductCombinedReviewStats",
                            "average": 4.5,
                            "total": 136
                        }
                    },
                    "ufiDetails": {
                        "__typename": "AttractionLocationResponse",
                        "bCityName": "Los Angeles",
                        "ufi": 20014181
                    },
                    "offers": [
                        {
                            "__typename": "Offer",
                            "items": [
                                {
                                    "__typename": "OfferItem",
                                    "id": "OI9A2Yw2Zyh1"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OImrzzu0EgQW"
                                },
                                {
                                    "__typename": "OfferItem",
                                    "id": "OIxKNaZFVPVZ"
                                }
                            ]
                        }
                    ],
                    "supportedFeatures": {
                        "__typename": "AttractionsProductSupportedFeatures",
                        "nativeApp": true
                    },
                    "flags": [
                        {
                            "__typename": "AttractionsProductFlags",
                            "flag": "bestseller",
                            "value": true,
                            "rank": 5
                        }
                    ]
                }
            ],
            "filterStats": {
                "__typename": "FilterStats",
                "unfilteredProductCount": 1066,
                "filteredProductCount": 1066
            },
            "sorters": [
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Our top picks",
                    "value": "trending"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Most popular",
                    "value": "attr_book_score"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Lowest price",
                    "value": "lowest_price"
                },
                {
                    "__typename": "AttractionsSorterOption",
                    "name": "Best reviewed",
                    "value": "highest_weighted_rating"
                }
            ],
            "defaultSorter": {
                "__typename": "AttractionsSorterOption",
                "name": "Our top picks",
                "value": "trending"
            },
            "filterOptions": {
                "__typename": "FilterOptions",
                "typeFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Tours",
                        "tagname": "tours",
                        "productCount": 251
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Nature & outdoor",
                        "tagname": "nature-outdoor",
                        "productCount": 158
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Entertainment & tickets",
                        "tagname": "entertainment-tickets",
                        "productCount": 133
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Museums, arts & culture",
                        "tagname": "museums-arts-culture",
                        "productCount": 98
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Food & drinks",
                        "tagname": "food-drinks",
                        "productCount": 43
                    }
                ],
                "labelFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Free cancellation",
                        "tagname": "free_cancellation",
                        "productCount": 955
                    }
                ],
                "ufiFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "Los Angeles",
                        "tagname": "20014181",
                        "productCount": 534
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Santa Barbara",
                        "tagname": "20015794",
                        "productCount": 86
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Buena Park",
                        "tagname": "20011850",
                        "productCount": 69
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Santa Monica",
                        "tagname": "20015803",
                        "productCount": 69
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "Palm Springs",
                        "tagname": "20015057",
                        "productCount": 67
                    }
                ],
                "priceFilters": [
                    {
                        "__typename": "FilterOption",
                        "name": "US$0 - US$22",
                        "tagname": "b0",
                        "productCount": 154
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$22 - US$44",
                        "tagname": "b1",
                        "productCount": 163
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$44 - US$83",
                        "tagname": "b2",
                        "productCount": 147
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$83 - US$138",
                        "tagname": "b3",
                        "productCount": 147
                    },
                    {
                        "__typename": "FilterOption",
                        "name": "US$138+",
                        "tagname": "b4",
                        "productCount": 477
                    }
                ]
            }
        }
    }
]

2025-08-25 12:26:14,794 - evaluation_logger_Cross-367 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Universal Studios Hollywood"
        }
    }
]

2025-08-25 12:26:14,795 - evaluation_logger_Cross-367 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Universal Studios Hollywood"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 33.9440994262695,
            "pick_up_longitude": -118.402000427246,
            "drop_off_latitude": 34.1359634399414,
            "drop_off_longitude": -118.353698730469,
            "pick_up_date": "2024-11-15",
            "drop_off_date": "2024-11-17",
            "pick_up_time": "10:00",
            "drop_off_time": "10:00"
        }
    }
]

2025-08-25 12:26:14,795 - evaluation_logger_Cross-367 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Universal Studios Hollywood'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Universal Studios Hollywood'}}
2025-08-25 12:26:14,795 - evaluation_logger_Cross-367 - INFO - Rule-based compare success.
2025-08-25 12:26:14,795 - evaluation_logger_Cross-367 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Universal Studios Hollywood'}}]
2025-08-25 12:26:14,795 - evaluation_logger_Cross-367 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "coordinates": {
                    "longitude": -118.353698730469,
                    "latitude": 34.1359634399414
                },
                "city": "Los Angeles",
                "country": "United States",
                "name": "Universal Studios Hollywood"
            }
        ]
    }
]

2025-08-25 12:26:34,036 - evaluation_logger_Cross-367 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 33.9440994262695,
            "pick_up_longitude": -118.402000427246,
            "pick_up_date": "2024-11-15",
            "pick_up_time": "10:00",
            "drop_off_latitude": 34.1359634399414,
            "drop_off_longitude": -118.353698730469,
            "drop_off_date": "2024-11-17",
            "drop_off_time": "10:00"
        }
    }
]

2025-08-25 12:26:34,036 - evaluation_logger_Cross-367 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-11-17",
            "drop_off_latitude": 34.1359634399414,
            "drop_off_longitude": -118.353698730469,
            "drop_off_time": "10:00",
            "pick_up_date": "2024-11-15",
            "pick_up_latitude": 33.9440994262695,
            "pick_up_longitude": -118.402000427246,
            "pick_up_time": "10:00"
        }
    }
]

2025-08-25 12:26:34,036 - evaluation_logger_Cross-367 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 34.1359634399414, 'drop_off_longitude': -118.353698730469, 'drop_off_time': '10:00', 'pick_up_date': '2024-11-15', 'pick_up_latitude': 33.9440994262695, 'pick_up_longitude': -118.402000427246, 'pick_up_time': '10:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 34.1359634399414, 'drop_off_longitude': -118.353698730469, 'drop_off_time': '10:00', 'pick_up_date': '2024-11-15', 'pick_up_latitude': 33.9440994262695, 'pick_up_longitude': -118.402000427246, 'pick_up_time': '10:00'}}
2025-08-25 12:26:34,036 - evaluation_logger_Cross-367 - INFO - Rule-based compare success.
2025-08-25 12:26:34,036 - evaluation_logger_Cross-367 - INFO - Success matched: [{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 34.1359634399414, 'drop_off_longitude': -118.353698730469, 'drop_off_time': '10:00', 'pick_up_date': '2024-11-15', 'pick_up_latitude': 33.9440994262695, 'pick_up_longitude': -118.402000427246, 'pick_up_time': '10:00'}}]
2025-08-25 12:26:34,037 - evaluation_logger_Cross-367 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "search_results": [
                {
                    "vehicle_id": "372903916",
                    "pricing_info": {
                        "pay_when": "PAY_NOW",
                        "price": 136,
                        "base_deposit": 11438.47,
                        "drive_away_price": 136,
                        "base_price": 11438.47,
                        "drive_away_price_is_approx": true,
                        "discount": 0,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "max_amount": 0,
                                    "min_amount": 0,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "type": "DAMAGE_EXCESS",
                                    "currency": "USD",
                                    "amount": 0
                                },
                                {
                                    "amount": 250,
                                    "type": "DEPOSIT",
                                    "currency": "USD",
                                    "max_amount": 250,
                                    "min_amount": 250,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1
                                },
                                {
                                    "is_tax_included": 1,
                                    "is_always_payable": 1,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "type": "ONE_WAY_FEE",
                                    "currency": "USD"
                                },
                                {
                                    "max_amount": 0,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "currency": "USD",
                                    "amount": 0
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "is_always_payable": 0,
                                    "type": "MILEAGE"
                                }
                            ]
                        },
                        "currency": "USD",
                        "deposit": 136,
                        "quote_allowed": 1,
                        "base_currency": "INR"
                    },
                    "route_info": {
                        "dropoff": {
                            "latitude": "34.161091",
                            "address": "2509, West Olive Avenue, Burbank, USA, 91505",
                            "longitude": "-118.330247",
                            "country_code": "US",
                            "location_type": "DOWNTOWN",
                            "location_id": "1703066",
                            "name": "Burbank - West Olive Avenue"
                        },
                        "pickup": {
                            "location_id": "1686946",
                            "location_hash": "TG9zIEFuZ2VsZXMgSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "name": "Los Angeles International Airport",
                            "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                            "latitude": "33.951903",
                            "location_type": "SHUTTLE_BUS",
                            "longitude": "-118.387048",
                            "country_code": "US"
                        }
                    },
                    "vehicle_info": {
                        "seats": "4",
                        "fuel_policy": "Like for like",
                        "fuel_type": "N/A",
                        "free_cancellation": 1,
                        "unlimited_mileage": 1,
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "v_id": "372903916",
                        "doors": "4",
                        "group": "Economy",
                        "airbags": 1,
                        "aircon": 1,
                        "v_name": "Ford Fiesta  ",
                        "mileage": "Unlimited mileage",
                        "label": "Economy car with:",
                        "cma_compliant": -1,
                        "transmission": "Automatic"
                    },
                    "rating_info": {
                        "average_text": "Very good",
                        "dropoff_time": 8.9,
                        "value_for_money": 6.9,
                        "no_of_ratings": 2313,
                        "cleanliness": 7.5,
                        "efficiency": 6.7,
                        "average": 7.1,
                        "pickup_time": 5.7,
                        "condition": 7.8,
                        "location": 7
                    },
                    "accessibility": {
                        "transmission": "Automatic gearbox",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "supplier_rating": "At this location, our customers have rated Avis as 7.1 out of 10, Good.",
                        "pick_up_location": "Pick-up information: Shuttle Bus"
                    },
                    "supplier_info": {
                        "longitude": "-118.387048",
                        "pickup_instructions": "Exit the baggage claim area and wait outside under the purple 'Car Rental Tram Stop' sign for the Avis shuttle bus service.",
                        "location_type": "Shuttle Bus",
                        "latitude": "33.951903",
                        "may_require_credit_card_guarantee": false,
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                        "name": "Avis"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "supplier": {
                            "rating": {
                                "average": "7.1",
                                "title": "Good",
                                "subtitle": "2,313 reviews",
                                "localisedRating": {
                                    "rawValue": 7.1,
                                    "displayValue": "7.1"
                                }
                            },
                            "name": "Avis"
                        },
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT"
                            }
                        ]
                    }
                },
                {
                    "vehicle_id": "372903906",
                    "pricing_info": {
                        "quote_allowed": 1,
                        "base_currency": "INR",
                        "fee_breakdown": {
                            "fuel_policy": {
                                "amount": 0,
                                "type": "RETURN_SAME"
                            },
                            "known_fees": [
                                {
                                    "type": "DAMAGE_EXCESS",
                                    "currency": "USD",
                                    "amount": 0,
                                    "max_amount": 0,
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0
                                },
                                {
                                    "type": "DEPOSIT",
                                    "currency": "USD",
                                    "amount": 250,
                                    "max_amount": 250,
                                    "min_amount": 250,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1
                                },
                                {
                                    "is_tax_included": 1,
                                    "is_always_payable": 1,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "currency": "USD",
                                    "type": "ONE_WAY_FEE",
                                    "amount": 0
                                },
                                {
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "currency": "USD"
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "is_always_payable": 0,
                                    "type": "MILEAGE"
                                }
                            ]
                        },
                        "currency": "USD",
                        "deposit": 148.37,
                        "base_deposit": 12478.34,
                        "discount": 0,
                        "drive_away_price": 148.37,
                        "drive_away_price_is_approx": true,
                        "base_price": 12478.34,
                        "pay_when": "PAY_NOW",
                        "price": 148.37
                    },
                    "route_info": {
                        "pickup": {
                            "location_id": "1686946",
                            "location_hash": "TG9zIEFuZ2VsZXMgSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "name": "Los Angeles International Airport",
                            "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                            "latitude": "33.951903",
                            "longitude": "-118.387048",
                            "country_code": "US",
                            "location_type": "SHUTTLE_BUS"
                        },
                        "dropoff": {
                            "address": "2509, West Olive Avenue, Burbank, USA, 91505",
                            "latitude": "34.161091",
                            "location_type": "DOWNTOWN",
                            "longitude": "-118.330247",
                            "country_code": "US",
                            "location_id": "1703066",
                            "name": "Burbank - West Olive Avenue"
                        }
                    },
                    "vehicle_info": {
                        "fuel_type": "N/A",
                        "seats": "5",
                        "fuel_policy": "Like for like",
                        "doors": "2/4",
                        "group": "Intermediate",
                        "aircon": 1,
                        "airbags": 1,
                        "v_id": "372903906",
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "unlimited_mileage": 1,
                        "free_cancellation": 1,
                        "mileage": "Unlimited mileage",
                        "v_name": "Chevrolet Cruze  ",
                        "cma_compliant": -1,
                        "transmission": "Automatic",
                        "label": "Intermediate car with:"
                    },
                    "rating_info": {
                        "efficiency": 6.7,
                        "cleanliness": 7.5,
                        "no_of_ratings": 2313,
                        "average": 7.1,
                        "location": 7,
                        "pickup_time": 5.7,
                        "condition": 7.8,
                        "dropoff_time": 8.9,
                        "average_text": "Very good",
                        "value_for_money": 6.9
                    },
                    "accessibility": {
                        "pick_up_location": "Pick-up information: Shuttle Bus",
                        "supplier_rating": "At this location, our customers have rated Avis as 7.1 out of 10, Good.",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Automatic gearbox"
                    },
                    "supplier_info": {
                        "pickup_instructions": "Exit the baggage claim area and wait outside under the purple 'Car Rental Tram Stop' sign for the Avis shuttle bus service.",
                        "location_type": "Shuttle Bus",
                        "longitude": "-118.387048",
                        "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "may_require_credit_card_guarantee": false,
                        "latitude": "33.951903",
                        "name": "Avis"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "supplier": {
                            "name": "Avis",
                            "rating": {
                                "average": "7.1",
                                "title": "Good",
                                "localisedRating": {
                                    "displayValue": "7.1",
                                    "rawValue": 7.1
                                },
                                "subtitle": "2,313 reviews"
                            }
                        },
                        "badges": [
                            {
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT",
                                "text": "Free cancellation"
                            }
                        ]
                    }
                },
                {
                    "vehicle_id": "372903911",
                    "accessibility": {
                        "transmission": "Automatic gearbox",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "supplier_rating": "At this location, our customers have rated Avis as 7.1 out of 10, Good.",
                        "pick_up_location": "Pick-up information: Shuttle Bus"
                    },
                    "supplier_info": {
                        "name": "Avis",
                        "may_require_credit_card_guarantee": false,
                        "latitude": "33.951903",
                        "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "location_type": "Shuttle Bus",
                        "pickup_instructions": "Exit the baggage claim area and wait outside under the purple 'Car Rental Tram Stop' sign for the Avis shuttle bus service.",
                        "longitude": "-118.387048"
                    },
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT"
                            }
                        ],
                        "supplier": {
                            "name": "Avis",
                            "rating": {
                                "average": "7.1",
                                "title": "Good",
                                "subtitle": "2,313 reviews",
                                "localisedRating": {
                                    "rawValue": 7.1,
                                    "displayValue": "7.1"
                                }
                            }
                        }
                    },
                    "pricing_info": {
                        "deposit": 140.12,
                        "currency": "USD",
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "currency": "USD",
                                    "type": "DAMAGE_EXCESS",
                                    "amount": 0
                                },
                                {
                                    "min_amount": 250,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "max_amount": 250,
                                    "currency": "USD",
                                    "type": "DEPOSIT",
                                    "amount": 250
                                },
                                {
                                    "is_tax_included": 1,
                                    "is_always_payable": 1,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "currency": "USD",
                                    "type": "ONE_WAY_FEE"
                                },
                                {
                                    "amount": 0,
                                    "currency": "USD",
                                    "type": "THEFT_EXCESS",
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "max_amount": 0
                                },
                                {
                                    "is_always_payable": 0,
                                    "distance_allowed": {
                                        "is_km": 0,
                                        "is_unlimited": 1
                                    },
                                    "type": "MILEAGE"
                                }
                            ],
                            "fuel_policy": {
                                "amount": 0,
                                "type": "RETURN_SAME"
                            }
                        },
                        "base_currency": "INR",
                        "quote_allowed": 1,
                        "price": 140.12,
                        "pay_when": "PAY_NOW",
                        "drive_away_price": 140.12,
                        "base_price": 11785.1,
                        "drive_away_price_is_approx": true,
                        "discount": 0,
                        "base_deposit": 11785.1
                    },
                    "route_info": {
                        "pickup": {
                            "location_type": "SHUTTLE_BUS",
                            "longitude": "-118.387048",
                            "country_code": "US",
                            "latitude": "33.951903",
                            "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                            "name": "Los Angeles International Airport",
                            "location_hash": "TG9zIEFuZ2VsZXMgSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "1686946"
                        },
                        "dropoff": {
                            "name": "Burbank - West Olive Avenue",
                            "location_id": "1703066",
                            "longitude": "-118.330247",
                            "country_code": "US",
                            "location_type": "DOWNTOWN",
                            "address": "2509, West Olive Avenue, Burbank, USA, 91505",
                            "latitude": "34.161091"
                        }
                    },
                    "vehicle_info": {
                        "label": "Compact car with:",
                        "transmission": "Automatic",
                        "cma_compliant": -1,
                        "v_name": "Ford Focus  ",
                        "mileage": "Unlimited mileage",
                        "free_cancellation": 1,
                        "unlimited_mileage": 1,
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "v_id": "372903911",
                        "aircon": 1,
                        "airbags": 1,
                        "doors": "4",
                        "group": "Compact",
                        "seats": "5",
                        "fuel_policy": "Like for like",
                        "fuel_type": "N/A"
                    },
                    "rating_info": {
                        "pickup_time": 5.7,
                        "condition": 7.8,
                        "location": 7,
                        "average": 7.1,
                        "cleanliness": 7.5,
                        "no_of_ratings": 2313,
                        "efficiency": 6.7,
                        "value_for_money": 6.9,
                        "dropoff_time": 8.9,
                        "average_text": "Very good"
                    }
                },
                {
                    "vehicle_id": "372903921",
                    "accessibility": {
                        "transmission": "Automatic gearbox",
                        "pick_up_location": "Pick-up information: Shuttle Bus",
                        "supplier_rating": "At this location, our customers have rated Avis as 7.1 out of 10, Good.",
                        "fuel_policy": "Fuel policy is: Like for like"
                    },
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "supplier_info": {
                        "name": "Avis",
                        "may_require_credit_card_guarantee": false,
                        "latitude": "33.951903",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                        "longitude": "-118.387048",
                        "location_type": "Shuttle Bus",
                        "pickup_instructions": "Exit the baggage claim area and wait outside under the purple 'Car Rental Tram Stop' sign for the Avis shuttle bus service."
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "badges": [
                            {
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE",
                                "text": "Free cancellation"
                            }
                        ],
                        "supplier": {
                            "name": "Avis",
                            "rating": {
                                "average": "7.1",
                                "title": "Good",
                                "subtitle": "2,313 reviews",
                                "localisedRating": {
                                    "rawValue": 7.1,
                                    "displayValue": "7.1"
                                }
                            }
                        }
                    },
                    "pricing_info": {
                        "base_deposit": 16429.81,
                        "drive_away_price_is_approx": true,
                        "drive_away_price": 195.35,
                        "discount": 0,
                        "base_price": 16429.81,
                        "pay_when": "PAY_NOW",
                        "price": 195.35,
                        "quote_allowed": 1,
                        "base_currency": "INR",
                        "currency": "USD",
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "max_amount": 0,
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "min_amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "currency": "USD",
                                    "amount": 0
                                },
                                {
                                    "type": "DEPOSIT",
                                    "currency": "USD",
                                    "amount": 250,
                                    "max_amount": 250,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 250
                                },
                                {
                                    "max_amount": 0,
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "is_always_payable": 1,
                                    "amount": 0,
                                    "type": "ONE_WAY_FEE",
                                    "currency": "USD"
                                },
                                {
                                    "currency": "USD",
                                    "type": "THEFT_EXCESS",
                                    "amount": 0,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "max_amount": 0
                                },
                                {
                                    "type": "MILEAGE",
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "is_always_payable": 0
                                }
                            ],
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            }
                        },
                        "deposit": 195.35
                    },
                    "route_info": {
                        "pickup": {
                            "latitude": "33.951903",
                            "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                            "location_type": "SHUTTLE_BUS",
                            "longitude": "-118.387048",
                            "country_code": "US",
                            "location_hash": "TG9zIEFuZ2VsZXMgSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "1686946",
                            "name": "Los Angeles International Airport"
                        },
                        "dropoff": {
                            "name": "Burbank - West Olive Avenue",
                            "location_id": "1703066",
                            "location_type": "DOWNTOWN",
                            "longitude": "-118.330247",
                            "country_code": "US",
                            "latitude": "34.161091",
                            "address": "2509, West Olive Avenue, Burbank, USA, 91505"
                        }
                    },
                    "vehicle_info": {
                        "transmission": "Automatic",
                        "cma_compliant": -1,
                        "label": "Intermediate car with:",
                        "mileage": "Unlimited mileage",
                        "v_name": "Ford Escape  ",
                        "aircon": 1,
                        "airbags": 1,
                        "doors": "4",
                        "group": "Intermediate",
                        "v_id": "372903921",
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        },
                        "unlimited_mileage": 1,
                        "free_cancellation": 1,
                        "fuel_type": "N/A",
                        "seats": "5",
                        "fuel_policy": "Like for like"
                    },
                    "rating_info": {
                        "dropoff_time": 8.9,
                        "average_text": "Very good",
                        "value_for_money": 6.9,
                        "average": 7.1,
                        "no_of_ratings": 2313,
                        "cleanliness": 7.5,
                        "efficiency": 6.7,
                        "condition": 7.8,
                        "pickup_time": 5.7,
                        "location": 7
                    }
                },
                {
                    "vehicle_id": "372903901",
                    "accessibility": {
                        "fuel_policy": "Fuel policy is: Like for like",
                        "supplier_rating": "At this location, our customers have rated Avis as 7.1 out of 10, Good.",
                        "pick_up_location": "Pick-up information: Shuttle Bus",
                        "transmission": "Automatic gearbox"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "supplier_info": {
                        "name": "Avis",
                        "may_require_credit_card_guarantee": false,
                        "latitude": "33.951903",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                        "longitude": "-118.387048",
                        "location_type": "Shuttle Bus",
                        "pickup_instructions": "Exit the baggage claim area and wait outside under the purple 'Car Rental Tram Stop' sign for the Avis shuttle bus service."
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "supplier": {
                            "rating": {
                                "average": "7.1",
                                "title": "Good",
                                "subtitle": "2,313 reviews",
                                "localisedRating": {
                                    "displayValue": "7.1",
                                    "rawValue": 7.1
                                }
                            },
                            "name": "Avis"
                        },
                        "badges": [
                            {
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE",
                                "text": "Free cancellation"
                            }
                        ]
                    },
                    "pricing_info": {
                        "quote_allowed": 1,
                        "base_currency": "INR",
                        "currency": "USD",
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "min_amount": 0,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "currency": "USD",
                                    "type": "DAMAGE_EXCESS"
                                },
                                {
                                    "amount": 250,
                                    "type": "DEPOSIT",
                                    "currency": "USD",
                                    "max_amount": 250,
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 250
                                },
                                {
                                    "type": "ONE_WAY_FEE",
                                    "currency": "USD",
                                    "amount": 0,
                                    "max_amount": 0,
                                    "min_amount": 0,
                                    "is_always_payable": 1,
                                    "is_tax_included": 1
                                },
                                {
                                    "is_always_payable": 0,
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "currency": "USD"
                                },
                                {
                                    "type": "MILEAGE",
                                    "is_always_payable": 0,
                                    "distance_allowed": {
                                        "is_km": 0,
                                        "is_unlimited": 1
                                    }
                                }
                            ],
                            "fuel_policy": {
                                "amount": 0,
                                "type": "RETURN_SAME"
                            }
                        },
                        "deposit": 156.61,
                        "base_deposit": 13171.58,
                        "base_price": 13171.58,
                        "drive_away_price_is_approx": true,
                        "discount": 0,
                        "drive_away_price": 156.61,
                        "pay_when": "PAY_NOW",
                        "price": 156.61
                    },
                    "rating_info": {
                        "condition": 7.8,
                        "pickup_time": 5.7,
                        "location": 7,
                        "no_of_ratings": 2313,
                        "cleanliness": 7.5,
                        "efficiency": 6.7,
                        "average": 7.1,
                        "value_for_money": 6.9,
                        "average_text": "Very good",
                        "dropoff_time": 8.9
                    },
                    "vehicle_info": {
                        "free_cancellation": 1,
                        "unlimited_mileage": 1,
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        },
                        "v_id": "372903901",
                        "doors": "4",
                        "group": "Standard",
                        "aircon": 1,
                        "airbags": 1,
                        "seats": "5",
                        "fuel_policy": "Like for like",
                        "fuel_type": "N/A",
                        "label": "Standard car with:",
                        "cma_compliant": -1,
                        "transmission": "Automatic",
                        "v_name": "Buick Verano  ",
                        "mileage": "Unlimited mileage"
                    },
                    "route_info": {
                        "pickup": {
                            "country_code": "US",
                            "longitude": "-118.387048",
                            "location_type": "SHUTTLE_BUS",
                            "address": "9217, Airport Boulevard, Los Angeles, USA, 90045",
                            "latitude": "33.951903",
                            "name": "Los Angeles International Airport",
                            "location_id": "1686946",
                            "location_hash": "TG9zIEFuZ2VsZXMgSW50ZXJuYXRpb25hbCBBaXJwb3J0"
                        },
                        "dropoff": {
                            "location_type": "DOWNTOWN",
                            "country_code": "US",
                            "longitude": "-118.330247",
                            "address": "2509, West Olive Avenue, Burbank, USA, 91505",
                            "latitude": "34.161091",
                            "name": "Burbank - West Olive Avenue",
                            "location_id": "1703066"
                        }
                    }
                }
            ],
            "search_context": {
                "searchId": "5b6e3b82-d157-4cfe-b6e2-191ba44165bb",
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxMDowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjM0LjEzNTk2MzQzOTk0MTQsLTExOC4zNTM2OTg3MzA0NjkiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xNVQxMDowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiMzMuOTQ0MDk5NDI2MjY5NSwtMTE4LjQwMjAwMDQyNzI0NiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Miwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
                "recommendationsSearchUniqueId": "2c215d15-c8ca-4f7b-9ddb-c3882d54e483"
            },
            "sort": [
                {
                    "identifier": "recommended",
                    "name": "Recommended – best first",
                    "title_tag": "tr.searchresults.sortBy.recommended"
                },
                {
                    "identifier": "price_low_to_high",
                    "name": "Price - lowest first",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh"
                },
                {
                    "identifier": "review_score",
                    "name": "Review score - highest first",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow"
                }
            ],
            "is_genius_location": false,
            "type": "cars",
            "content": {
                "filters": {
                    "countLabel": "21 results"
                },
                "items": [
                    {
                        "type": "SHELL_REGION_VIEW",
                        "positionInList": 3,
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        }
                    }
                ]
            },
            "meta": {
                "response_code": 200
            },
            "filter": [
                {
                    "id": "depotLocationType",
                    "categories": [
                        {
                            "id": "depotLocationType::DOWNTOWN",
                            "nameWithCount": "All other locations (11)",
                            "count": 11,
                            "name": "All other locations"
                        },
                        {
                            "name": "Airport (shuttle)",
                            "count": 10,
                            "id": "depotLocationType::SHUTTLE_BUS",
                            "nameWithCount": "Airport (shuttle) (10)"
                        }
                    ],
                    "type": "multiple_union",
                    "title": "Location",
                    "layout": {
                        "is_collapsed": "false",
                        "layout_type": "list",
                        "collapsed_count": 2,
                        "is_collapsable": "false"
                    }
                },
                {
                    "id": "carCategory",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Small",
                            "count": 2,
                            "id": "carCategory::small",
                            "nameWithCount": "Small (2)"
                        },
                        {
                            "count": 6,
                            "name": "Medium",
                            "id": "carCategory::medium",
                            "nameWithCount": "Medium (6)"
                        },
                        {
                            "count": 15,
                            "name": "Large",
                            "id": "carCategory::large",
                            "nameWithCount": "Large (15)"
                        },
                        {
                            "id": "carCategory::premium",
                            "nameWithCount": "Premium (5)",
                            "name": "Premium",
                            "count": 5
                        },
                        {
                            "name": "People carriers",
                            "count": 2,
                            "id": "carCategory::carriers",
                            "nameWithCount": "People carriers (2)"
                        }
                    ],
                    "layout": {
                        "is_collapsable": "true",
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsed": "true"
                    },
                    "title": "Car Type"
                },
                {
                    "layout": {
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsable": "false",
                        "is_collapsed": "false"
                    },
                    "title": "Price per day",
                    "id": "pricePerDayBuckets",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "US$0 - US$50",
                            "count": 0,
                            "nameWithCount": "US$0 - US$50 (0)",
                            "id": "pricePerDayBuckets::BUCKET_1"
                        },
                        {
                            "name": "US$50 - US$100",
                            "count": 12,
                            "nameWithCount": "US$50 - US$100 (12)",
                            "id": "pricePerDayBuckets::BUCKET_2"
                        },
                        {
                            "nameWithCount": "US$100 - US$150 (9)",
                            "id": "pricePerDayBuckets::BUCKET_3",
                            "count": 9,
                            "name": "US$100 - US$150"
                        },
                        {
                            "count": 0,
                            "name": "US$150 - US$200",
                            "nameWithCount": "US$150 - US$200 (0)",
                            "id": "pricePerDayBuckets::BUCKET_4"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_5",
                            "nameWithCount": "US$200+ (0)",
                            "count": 0,
                            "name": "US$200+"
                        }
                    ]
                },
                {
                    "title": "Supplier",
                    "layout": {
                        "is_collapsed": "true",
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsable": "true"
                    },
                    "categories": [
                        {
                            "name": "Avis",
                            "count": 21,
                            "id": "supplier::Avis",
                            "nameWithCount": "Avis (21)"
                        }
                    ],
                    "type": "multiple_union",
                    "id": "supplier"
                },
                {
                    "id": "transmission",
                    "categories": [
                        {
                            "id": "transmission::AUTOMATIC",
                            "nameWithCount": "Automatic (21)",
                            "count": 21,
                            "name": "Automatic"
                        }
                    ],
                    "type": "multiple_union",
                    "title": "Transmission",
                    "layout": {
                        "is_collapsed": "true",
                        "is_collapsable": "true",
                        "layout_type": "list",
                        "collapsed_count": 5
                    }
                }
            ],
            "title": "Car rentals",
            "count": 21,
            "provider": "rentalcars",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxMDowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjM0LjEzNTk2MzQzOTk0MTQsLTExOC4zNTM2OTg3MzA0NjkiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xNVQxMDowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiMzMuOTQ0MDk5NDI2MjY5NSwtMTE4LjQwMjAwMDQyNzI0NiIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Miwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    }
]

2025-08-25 12:30:05,843 - evaluation_logger_Cross-367 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 概述

本文，我们来分享 [《精尽 Spring Boot 源码分析 —— SpringApplication》](http://svip.iocoder.cn/Spring-Boot/SpringApplication/) 的**初始化**的源码解析。

在 SpringApplication 实例对象创建完成后，我们会调用它的 `#run(String... args)` 方法，进行 Spring Boot 应用的启动。在这个过程中，会做很多很多的初始化的工作。本文，我们就来详细解析。

# 2. 构造方法

在 SpringApplication 实例对象创建时，会调用其构造方法，进行初始化。代码如下：

```java
// SpringApplication.java

/**
 * 资源加载器
 */
private ResourceLoader resourceLoader;
/**
 * 主要的 Java Config 类的数组
 */
private Set<Class<?>> primarySources;
/**
 * Web 应用类型
 */
private WebApplicationType webApplicationType;

public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources) {
	this.resourceLoader = resourceLoader;
	Assert.notNull(primarySources, "PrimarySources must not be null");
	this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));
	// <1> 判断 Web 应用的类型
	this.webApplicationType = WebApplicationType.deduceFromClasspath();
	// <2> 设置初始化器
	setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));
	// <3> 设置监听器
	setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
	// <4> 推断主类
	this.mainApplicationClass = deduceMainApplicationClass();
}
```

- `<1>` 处，调用 `WebApplicationType#deduceFromClasspath()` 方法，通过 classpath ，判断 Web 应用的类型。详细解析，见 [「2.1 WebApplicationType」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<2>` 处，设置初始化器（ApplicationContextInitializer）。详细解析，见 [「2.2 初始化器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<3>` 处，设置监听器（ApplicationListener）。详细解析，见 [「2.3 监听器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<4>` 处，推断主类。详细解析，见 [「2.4 推断主类」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

## 2.1 WebApplicationType

`org.springframework.boot.WebApplicationType` ，Web 应用类型枚举。代码如下：

```java
// WebApplicationType.java

public enum WebApplicationType {

	/**
	 * 非 Web 项目
	 */
	NONE,
	/**
	 * Servlet Web 项目
	 */
	SERVLET,
	/**
	 * Reactive Web 项目
	 */
	REACTIVE;

	private static final String[] SERVLET_INDICATOR_CLASSES = { "javax.servlet.Servlet",
			"org.springframework.web.context.ConfigurableWebApplicationContext" };

	private static final String WEBMVC_INDICATOR_CLASS = "org.springframework.web.servlet.DispatcherServlet";

	private static final String WEBFLUX_INDICATOR_CLASS = "org.springframework.web.reactive.DispatcherHandler";

	private static final String JERSEY_INDICATOR_CLASS = "org.glassfish.jersey.servlet.ServletContainer";

	private static final String SERVLET_APPLICATION_CONTEXT_CLASS = "org.springframework.web.context.WebApplicationContext";

	private static final String REACTIVE_APPLICATION_CONTEXT_CLASS = "org.springframework.boot.web.reactive.context.ReactiveWebApplicationContext";

	/**
	 * 通过 classpath ，判断 Web 应用的类型。
	 *
	 * @return 应用类型
	 */
	static WebApplicationType deduceFromClasspath() {
	    // 如果存在 REACTIVE 相关的类，则返回 REACTIVE 类型
		if (ClassUtils.isPresent(WEBFLUX_INDICATOR_CLASS, null) && ClassUtils.isPresent(REACTIVE_APPLICATION_CONTEXT_CLASS, null)) {
			return WebApplicationType.REACTIVE;
		}
		// 如果不存在 SERVLET 相关的类，则返回 NONE 类型
		for (String className : SERVLET_INDICATOR_CLASSES) {
			if (!ClassUtils.isPresent(className, null)) {
				return WebApplicationType.NONE;
			}
		}
		// 如果存在 SERVLET 相关的类，则返回 SERVLET 类型
		return WebApplicationType.SERVLET;
	}

}
```

- 通过 classpath 上存在的类，来判断 Web 应用的类型。
- 三种类型，胖友自己看注释哈。

## 2.2 初始化器

在 `<2>` 处，会设置初始化器（ApplicationContextInitializer）。ApplicationContextInitializer 是 Spring Framework 的接口，主要目的是，在 ConfigurableApplicationContext 调用 `#refresh()` 方法之前，回调该接口的实现类，对 ConfigurableApplicationContext 实例，做进一步的设置或者处理。

### 2.2.1 getSpringFactoriesInstances

在设置初始化器时，会调用 `#getSpringFactoriesInstances(Class<T> type)` 方法，获得对应的实现类的数组。代码如下：

```java
// SpringApplication.java

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type) {
	return getSpringFactoriesInstances(type, new Class<?>[] {});
}

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, Object... args) {
	ClassLoader classLoader = getClassLoader();
	// Use names and ensure unique to protect against duplicates
	// <1> 加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组
	Set<String> names = new LinkedHashSet<>(SpringFactoriesLoader.loadFactoryNames(type, classLoader));
	// <2> 创建对象
	List<T> instances = createSpringFactoriesInstances(type, parameterTypes, classLoader, args, names);
	// <3> 排序
	AnnotationAwareOrderComparator.sort(instances);
	return instances;
}
```

- `<1>` 处，调用 `SpringFactoriesLoader#loadFactoryNames(Class<?> factoryClass, ClassLoader classLoader)` 方法，加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组。

  > 在 Spring Boot 项目中，会引入 `spring-boot-autoconfigure` 依赖，其 `META-INF/spring.factories` 文件，会定义出大量的配置类。胖友可以打开这个文件看看。

- `<2>` 处，调用 `#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` 方法，创建对象。代码如下：

  ```java
  // SpringApplication.java
  
  private <T> List<T> createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes,
  		ClassLoader classLoader, Object[] args, Set<String> names) {
  	List<T> instances = new ArrayList<>(names.size());
  	for (String name : names) {
  		try {
  			Class<?> instanceClass = ClassUtils.forName(name, classLoader);
  			Assert.isAssignable(type, instanceClass);
  			Constructor<?> constructor = instanceClass.getDeclaredConstructor(parameterTypes);
  			T instance = (T) BeanUtils.instantiateClass(constructor, args);
  			instances.add(instance);
  		} catch (Throwable ex) {
  			throw new IllegalArgumentException("Cannot instantiate " + type + " : " + name, ex);
  		}
  	}
  	return instances;
  }
  ```

  - 通过反射，创建对象。

- `<3>` 处，调用 `AnnotationAwareOrderComparator#sort(List<?> list)` 方法，排序对象数组。

  - 关于 Order 的顺序，胖友可以看看 [《Spring Boot 关于 Order 排序》](https://www.jianshu.com/p/62d9c6b6c8f5) 文章。

### 2.2.2 setInitializers

在获得初始化器的数组后，会调用 `#setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers)` 方法，进行设置。代码如下：

```java
// SpringApplication.java

/**
 * 初始化器数组
 */
private List<ApplicationContextInitializer<?>> initializers;

public void setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers) {
	this.initializers = new ArrayList<>();
	this.initializers.addAll(initializers);
}
```

## 2.3 监听器

在 `<3>` 处，会设置监听器（ApplicationListener）。ApplicationListener 是 Spring Framework 的接口，用于监听 Spring 应用的事件。关于 Spring 的事件机制，可以看看 [《Spring 事件机制》](https://blog.csdn.net/zhoudaxia/article/details/39644041) 。

设置监听器的过程，和 [「2.2 初始化器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 基本一致，胖友自己瞅瞅。

## 2.4 推断主类

在 `<4>` 处，调用 `#deduceMainApplicationClass()` 方法，推断主类。代码如下：

```java
// SpringApplication.java

/**
 * 主类
 */
private Class<?> mainApplicationClass;

private Class<?> deduceMainApplicationClass() {
	try {
		// 获得当前 StackTraceElement 数组
		StackTraceElement[] stackTrace = new RuntimeException().getStackTrace();
		// 判断哪个执行 main 方法
		for (StackTraceElement stackTraceElement : stackTrace) {
			if ("main".equals(stackTraceElement.getMethodName())) {
				return Class.forName(stackTraceElement.getClassName());
			}
		}
	} catch (ClassNotFoundException ex) {
		// Swallow and continue
	}
	return null;
}
```

- 通过构造一个 RuntimeException 异常，通过异常堆栈，判断哪个类具有 `#main(String[] args)` 方法，从而推断主类。

# 3. run

`#run(String... args)` 方法，启动 Spring Boot 应用。代码如下：

```java
// SpringApplication.java

public ConfigurableApplicationContext run(String... args) {
    // <1> 创建 StopWatch 对象，用于统计 run 启动过程的时长
	StopWatch stopWatch = new StopWatch();
	stopWatch.start();
	// <2> 创建 ConfigurableApplicationContext 对象
	ConfigurableApplicationContext context = null;
	// <3> 配置 headless 属性
	configureHeadlessProperty();
	// <4> 获得 SpringApplicationRunListener 数组
	SpringApplicationRunListeners listeners = getRunListeners(args);
	// <5> 发布 ApplicationStartingEvent 事件
	listeners.starting();
	try {
	    // <6> 创建 ApplicationArguments 对象
		ApplicationArguments applicationArguments = new DefaultApplicationArguments(args);
		// <7> 加载属性配置
		ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments);
		// <8> 打印 Spring Banner
		Banner printedBanner = printBanner(environment);
		// <9> 创建 Spring 容器
		context = createApplicationContext();
		// <10> 设置 Spring 容器
		context.setEnvironment(environment);
		// <11> 执行 Spring 容器的初始化的后置处理
		postProcessApplicationContext(context);
		// <12> 执行 ApplicationContextInitializer
		applyInitializers(context);
		// <13> 发布 ApplicationContextInitializedEvent 事件
		listeners.contextPrepared(context);
		// <14> 向 Spring 容器中，注册启动参数
		context.getBeanFactory().registerSingleton("springApplicationArguments", applicationArguments);
		// <15> 打印 Spring Banner
		if (printedBanner != null) {
			context.getBeanFactory().registerSingleton("springBootBanner", printedBanner);
		}
		// <16> 加载资源
		load(context, sources.toArray(new Object[0]));
		// <17> 发布 ApplicationPreparedEvent 事件
		listeners.contextLoaded(context);
		// <18> 执行 Spring 容器的初始化
		refresh(context);
		// <19> 执行 Spring 容器的初始化的后置处理
		afterRefresh(context, applicationArguments);
		// <20> 发布 ApplicationStartedEvent 事件
		listeners.started(context);
		// <21> 调用 ApplicationRunner 或者 CommandLineRunner 的运行方法
		callRunners(context, applicationArguments);
	} catch (Throwable ex) {
	    // <22> 发布 ApplicationFailedEvent 事件
		listeners.failed(context, ex);
		throw new IllegalStateException(ex);
	}
	try {
	    // <23> 发布 ApplicationReadyEvent 事件
		listeners.running(context);
	} catch (Throwable ex) {
	    // <24> 若发生异常，则抛出 IllegalStateException 异常
		throw new IllegalStateException(ex);
	}
	// <25> 返回 Spring 容器
	return context;
}
```

- `<1>` 处，创建 StopWatch 对象，用于统计 run 启动过程的时长。

- `<2>` 处，创建 ConfigurableApplicationContext 对象，作为 Spring 容器。

- `<3>` 处，配置 headless 属性。这个逻辑，可以无视，和 AWT 相关。

- `<4>` 处，获得 SpringApplicationRunListener 数组，并封装到 SpringApplicationRunListeners 对象中。详细解析，见 [「3.1 getRunListeners」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<5>` 处，发布 ApplicationStartingEvent 事件。详细解析，见 [「3.2 listeners」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<6>` 处，创建 ApplicationArguments 对象。详细解析，见 [「3.3 ApplicationArguments」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<7>` 处，加载属性配置。详细解析，见 [「3.4 prepareEnvironment」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<8>` 处，打印 Spring Banner 。详细解析，见 [「3.5 printBanner」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<9>` 处，创建 Spring 容器。详细解析，见 [「3.6 createApplicationContext」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<10>` 处，设置 Spring 容器的 environment 属性。

- `<11>` 处，执行 Spring 容器的初始化的后置处理。详细解析，见 [「3.7 postProcessApplicationContext」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<12>` 处，执行 ApplicationContextInitializer 。详细解析，见 [「3.8 applyInitializers」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<13>` 处，发布 ApplicationContextInitializedEvent 事件。

- `<14>` 处，向 Spring 容器中，注册启动参数。

- `<15>` 处，打印 Spring Banner 。这里和 `<8>` 处，打印的是同一个 Banner 。通过将 Banner 注册成 Spring 容器中的单例，这样后续就可以使用它。

- `<16>` 处，加载资源。详细解析，见 [「3.9 load」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<17>` 处，发布 ApplicationPreparedEvent 事件。

- `<18>` 处，执行 Spring 容器的初始化。详细解析，见 [「3.10 refresh」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<19>` 处，执行 Spring 容器的初始化的后置处理。目前是个空方法，暂无任何实现。

- `<20>` 处，发布 ApplicationStartedEvent 事件。

- `<21>` 处，调用 ApplicationRunner 或者 CommandLineRunner 的运行方法。详细解析，见 [「3.11 callRunners」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

- `<22>` 处，发布 ApplicationFailedEvent 事件。

- `<23>` 处，发布 ApplicationReadyEvent 事件。

- `<24>` 处，若发生异常，则抛出 IllegalStateException 异常。

- `<25>` 处，返回 Spring 容器。

## 3.1 getRunListeners

`#getRunListeners(String[] args)` 方法，获得 SpringApplicationRunListener 数组。代码如下：

```java
// SpringApplication.java

private SpringApplicationRunListeners getRunListeners(String[] args) {
	Class<?>[] types = new Class<?>[] { SpringApplication.class, String[].class };
	return new SpringApplicationRunListeners(logger, getSpringFactoriesInstances(SpringApplicationRunListener.class, types, this, args));
}
```

- 通过 `#getSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, Object... args)` 方法，获得 SpringApplicationRunListener 类型的对象数组。
- 关于 SpringApplicationRunListener ，详细解析，见 [「3.2 listeners」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

## 3.2 listeners

在 Spring Boot 启动的过程中，会发布不同的**事件**，方便我们进行不同的启动初始化逻辑。

在 Spring Boot 中，事件的发布由 SpringApplicationRunListener 接口来完成。代码如下：

```java
// SpringApplicationRunListener.java

public interface SpringApplicationRunListener {

	/**
	 * Called immediately when the run method has first started. Can be used for very
	 * early initialization.
	 */
	void starting();

	/**
	 * Called once the environment has been prepared, but before the
	 * {@link ApplicationContext} has been created.
	 * @param environment the environment
	 */
	void environmentPrepared(ConfigurableEnvironment environment);

	/**
	 * Called once the {@link ApplicationContext} has been created and prepared, but
	 * before sources have been loaded.
	 * @param context the application context
	 */
	void contextPrepared(ConfigurableApplicationContext context);

	/**
	 * Called once the application context has been loaded but before it has been
	

2025-08-25 12:30:12,746 - evaluation_logger_Cross-367 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any of the requested information in the user's query about renting a car or visiting attractions in Los Angeles."}
2025-08-25 12:30:19,924 - evaluation_logger_Cross-367 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:30:19,924 - evaluation_logger_Cross-367 - INFO - Message: Success.
2025-08-25 12:30:19,924 - evaluation_logger_Cross-367 - INFO - Success turn num = 4
2025-08-25 12:30:19,924 - evaluation_logger_Cross-367 - INFO - ----------------------------------------------------------------------------------------------------
