2025-08-25 11:18:07,523 - evaluation_logger_Car-Rental-89 - INFO - Test Example Car-Rental-89
2025-08-25 11:18:07,523 - evaluation_logger_Car-Rental-89 - INFO - Query: I need to go on a business trip to Massachusetts, USA soon and want to rent a car at Billings Logan International Airport to get around the city easily. To decide the date for booking the flight ticket, could you check if there are any cars available for rent at 11 PM tomorrow (November 10th, 2024) or the day after tomorrow? I'll return the car at the same time and place on the 17th. Additionally, I want to know the user reviews of suppliers other than Budget.
2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Billings Logan International Airport"
        }
    }
]

2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Billings Logan International Airport"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "pick_up_date": "2024-11-10",
            "pick_up_time": "23:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "23:00"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "pick_up_date": "2024-11-11",
            "pick_up_time": "23:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "23:00"
        }
    }
]

2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Billings Logan International Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Billings Logan International Airport'}}
2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Rule-based compare success.
2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Billings Logan International Airport'}}]
2025-08-25 11:18:17,322 - evaluation_logger_Car-Rental-89 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "country": "United States",
                "type": "airport",
                "city": "Billings",
                "iata_code": "BIL",
                "name": "Billings Logan International Airport",
                "coordinates": {
                    "latitude": 45.8077011108398,
                    "longitude": -108.542999267578
                }
            }
        ]
    }
]

2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "pick_up_date": "2024-11-10",
            "pick_up_time": "23:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "23:00"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "pick_up_date": "2024-11-11",
            "pick_up_time": "23:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "23:00"
        }
    }
]

2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-11-17",
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "drop_off_time": "23:00",
            "pick_up_date": "2024-11-10",
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "pick_up_time": "23:00"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-11-17",
            "drop_off_latitude": 45.8077011108398,
            "drop_off_longitude": -108.542999267578,
            "drop_off_time": "23:00",
            "pick_up_date": "2024-11-11",
            "pick_up_latitude": 45.8077011108398,
            "pick_up_longitude": -108.542999267578,
            "pick_up_time": "23:00"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774140426",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774140451",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    }
]

2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}
2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Rule-based compare success.
2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-11', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-11', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}
2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Rule-based compare success.
2025-08-25 11:18:34,643 - evaluation_logger_Car-Rental-89 - INFO - Success matched: [{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}, {'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 45.8077011108398, 'drop_off_longitude': -108.542999267578, 'drop_off_time': '23:00', 'pick_up_date': '2024-11-11', 'pick_up_latitude': 45.8077011108398, 'pick_up_longitude': -108.542999267578, 'pick_up_time': '23:00'}}]
2025-08-25 11:18:34,644 - evaluation_logger_Car-Rental-89 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "filter": [
                {
                    "title": "Location",
                    "layout": {
                        "is_collapsed": "false",
                        "collapsed_count": 2,
                        "layout_type": "list",
                        "is_collapsable": "false"
                    },
                    "id": "depotLocationType",
                    "categories": [
                        {
                            "count": 11,
                            "name": "Airport (in terminal)",
                            "id": "depotLocationType::IN_TERMINAL",
                            "nameWithCount": "Airport (in terminal) (11)"
                        },
                        {
                            "name": "Airport (car rental centre)",
                            "count": 8,
                            "nameWithCount": "Airport (car rental centre) (8)",
                            "id": "depotLocationType::CAR_RENTAL_CENTRE"
                        }
                    ],
                    "type": "multiple_union"
                },
                {
                    "title": "Car Type",
                    "layout": {
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsed": "true",
                        "is_collapsable": "true"
                    },
                    "categories": [
                        {
                            "nameWithCount": "Small (2)",
                            "id": "carCategory::small",
                            "name": "Small",
                            "count": 2
                        },
                        {
                            "count": 6,
                            "name": "Medium",
                            "id": "carCategory::medium",
                            "nameWithCount": "Medium (6)"
                        },
                        {
                            "id": "carCategory::large",
                            "nameWithCount": "Large (13)",
                            "count": 13,
                            "name": "Large"
                        },
                        {
                            "nameWithCount": "Premium (1)",
                            "id": "carCategory::premium",
                            "name": "Premium",
                            "count": 1
                        },
                        {
                            "count": 2,
                            "name": "People carriers",
                            "id": "carCategory::carriers",
                            "nameWithCount": "People carriers (2)"
                        }
                    ],
                    "type": "multiple_union",
                    "id": "carCategory"
                },
                {
                    "title": "Price per day",
                    "layout": {
                        "is_collapsable": "false",
                        "is_collapsed": "false",
                        "collapsed_count": 5,
                        "layout_type": "list"
                    },
                    "id": "pricePerDayBuckets",
                    "categories": [
                        {
                            "name": "US$0 - US$50",
                            "count": 0,
                            "nameWithCount": "US$0 - US$50 (0)",
                            "id": "pricePerDayBuckets::BUCKET_1"
                        },
                        {
                            "name": "US$50 - US$100",
                            "count": 13,
                            "nameWithCount": "US$50 - US$100 (13)",
                            "id": "pricePerDayBuckets::BUCKET_2"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_3",
                            "nameWithCount": "US$100 - US$150 (6)",
                            "count": 6,
                            "name": "US$100 - US$150"
                        },
                        {
                            "name": "US$150 - US$200",
                            "count": 0,
                            "nameWithCount": "US$150 - US$200 (0)",
                            "id": "pricePerDayBuckets::BUCKET_4"
                        },
                        {
                            "count": 0,
                            "name": "US$200+",
                            "id": "pricePerDayBuckets::BUCKET_5",
                            "nameWithCount": "US$200+ (0)"
                        }
                    ],
                    "type": "multiple_union"
                },
                {
                    "id": "supplier",
                    "categories": [
                        {
                            "count": 8,
                            "name": "Avis",
                            "id": "supplier::Avis",
                            "nameWithCount": "Avis (8)"
                        },
                        {
                            "id": "supplier::Budget",
                            "nameWithCount": "Budget (11)",
                            "count": 11,
                            "name": "Budget"
                        }
                    ],
                    "type": "multiple_union",
                    "layout": {
                        "is_collapsable": "true",
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsed": "true"
                    },
                    "title": "Supplier"
                },
                {
                    "id": "transmission",
                    "categories": [
                        {
                            "count": 19,
                            "name": "Automatic",
                            "id": "transmission::AUTOMATIC",
                            "nameWithCount": "Automatic (19)"
                        }
                    ],
                    "type": "multiple_union",
                    "layout": {
                        "collapsed_count": 5,
                        "layout_type": "list",
                        "is_collapsed": "true",
                        "is_collapsable": "true"
                    },
                    "title": "Transmission"
                }
            ],
            "search_context": {
                "searchId": "b8fdd759-e067-47b4-b7d5-4e97901a69d3",
                "recommendationsSearchUniqueId": "cea7529d-cd07-4e72-8a86-ac8ce882e814",
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMFQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
            },
            "search_results": [
                {
                    "vehicle_id": "453407573",
                    "accessibility": {
                        "transmission": "Automatic gearbox",
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "fuel_policy": "Fuel policy is: Free Tank",
                        "pick_up_location": "Pick-up information: In Terminal"
                    },
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT"
                            }
                        ],
                        "supplier": {
                            "name": "Budget",
                            "rating": {
                                "average": "8.5",
                                "localisedRating": {
                                    "rawValue": 8.5,
                                    "displayValue": "8.5"
                                },
                                "subtitle": "14 reviews",
                                "title": "Very good"
                            }
                        }
                    },
                    "vehicle_info": {
                        "doors": "2/4",
                        "group": "Compact",
                        "v_name": "Ford Focus  ",
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "cma_compliant": -1,
                        "free_cancellation": 1,
                        "v_id": "453407573",
                        "unlimited_mileage": 1,
                        "seats": "5",
                        "fuel_type": "N/A",
                        "mileage": "Unlimited mileage",
                        "transmission": "Automatic",
                        "fuel_policy": "Free Tank",
                        "airbags": 1,
                        "label": "Compact car with:",
                        "aircon": 1,
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        }
                    },
                    "pricing_info": {
                        "base_currency": "INR",
                        "deposit": 546.07,
                        "price": 546.07,
                        "drive_away_price": 546.07,
                        "discount": 0,
                        "currency": "USD",
                        "base_price": 45927.21,
                        "drive_away_price_is_approx": true,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "amount": 0,
                                "type": "FREE_TANK"
                            },
                            "known_fees": [
                                {
                                    "amount": 0,
                                    "max_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "type": "THEFT_EXCESS",
                                    "min_amount": 0,
                                    "is_always_payable": 0
                                },
                                {
                                    "max_amount": 300,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "amount": 300,
                                    "is_always_payable": 0,
                                    "type": "DEPOSIT",
                                    "min_amount": 300
                                },
                                {
                                    "min_amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "max_amount": 0
                                },
                                {
                                    "is_always_payable": 0,
                                    "type": "MILEAGE",
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    }
                                }
                            ]
                        },
                        "base_deposit": 45927.21,
                        "quote_allowed": 1,
                        "pay_when": "PAY_NOW"
                    },
                    "route_info": {
                        "dropoff": {
                            "country_code": "US",
                            "longitude": "-108.535531",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "latitude": "45.803615",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport"
                        },
                        "pickup": {
                            "latitude": "45.803615",
                            "name": "Billings Logan International Airport",
                            "location_type": "IN_TERMINAL",
                            "location_id": "1767648",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "longitude": "-108.535531",
                            "country_code": "US",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0"
                        }
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "supplier_info": {
                        "may_require_credit_card_guarantee": false,
                        "location_type": "In Terminal",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "name": "Budget",
                        "latitude": "45.803615",
                        "longitude": "-108.535531",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "pickup_instructions": "-",
                        "dropoff_instructions": "-"
                    },
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "rating_info": {
                        "cleanliness": 9.3,
                        "dropoff_time": 10,
                        "average": 8.5,
                        "no_of_ratings": 14,
                        "efficiency": 7.4,
                        "average_text": "Excellent",
                        "location": 9.4,
                        "condition": 8.5,
                        "pickup_time": 6.7,
                        "value_for_money": 7.4
                    }
                },
                {
                    "vehicle_id": "453407583",
                    "supplier_info": {
                        "pickup_instructions": "-",
                        "longitude": "-108.535531",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "dropoff_instructions": "-",
                        "latitude": "45.803615",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "name": "Budget",
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "rating_info": {
                        "pickup_time": 6.7,
                        "average_text": "Excellent",
                        "location": 9.4,
                        "condition": 8.5,
                        "value_for_money": 7.4,
                        "average": 8.5,
                        "no_of_ratings": 14,
                        "cleanliness": 9.3,
                        "dropoff_time": 10,
                        "efficiency": 7.4
                    },
                    "accessibility": {
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "pick_up_location": "Pick-up information: In Terminal",
                        "fuel_policy": "Fuel policy is: Free Tank",
                        "transmission": "Automatic gearbox"
                    },
                    "content": {
                        "supplier": {
                            "rating": {
                                "title": "Very good",
                                "localisedRating": {
                                    "rawValue": 8.5,
                                    "displayValue": "8.5"
                                },
                                "subtitle": "14 reviews",
                                "average": "8.5"
                            },
                            "name": "Budget"
                        },
                        "badges": [
                            {
                                "type": "CONSTRUCTIVE",
                                "text": "Free cancellation",
                                "variation": "DEFAULT"
                            }
                        ]
                    },
                    "vehicle_info": {
                        "transmission": "Automatic",
                        "fuel_policy": "Free Tank",
                        "aircon": 1,
                        "airbags": 1,
                        "label": "Intermediate car with:",
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "group": "Intermediate",
                        "doors": "4",
                        "free_cancellation": 1,
                        "unlimited_mileage": 1,
                        "v_id": "453407583",
                        "cma_compliant": -1,
                        "v_name": "Ford Escape  ",
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "fuel_type": "N/A",
                        "seats": "5",
                        "mileage": "Unlimited mileage"
                    },
                    "pricing_info": {
                        "drive_away_price_is_approx": true,
                        "discount": 0,
                        "currency": "USD",
                        "base_price": 57538.99,
                        "base_deposit": 57538.99,
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "min_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "max_amount": 0
                                },
                                {
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "max_amount": 300,
                                    "amount": 300,
                                    "is_always_payable": 0,
                                    "min_amount": 300,
                                    "type": "DEPOSIT"
                                },
                                {
                                    "amount": 0,
                                    "max_amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "type": "DAMAGE_EXCESS",
                                    "min_amount": 0,
                                    "is_always_payable": 0
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "type": "MILEAGE",
                                    "is_always_payable": 0
                                }
                            ],
                            "fuel_policy": {
                                "amount": 0,
                                "type": "FREE_TANK"
                            }
                        },
                        "pay_when": "PAY_NOW",
                        "quote_allowed": 1,
                        "base_currency": "INR",
                        "deposit": 684.14,
                        "price": 684.14,
                        "drive_away_price": 684.14
                    },
                    "route_info": {
                        "pickup": {
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "country_code": "US"
                        },
                        "dropoff": {
                            "latitude": "45.803615",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport",
                            "country_code": "US",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0"
                        }
                    }
                },
                {
                    "vehicle_id": "453407578",
                    "vehicle_info": {
                        "group": "Economy",
                        "doors": "2/4",
                        "v_id": "453407578",
                        "free_cancellation": 1,
                        "unlimited_mileage": 1,
                        "cma_compliant": -1,
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "v_name": "Ford Fiesta  ",
                        "fuel_type": "N/A",
                        "seats": "4",
                        "mileage": "Unlimited mileage",
                        "transmission": "Automatic",
                        "fuel_policy": "Free Tank",
                        "airbags": 1,
                        "label": "Economy car with:",
                        "aircon": 1,
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        }
                    },
                    "route_info": {
                        "pickup": {
                            "longitude": "-108.535531",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_id": "1767648",
                            "country_code": "US",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "latitude": "45.803615",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport"
                        },
                        "dropoff": {
                            "latitude": "45.803615",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport",
                            "country_code": "US",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0"
                        }
                    },
                    "pricing_info": {
                        "drive_away_price_is_approx": true,
                        "base_price": 45060.66,
                        "currency": "USD",
                        "discount": 0,
                        "pay_when": "PAY_NOW",
                        "quote_allowed": 1,
                        "base_deposit": 45060.66,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "FREE_TANK",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "amount": 0,
                                    "max_amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "type": "THEFT_EXCESS",
                                    "min_amount": 0,
                                    "is_always_payable": 0
                                },
                                {
                                    "is_always_payable": 0,
                                    "type": "DEPOSIT",
                                    "min_amount": 300,
                                    "max_amount": 300,
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "amount": 300
                                },
                                {
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "max_amount": 0,
                                    "amount": 0,
                                    "is_always_payable": 0,
                                    "min_amount": 0,
                                    "type": "DAMAGE_EXCESS"
                                },
                                {
                                    "is_always_payable": 0,
                                    "type": "MILEAGE",
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    }
                                }
                            ]
                        },
                        "price": 535.77,
                        "deposit": 535.77,
                        "base_currency": "INR",
                        "drive_away_price": 535.77
                    },
                    "content": {
                        "supplier": {
                            "name": "Budget",
                            "rating": {
                                "subtitle": "14 reviews",
                                "localisedRating": {
                                    "displayValue": "8.5",
                                    "rawValue": 8.5
                                },
                                "title": "Very good",
                                "average": "8.5"
                            }
                        },
                        "badges": [
                            {
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE",
                                "text": "Free cancellation"
                            }
                        ]
                    },
                    "accessibility": {
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "pick_up_location": "Pick-up information: In Terminal",
                        "fuel_policy": "Fuel policy is: Free Tank",
                        "transmission": "Automatic gearbox"
                    },
                    "rating_info": {
                        "no_of_ratings": 14,
                        "average": 8.5,
                        "dropoff_time": 10,
                        "cleanliness": 9.3,
                        "efficiency": 7.4,
                        "location": 9.4,
                        "condition": 8.5,
                        "pickup_time": 6.7,
                        "average_text": "Excellent",
                        "value_for_money": 7.4
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "supplier_info": {
                        "dropoff_instructions": "-",
                        "pickup_instructions": "-",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "longitude": "-108.535531",
                        "latitude": "45.803615",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "name": "Budget",
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false
                    }
                },
                {
                    "vehicle_id": "453407543",
                    "pricing_info": {
                        "base_price": 64644.71,
                        "currency": "USD",
                        "discount": 0,
                        "drive_away_price_is_approx": true,
                        "quote_allowed": 1,
                        "pay_when": "PAY_NOW",
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "FREE_TANK",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "is_always_payable": 0,
                                    "min_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "max_amount": 0,
                                    "amount": 0
                                },
                                {
                                    "is_always_payable": 0,
                                    "min_amount": 300,
                                    "type": "DEPOSIT",
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "max_amount": 300,
                                    "amount": 300
                                },
                                {
                                    "amount": 0,
                                    "max_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "type": "DAMAGE_EXCESS",
                                    "min_amount": 0,
                                    "is_always_payable": 0
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "type": "MILEAGE",
                                    "is_always_payable": 0
                                }
                            ]
                        },
                        "base_deposit": 64644.71,
                        "price": 768.63,
                        "deposit": 768.63,
                        "base_currency": "INR",
                        "drive_away_price": 768.63
                    },
                    "route_info": {
                        "pickup": {
                            "location_id": "1767648",
                            "longitude": "-108.535531",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "country_code": "US",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "latitude": "45.803615",
                            "name": "Billings Logan International Airport",
                            "location_type": "IN_TERMINAL"
                        },
                        "dropoff": {
                            "latitude": "45.803615",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "country_code": "US",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0"
                        }
                    },
                    "vehicle_info": {
                        "mileage": "Unlimited mileage",
                        "fuel_type": "N/A",
                        "seats": "7",
                        "free_cancellation": 1,
                        "v_id": "453407543",
                        "unlimited_mileage": 1,
                        "cma_compliant": -1,
                        "v_name": "Dodge Grand Caravan ",
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "group": "Full-size",
                        "doors": "5",
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "airbags": 1,
                        "aircon": 1,
                        "label": "Full-size car with:",
                        "fuel_policy": "Free Tank",
                        "transmission": "Automatic"
                    },
                    "accessibility": {
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "fuel_policy": "Fuel policy is: Free Tank",
                        "pick_up_location": "Pick-up information: In Terminal",
                        "transmission": "Automatic gearbox"
                    },
                    "content": {
                        "supplier": {
                            "name": "Budget",
                            "rating": {
                                "average": "8.5",
                                "subtitle": "14 reviews",
                                "localisedRating": {
                                    "rawValue": 8.5,
                                    "displayValue": "8.5"
                                },
                                "title": "Very good"
                            }
                        },
                        "badges": [
                            {
                                "variation": "DEFAULT",
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE"
                            }
                        ]
                    },
                    "rating_info": {
                        "dropoff_time": 10,
                        "cleanliness": 9.3,
                        "no_of_ratings": 14,
                        "average": 8.5,
                        "efficiency": 7.4,
                        "location": 9.4,
                        "condition": 8.5,
                        "pickup_time": 6.7,
                        "average_text": "Excellent",
                        "value_for_money": 7.4
                    },
                    "supplier_info": {
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false,
                        "name": "Budget",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "latitude": "45.803615",
                        "dropoff_instructions": "-",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "longitude": "-108.535531",
                        "pickup_instructions": "-"
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    }
                }
            ],
            "is_genius_location": false,
            "meta": {
                "response_code": 200
            },
            "sort": [
                {
                    "identifier": "recommended",
                    "title_tag": "tr.searchresults.sortBy.recommended",
                    "name": "Recommended – best first"
                },
                {
                    "name": "Price - lowest first",
                    "identifier": "price_low_to_high",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh"
                },
                {
                    "identifier": "review_score",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow",
                    "name": "Review score - highest first"
                }
            ],
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMFQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Nywic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "provider": "rentalcars",
            "title": "Car rentals",
            "type": "cars",
            "content": {
                "items": [
                    {
                        "type": "SHELL_REGION_VIEW",
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        },
                        "positionInList": 3
                    }
                ],
                "filters": {
                    "countLabel": "19 results"
                }
            },
            "count": 19
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "title": "Car rentals",
            "search_context": {
                "searchId": "c2fc4357-1ef2-4391-a83e-c830e0bf75d7",
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
                "recommendationsSearchUniqueId": "5f76bd9a-1c28-4317-9652-91513ef04a28"
            },
            "search_results": [
                {
                    "vehicle_id": "774140426",
                    "vehicle_info": {
                        "cma_compliant": -1,
                        "seats": "7",
                        "fuel_policy": "Like for like",
                        "transmission": "Automatic",
                        "doors": "4",
                        "airbags": 1,
                        "v_id": "774140426",
                        "v_name": "Chrysler Town & Country",
                        "free_cancellation": 1,
                        "fuel_type": "N/A",
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        },
                        "label": "Full-size car with:",
                        "group": "Full-size",
                        "unlimited_mileage": 1,
                        "mileage": "Unlimited mileage",
                        "aircon": 1
                    },
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "route_info": {
                        "pickup": {
                            "latitude": "45.80377714",
                            "name": "Billings Logan International Airport",
                            "location_type": "CAR_RENTAL_CENTRE",
                            "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                            "country_code": "US",
                            "location_id": "4749000",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "longitude": "-108.537037"
                        },
                        "dropoff": {
                            "location_type": "CAR_RENTAL_CENTRE",
                            "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                            "latitude": "45.80377714",
                            "name": "Billings Logan International Airport",
                            "location_id": "4749000",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "longitude": "-108.537037",
                            "country_code": "US"
                        }
                    },
                    "rating_info": {
                        "condition": 0,
                        "efficiency": 0,
                        "pickup_time": 0,
                        "location": 0,
                        "cleanliness": 0,
                        "dropoff_time": 0,
                        "value_for_money": 0,
                        "average": 0,
                        "no_of_ratings": 0
                    },
                    "supplier_info": {
                        "longitude": "-108.537037",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                        "may_require_credit_card_guarantee": false,
                        "location_type": "Car Rental Centre",
                        "name": "Avis",
                        "latitude": "45.80377714"
                    },
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE"
                            }
                        ],
                        "supplier": {
                            "name": "Avis"
                        }
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "accessibility": {
                        "pick_up_location": "Pick-up information: Car Rental Centre",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Automatic gearbox",
                        "supplier_rating": "At this location, our customers have rated Avis as {rating_number} out of 10, {rating_name}."
                    },
                    "pricing_info": {
                        "deposit": 742.87,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "min_amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "max_amount": 0
                                },
                                {
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "min_amount": 250,
                                    "amount": 250,
                                    "max_amount": 250,
                                    "type": "DEPOSIT",
                                    "is_always_payable": 0
                                },
                                {
                                    "amount": 0,
                                    "max_amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "is_always_payable": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "min_amount": 0
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "is_always_payable": 0,
                                    "type": "MILEAGE"
                                }
                            ]
                        },
                        "currency": "USD",
                        "price": 742.87,
                        "discount": 0,
                        "quote_allowed": 1,
                        "drive_away_price_is_approx": true,
                        "pay_when": "PAY_NOW",
                        "base_price": 62478.34,
                        "base_deposit": 62478.34,
                        "base_currency": "INR",
                        "drive_away_price": 742.87
                    }
                },
                {
                    "vehicle_id": "453407573",
                    "route_info": {
                        "pickup": {
                            "country_code": "US",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_type": "IN_TERMINAL"
                        },
                        "dropoff": {
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "country_code": "US",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_type": "IN_TERMINAL",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615"
                        }
                    },
                    "vehicle_info": {
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "label": "Compact car with:",
                        "fuel_type": "N/A",
                        "v_name": "Ford Focus  ",
                        "free_cancellation": 1,
                        "mileage": "Unlimited mileage",
                        "aircon": 1,
                        "group": "Compact",
                        "unlimited_mileage": 1,
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "cma_compliant": -1,
                        "fuel_policy": "Free Tank",
                        "seats": "5",
                        "doors": "2/4",
                        "v_id": "453407573",
                        "airbags": 1,
                        "transmission": "Automatic"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "rating_info": {
                        "cleanliness": 9.3,
                        "dropoff_time": 10,
                        "value_for_money": 7.4,
                        "average": 8.5,
                        "no_of_ratings": 14,
                        "condition": 8.5,
                        "average_text": "Excellent",
                        "pickup_time": 6.7,
                        "efficiency": 7.4,
                        "location": 9.4
                    },
                    "content": {
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE"
                            }
                        ],
                        "supplier": {
                            "name": "Budget",
                            "rating": {
                                "subtitle": "14 reviews",
                                "title": "Very good",
                                "average": "8.5",
                                "localisedRating": {
                                    "displayValue": "8.5",
                                    "rawValue": 8.5
                                }
                            }
                        }
                    },
                    "supplier_info": {
                        "name": "Budget",
                        "dropoff_instructions": "-",
                        "latitude": "45.803615",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false,
                        "pickup_instructions": "-",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "longitude": "-108.535531"
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "pricing_info": {
                        "deposit": 546.07,
                        "discount": 0,
                        "currency": "USD",
                        "price": 546.07,
                        "fee_breakdown": {
                            "known_fees": [
                                {
                                    "is_always_payable": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD"
                                },
                                {
                                    "min_amount": 300,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "is_always_payable": 0,
                                    "type": "DEPOSIT",
                                    "amount": 300,
                                    "max_amount": 300
                                },
                                {
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "max_amount": 0
                                },
                                {
                                    "type": "MILEAGE",
                                    "is_always_payable": 0,
                                    "distance_allowed": {
                                        "is_km": 0,
                                        "is_unlimited": 1
                                    }
                                }
                            ],
                            "fuel_policy": {
                                "type": "FREE_TANK",
                                "amount": 0
                            }
                        },
                        "drive_away_price_is_approx": true,
                        "quote_allowed": 1,
                        "pay_when": "PAY_NOW",
                        "base_price": 45927.21,
                        "base_deposit": 45927.21,
                        "drive_away_price": 546.07,
                        "base_currency": "INR"
                    },
                    "accessibility": {
                        "pick_up_location": "Pick-up information: In Terminal",
                        "transmission": "Automatic gearbox",
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "fuel_policy": "Fuel policy is: Free Tank"
                    }
                },
                {
                    "vehicle_id": "453407583",
                    "fee_info": {
                        "fee": 0,
                        "tax": 0
                    },
                    "vehicle_info": {
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "fuel_policy": "Free Tank",
                        "seats": "5",
                        "cma_compliant": -1,
                        "v_id": "453407583",
                        "airbags": 1,
                        "doors": "4",
                        "transmission": "Automatic",
                        "label": "Intermediate car with:",
                        "suitcases": {
                            "big": "0",
                            "small": "0"
                        },
                        "fuel_type": "N/A",
                        "free_cancellation": 1,
                        "v_name": "Ford Escape  ",
                        "aircon": 1,
                        "mileage": "Unlimited mileage",
                        "unlimited_mileage": 1,
                        "group": "Intermediate"
                    },
                    "route_info": {
                        "pickup": {
                            "country_code": "US",
                            "longitude": "-108.535531",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "1767648",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_type": "IN_TERMINAL"
                        },
                        "dropoff": {
                            "country_code": "US",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "1767648",
                            "longitude": "-108.535531",
                            "latitude": "45.803615",
                            "name": "Billings Logan International Airport",
                            "location_type": "IN_TERMINAL",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105"
                        }
                    },
                    "rating_info": {
                        "location": 9.4,
                        "condition": 8.5,
                        "average_text": "Excellent",
                        "pickup_time": 6.7,
                        "efficiency": 7.4,
                        "average": 8.5,
                        "value_for_money": 7.4,
                        "no_of_ratings": 14,
                        "cleanliness": 9.3,
                        "dropoff_time": 10
                    },
                    "supplier_info": {
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "longitude": "-108.535531",
                        "pickup_instructions": "-",
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false,
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                        "latitude": "45.803615",
                        "dropoff_instructions": "-",
                        "name": "Budget"
                    },
                    "content": {
                        "supplier": {
                            "rating": {
                                "average": "8.5",
                                "localisedRating": {
                                    "rawValue": 8.5,
                                    "displayValue": "8.5"
                                },
                                "subtitle": "14 reviews",
                                "title": "Very good"
                            },
                            "name": "Budget"
                        },
                        "badges": [
                            {
                                "variation": "DEFAULT",
                                "text": "Free cancellation",
                                "type": "CONSTRUCTIVE"
                            }
                        ]
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "accessibility": {
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "transmission": "Automatic gearbox",
                        "fuel_policy": "Fuel policy is: Free Tank",
                        "pick_up_location": "Pick-up information: In Terminal"
                    },
                    "pricing_info": {
                        "base_deposit": 57538.99,
                        "drive_away_price": 684.14,
                        "base_currency": "INR",
                        "pay_when": "PAY_NOW",
                        "base_price": 57538.99,
                        "currency": "USD",
                        "discount": 0,
                        "price": 684.14,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "amount": 0,
                                "type": "FREE_TANK"
                            },
                            "known_fees": [
                                {
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "min_amount": 0,
                                    "amount": 0,
                                    "max_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "is_always_payable": 0
                                },
                                {
                                    "min_amount": 300,
                                    "is_tax_included": 1,
                                    "currency": "USD",
                                    "amount": 300,
                                    "type": "DEPOSIT",
                                    "max_amount": 300,
                                    "is_always_payable": 0
                                },
                                {
                                    "type": "DAMAGE_EXCESS",
                                    "amount": 0,
                                    "max_amount": 0,
                                    "is_always_payable": 0,
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD"
                                },
                                {
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    },
                                    "type": "MILEAGE",
                                    "is_always_payable": 0
                                }
                            ]
                        },
                        "drive_away_price_is_approx": true,
                        "quote_allowed": 1,
                        "deposit": 684.14
                    }
                },
                {
                    "vehicle_id": "453407578",
                    "rating_info": {
                        "efficiency": 7.4,
                        "pickup_time": 6.7,
                        "average_text": "Excellent",
                        "condition": 8.5,
                        "location": 9.4,
                        "dropoff_time": 10,
                        "cleanliness": 9.3,
                        "no_of_ratings": 14,
                        "average": 8.5,
                        "value_for_money": 7.4
                    },
                    "content": {
                        "badges": [
                            {
                                "type": "CONSTRUCTIVE",
                                "text": "Free cancellation",
                                "variation": "DEFAULT"
                            }
                        ],
                        "supplier": {
                            "name": "Budget",
                            "rating": {
                                "subtitle": "14 reviews",
                                "title": "Very good",
                                "average": "8.5",
                                "localisedRating": {
                                    "displayValue": "8.5",
                                    "rawValue": 8.5
                                }
                            }
                        }
                    },
                    "supplier_info": {
                        "pickup_instructions": "-",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/62_logo_200.png",
                        "longitude": "-108.535531",
                        "latitude": "45.803615",
                        "dropoff_instructions": "-",
                        "name": "Budget",
                        "may_require_credit_card_guarantee": false,
                        "location_type": "In Terminal",
                        "address": "1901, Terminal Circle, Billings, MT, USA, 59105"
                    },
                    "route_info": {
                        "pickup": {
                            "country_code": "US",
                            "longitude": "-108.535531",
                            "location_id": "1767648",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_type": "IN_TERMINAL"
                        },
                        "dropoff": {
                            "country_code": "US",
                            "longitude": "-108.535531",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "1767648",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.803615",
                            "address": "1901, Terminal Circle, Billings, MT, USA, 59105",
                            "location_type": "IN_TERMINAL"
                        }
                    },
                    "vehicle_info": {
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "label": "Economy car with:",
                        "v_name": "Ford Fiesta  ",
                        "free_cancellation": 1,
                        "fuel_type": "N/A",
                        "mileage": "Unlimited mileage",
                        "aircon": 1,
                        "group": "Economy",
                        "unlimited_mileage": 1,
                        "special_offer_text": "Premium Package: price includes 1 additional driver and the first tank of fuel free",
                        "cma_compliant": -1,
                        "seats": "4",
                        "fuel_policy": "Free Tank",
                        "doors": "2/4",
                        "airbags": 1,
                        "v_id": "453407578",
                        "transmission": "Automatic"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "pricing_info": {
                        "fee_breakdown": {
                            "fuel_policy": {
                                "amount": 0,
                                "type": "FREE_TANK"
                            },
                            "known_fees": [
                                {
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "max_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "min_amount": 0,
                                    "is_tax_included": 1,
                                    "currency": "USD"
                                },
                                {
                                    "min_amount": 300,
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "amount": 300,
                                    "max_amount": 300,
                                    "type": "DEPOSIT",
                                    "is_always_payable": 0
                                },
                                {
                                    "is_always_payable": 0,
                                    "max_amount": 0,
                                    "amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "min_amount": 0,
                                    "currency": "USD",
                                    "is_tax_included": 1
                                },
                                {
                                    "is_always_payable": 0,
                                    "type": "MILEAGE",
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    }
                                }
                            ]
                        },
                        "currency": "USD",
                        "price": 535.77,
                        "discount": 0,
                        "quote_allowed": 1,
                        "drive_away_price_is_approx": true,
                        "deposit": 535.77,
                        "base_deposit": 45060.66,
                        "base_currency": "INR",
                        "drive_away_price": 535.77,
                        "pay_when": "PAY_NOW",
                        "base_price": 45060.66
                    },
                    "accessibility": {
                        "pick_up_location": "Pick-up information: In Terminal",
                        "supplier_rating": "At this location, our customers have rated Budget as 8.5 out of 10, Very good.",
                        "transmission": "Automatic gearbox",
                        "fuel_policy": "Fuel policy is: Free Tank"
                    },
                    "freebies": [
                        "Amendments"
                    ]
                },
                {
                    "vehicle_id": "774140451",
                    "supplier_info": {
                        "location_type": "Car Rental Centre",
                        "may_require_credit_card_guarantee": false,
                        "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                        "latitude": "45.80377714",
                        "name": "Avis",
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/47_logo_200.png",
                        "longitude": "-108.537037"
                    },
                    "content": {
                        "supplier": {
                            "name": "Avis"
                        },
                        "badges": [
                            {
                                "text": "Free cancellation",
                                "variation": "DEFAULT",
                                "type": "CONSTRUCTIVE"
                            }
                        ]
                    },
                    "rating_info": {
                        "dropoff_time": 0,
                        "cleanliness": 0,
                        "no_of_ratings": 0,
                        "value_for_money": 0,
                        "average": 0,
                        "efficiency": 0,
                        "pickup_time": 0,
                        "condition": 0,
                        "location": 0
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "vehicle_info": {
                        "fuel_type": "N/A",
                        "v_name": "Ford Fusion  ",
                        "free_cancellation": 1,
                        "label": "Full-size car with:",
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "unlimited_mileage": 1,
                        "group": "Full-size",
                        "aircon": 1,
                        "mileage": "Unlimited mileage",
                        "fuel_policy": "Like for like",
                        "seats": "5",
                        "cma_compliant": -1,
                        "transmission": "Automatic",
                        "v_id": "774140451",
                        "airbags": 1,
                        "doors": "4"
                    },
                    "route_info": {
                        "dropoff": {
                            "longitude": "-108.537037",
                            "location_id": "4749000",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "country_code": "US",
                            "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                            "location_type": "CAR_RENTAL_CENTRE",
                            "name": "Billings Logan International Airport",
                            "latitude": "45.80377714"
                        },
                        "pickup": {
                            "location_type": "CAR_RENTAL_CENTRE",
                            "address": "Billings Logan Intl Airport, 1901 Terminal Circle, Billings (BIL), USA - Other, 59105",
                            "latitude": "45.80377714",
                            "name": "Billings Logan International Airport",
                            "location_hash": "QmlsbGluZ3MgTG9nYW4gSW50ZXJuYXRpb25hbCBBaXJwb3J0",
                            "location_id": "4749000",
                            "longitude": "-108.537037",
                            "country_code": "US"
                        }
                    },
                    "accessibility": {
                        "pick_up_location": "Pick-up information: Car Rental Centre",
                        "fuel_policy": "Fuel policy is: Like for like",
                        "supplier_rating": "At this location, our customers have rated Avis as {rating_number} out of 10, {rating_name}.",
                        "transmission": "Automatic gearbox"
                    },
                    "pricing_info": {
                        "deposit": 586.26,
                        "price": 586.26,
                        "currency": "USD",
                        "discount": 0,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "max_amount": 0,
                                    "type": "THEFT_EXCESS",
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "min_amount": 0
                                },
                                {
                                    "amount": 250,
                                    "type": "DEPOSIT",
                                    "max_amount": 250,
                                    "is_always_payable": 0,
                                    "min_amount": 250,
                                    "is_tax_included": 1,
                                    "currency": "USD"
                                },
                                {
                                    "is_always_payable": 0,
                                    "amount": 0,
                                    "max_amount": 0,
                                    "type": "DAMAGE_EXCESS",
                                    "currency": "USD",
                                    "is_tax_included": 1,
                                    "min_amount": 0
                                },
                                {
                                    "type": "MILEAGE",
                                    "is_always_payable": 0,
                                    "distance_allowed": {
                                        "is_unlimited": 1,
                                        "is_km": 0
                                    }
                                }
                            ]
                        },
                        "drive_away_price_is_approx": true,
                        "quote_allowed": 1,
                        "pay_when": "PAY_NOW",
                        "base_price": 49306.76,
                        "base_deposit": 49306.76,
                        "drive_away_price": 586.26,
                        "base_currency": "INR"
                    },
                    "freebies": [
                        "Amendments"
                    ]
                }
            ],
            "meta": {
                "response_code": 200
            },
            "provider": "rentalcars",
            "type": "cars",
            "sort": [
                {
                    "title_tag": "tr.searchresults.sortBy.recommended",
                    "name": "Recommended – best first",
                    "identifier": "recommended"
                },
                {
                    "name": "Price - lowest first",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh",
                    "identifier": "price_low_to_high"
                },
                {
                    "name": "Review score - highest first",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow",
                    "identifier": "review_score"
                }
            ],
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "count": 19,
            "content": {
                "filters": {
                    "countLabel": "19 results"
                },
                "items": [
                    {
                        "positionInList": 3,
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        },
                        "type": "SHELL_REGION_VIEW"
                    }
                ]
            },
            "is_genius_location": false,
            "filter": [
                {
                    "layout": {
                        "layout_type": "list",
                        "is_collapsed": "false",
                        "collapsed_count": 2,
                        "is_collapsable": "false"
                    },
                    "categories": [
                        {
                            "count": 11,
                            "name": "Airport (in terminal)",
                            "nameWithCount": "Airport (in terminal) (11)",
                            "id": "depotLocationType::IN_TERMINAL"
                        },
                        {
                            "id": "depotLocationType::CAR_RENTAL_CENTRE",
                            "nameWithCount": "Airport (car rental centre) (8)",
                            "name": "Airport (car rental centre)",
                            "count": 8
                        }
                    ],
                    "type": "multiple_union",
                    "id": "depotLocationType",
                    "title": "Location"
                },
                {
                    "type": "multiple_union",
                    "categories": [
                        {
                            "count": 2,
                            "name": "Small",
                            "nameWithCount": "Small (2)",
                            "id": "carCategory::small"
                        },
                        {
                            "id": "carCategory::medium",
                            "count": 6,
                            "nameWithCount": "Medium (6)",
                            "name": "Medium"
                        },
                        {
                            "id": "carCategory::large",
                            "name": "Large",
                            "nameWithCount": "Large (13)",
                            "count": 13
                        },
                        {
                            "id": "carCategory::premium",
                            "nameWithCount": "Premium (1)",
                            "name": "Premium",
                            "count": 1
                        },
                        {
                            "count": 2,
                            "nameWithCount": "People carriers (2)",
                            "name": "People carriers",
                            "id": "carCategory::carriers"
                        }
                    ],
                    "layout": {
                        "layout_type": "list",
                        "is_collapsed": "true",
                        "is_collapsable": "true",
                        "collapsed_count": 5
                    },
                    "id": "carCategory",
                    "title": "Car Type"
                },
                {
                    "title": "Price per day",
                    "id": "pricePerDayBuckets",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "id": "pricePerDayBuckets::BUCKET_1",
                            "nameWithCount": "US$0 - US$50 (0)",
                            "name": "US$0 - US$50",
                            "count": 0
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_2",
                            "count": 9,
                            "name": "US$50 - US$100",
                            "nameWithCount": "US$50 - US$100 (9)"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_3",
                            "nameWithCount": "US$100 - US$150 (8)",
                            "name": "US$100 - US$150",
                            "count": 8
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_4",
                            "count": 2,
                            "nameWithCount": "US$150 - US$200 (2)",
                            "name": "US$150 - US$200"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_5",
                            "count": 0,
                            "name": "US$200+",
                            "nameWithCount": "US$200+ (0)"
                        }
                    ],
                    "layout": {
                        "layout_type": "list",
                        "is_collapsed": "false",
                        "collapsed_count": 5,
                        "is_collapsable": "false"
                    }
                },
                {
                    "categories": [
                        {
                            "id": "supplier::Avis",
                            "count": 8,
                            "name": "Avis",
                            "nameWithCount": "Avis (8)"
                        },
                        {
                            "id": "supplier::Budget",
                            "name": "Budget",
                            "nameWithCount": "Budget (11)",
                            "count": 11
                        }
                    ],
                    "layout": {
                        "is_collapsed": "true",
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsable": "true"
                    },
                    "type": "multiple_union",
                    "id": "supplier",
                    "title": "Supplier"
                },
                {
                    "id": "transmission",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "id": "transmission::AUTOMATIC",
                            "count": 19,
                            "name": "Automatic",
                            "nameWithCount": "Automatic (19)"
                        }
                    ],
                    "layout": {
                        "is_collapsed": "true",
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsable": "true"
                    },
                    "title": "Transmission"
                }
            ]
        }
    }
]

2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Function Calls: 
[
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774140426",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "774140451",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0="
        }
    }
]

2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Golden Function Call: 
[
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "vehicle_id": "774140426"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=",
            "vehicle_id": "774140451"
        }
    }
]

2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140426'}}
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140426'}}
2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Rule-based compare success.
2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140451'}}
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140451'}}
2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Rule-based compare success.
2025-08-25 11:19:17,867 - evaluation_logger_Car-Rental-89 - INFO - Success matched: [{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140426'}}, {'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QyMzowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ1LjgwNzcwMTExMDgzOTgsLTEwOC41NDI5OTkyNjc1NzgiLCJkcm9wT2ZmTG9jYXRpb25UeXBlIjoiTEFUTE9ORyIsInBpY2tVcERhdGVUaW1lIjoiMjAyNC0xMS0xMVQyMzowMDowMCIsInBpY2tVcExvY2F0aW9uIjoiNDUuODA3NzAxMTEwODM5OCwtMTA4LjU0Mjk5OTI2NzU3OCIsInBpY2tVcExvY2F0aW9uVHlwZSI6IkxBVExPTkciLCJyZW50YWxEdXJhdGlvbkluRGF5cyI6Niwic2VydmljZUZlYXR1cmVzIjpbIk5PX09QQVFVRVMiLCJTVVBSRVNTX0ZJWEVEX1BSSUNFX1ZFSElDTEVTIiwiSU5DTFVERV9QUk9EVUNUX1JFTEFUSU9OU0hJUFMiLCJJTkNMVURFX0VYVFJBU19DT05UQUlOSU5HX0ZFRVMiXX0=', 'vehicle_id': '774140451'}}]
2025-08-25 11:19:17,868 - evaluation_logger_Car-Rental-89 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "customerReviews": {
                "title": "Customer reviews",
                "noReviews": {
                    "body": "We don't have any reviews for this rental counter yet.",
                    "title": "No customer reviews yet"
                }
            },
            "supplier": {
                "name": "Avis",
                "title": "Rental company"
            }
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "customerReviews": {
                "title": "Customer reviews",
                "noReviews": {
                    "title": "No customer reviews yet",
                    "body": "We don't have any reviews for this rental counter yet."
                }
            },
            "supplier": {
                "title": "Rental company",
                "name": "Avis"
            }
        }
    }
]

2025-08-25 11:22:16,824 - evaluation_logger_Car-Rental-89 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 概述

## 1.1 什么是Spring

Spring是一个开源框架，它由[Rod Johnson](https://baike.baidu.com/item/Rod Johnson)创建。它是为了解决企业应用开发的复杂性而创建的。

Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。

然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和松耦合的角度而言，任何Java应用都可以从Spring中受益。

**目的：**解决企业应用开发的复杂性

**功能：**使用基本的JavaBean代替EJB，并提供了更多的企业应用功能

**范围：**任何Java应用

简单来说，Spring是一个轻量级的控制反转(IoC)和面向切面(AOP)的容器框架。

## 1.2 Spring框架的特点

- **轻量**——从大小与开销两方面而言Spring都是轻量的。完整的Spring框架可以在一个大小只有1MB多的JAR文件里发布。并且Spring所需的处理开销也是微不足道的。此外，Spring是非侵入式的：典型地，Spring应用中的对象不依赖于Spring的特定类。
- **控制反转**——Spring通过一种称作控制反转（IoC）的技术促进了松耦合。当应用了IoC，一个对象依赖的其它对象会通过被动的方式传递进来，而不是这个对象自己创建或者查找依赖对象。你可以认为IoC与JNDI相反——不是对象从容器中查找依赖，而是容器在对象初始化时不等对象请求就主动将依赖传递给它。
- **面向切面**——Spring提供了面向切面编程的丰富支持，允许通过分离应用的业务逻辑与系统级服务（例如审计（auditing）和事务（transaction）管理）进行内聚性的开发。应用对象只实现它们应该做的——完成业务逻辑——仅此而已。它们并不负责（甚至是意识）其它的系统级关注点，例如日志或事务支持。
- **容器**——Spring包含并管理应用对象的配置和生命周期，在这个意义上它是一种容器，你可以配置你的每个bean如何被创建——基于一个可配置原型（prototype），你的bean可以创建一个单独的实例或者每次需要时都生成一个新的实例——以及它们是如何相互关联的。然而，Spring不应该被混同于传统的重量级的EJB容器，它们经常是庞大与笨重的，难以使用。
- **框架**——Spring可以将简单的组件配置、组合成为复杂的应用。在Spring中，应用对象被声明式地组合，典型地是在一个XML文件里。Spring也提供了很多基础功能（事务管理、持久化框架集成等等），将应用逻辑的开发留给了你。

所有Spring的这些特征使你能够编写更干净、更可管理、并且更易于测试的代码。它们也为Spring中的各种模块提供了基础支持。

## 1.3 Spring的体系结构

Spring框架是一个分层架构，由7个定义良好的模块组成。Spring模块构建在核心容器之上，核心容器定义了创建、配置和管理bean的方式，如下图所示：

![Spring框架](https://gitee.com/krislin_zhao/IMGcloud/raw/master/img/20200602100000.png)

组成Spring框架的每个模块（或组件）都可以单独存在，或者与其他一个或多个模块联合实现。每个模块的功能如下：

- **核心容器**：核心容器提供Spring框架的基本功能。核心容器的主要组件是`BeanFactory`，它是工厂模式的实现。`BeanFactory`使用*控制反转*（IOC） 模式将应用程序的配置和依赖性规范与实际的应用程序代码分开。
- **Spring上下文**：Spring上下文是一个配置文件，向Spring框架提供上下文信息。Spring上下文包括企业服务，例如JNDI、EJB、电子邮件、国际化、校验和调度功能。
- **Spring AOP**：通过配置管理特性，Spring AOP 模块直接将面向方面的编程功能集成到了Spring框架中。所以，可以很容易地使Spring框架管理的任何对象支持AOP。Spring AOP 模块为基于Spring的应用程序中的对象提供了事务管理服务。通过使用Spring AOP，不用依赖EJB组件，就可以将声明性事务管理集成到应用程序中。
- **Spring DAO**：JDBC DAO 抽象层提供了有意义的异常层次结构，可用该结构来管理异常处理和不同数据库供应商抛出的错误消息。异常层次结构简化了错误处理，并且极大地降低了需要编写的异常代码数量（例如打开和关闭连接）。Spring DAO 的面向JDBC的异常遵从通用的DAO 异常层次结构。
- **Spring ORM**：Spring框架插入了若干个ORM框架，从而提供了ORM的对象关系工具，其中包括JDO、Hibernate和iBatis SQL Map。所有这些都遵从Spring的通用事务和DAO异常层次结构。
- **Spring Web模块**：Web上下文模块建立在应用程序上下文模块之上，为基于Web的应用程序提供了上下文。所以，Spring框架支持与Jakarta Struts的集成。Web模块还简化了处理多部分请求以及将请求参数绑定到域对象的工作。
- **Spring MVC框架**：MVC框架是一个全功能的构建Web应用程序的MVC实现。通过策略接口，MVC框架变成为高度可配置的，MVC容纳了大量视图技术，其中包括JSP、Velocity、Tiles、iText和POI。

# 2. 控制反转(IOC)

## 2.1 什么是控制反转

IOC(Inversion of Control)控制反转：所谓控制反转，就是把原先我们代码里面需要实现的对象创建、依赖的代码，反转给容器来帮忙实现。那么必然的我们需要创建一个容器，同时需要一种描述来让容器知道需要创建的对象与对象的关系。这个描述最具体表现就是我们所看到的配置文件。

## 2.2 为什么要用控制反转

在日常程序开发过程当中，我们推荐面向抽象编程，面向抽象编程会产生类的依赖，当然如果你够强大可以自己写一个管理的容器，但是既然Spring以及实现了，并且如此完美，我们仅仅需要学习Spring搭配它的IOC即可。

IOC最大的好处是什么？因为把对象生成放在了XML里定义，所以当我们需要换一个实现子类将会变成很简单（一般这样的对象都是现实于某种接口的），只要修改XML就可以了，这样我们甚至可以实现对象的热插拨。

## 2.3 IOC容器的初始化和依赖注入

Bean的初始化和依赖注入在Spring容器中是两个步骤，先初始化，再注入依赖（注意：依赖注入可能发生在初始化步骤中，因为初始化步骤可能调用setter方法，而setter方法可能依赖其他Bean，此时就会触发依赖注入）。初始化的第一步是实例化Bean，也就是调用构造方法。

Bean的初始化步骤：

1. 实例化Bean对象，这个时候Bean的对象属性都是默认值。
2. 按照Spring上下文对实例化的Bean对象进行配置，也就是IOC注入。
3. 如果这个Bean已经实现了`BeanNameAware`接口，会调用它实现的`setBeanName(String beanId)`方法，此处传递的是Spring配置文件中Bean的ID。
4. 如果这个Bean已经实现了`BeanFactoryAware`接口，会调用它实现的`setBeanFactory(BeanFactory beanFactory)`方法，传递的是Spring工厂本身（可以用这个方法获取到其他Bean）。
5. 如果这个Bean已经实现了`ApplicationContextAware`接口，会调用`setApplicationContext(ApplicationContext applicationContext)`方法，传入Spring上下文，该方式同样可以实现步骤4，但比步骤4更好，因为ApplicationContext是BeanFactory的子接口，有更多的实现方法。
6. 如果这个Bean关联了`BeanPostProcessor`接口，将会调用`postProcessBeforeInitialization(Object obj, String s)`方法，BeanPostProcessor经常被用作是Bean内容的更改，并且由于这个是在Bean初始化结束时调用After方法，也可用于内存或缓存技术。
7. 如果Bean在Spring配置文件中配置了`init-method`属性会自动调用其配置的初始化方法。
8. 如果这个Bean关联了`BeanPostProcessor`接口，将会调用`postAfterInitialization(Object obj, String s)`方法。
9. 当Bean不再需要时，会经过清理阶段，如果Bean实现了`DisposableBean`接口，会调用其实现的`destroy`方法。
10. 最后，如果这个Bean的Spring配置中配置了`destroy-method`属性，会自动调用其配置的销毁方法。

## 2.4 BeanFactory和ApplicationContext有什么区别

BeanFactory和ApplicationContext是Spring的两大核心接口，都可以当做Spring的容器。其中ApplicationContext是BeanFactory的子接口。

- **依赖关系**

  BeanFactory：是Spring里面最底层的接口，包含了各种Bean的定义，读取bean配置文档，管理bean的加载、实例化，控制bean的生命周期，维护bean之间的依赖关系。

  ApplicationContext接口作为BeanFactory的派生，除了提供BeanFactory所具有的功能外，还提供了更完整的框架功能：

  - 继承MessageSource，因此支持国际化。
  - 统一的资源文件访问方式。
  - 提供在监听器中注册bean的事件。
  - 同时加载多个配置文件。
  - 载入多个（有继承关系）上下文 ，使得每一个上下文都专注于一个特定的层次，比如应用的web层。

- **加载方式**

  BeanFactroy采用的是延迟加载形式来注入Bean的，即只有在使用到某个Bean时(调用getBean())，才对该Bean进行加载实例化。这样，我们就不能发现一些存在的Spring的配置问题。如果Bean的某一个属性没有注入，BeanFacotry加载后，直至第一次使用调用getBean方法才会抛出异常。

  ApplicationContext，它是在容器启动时，一次性创建了所有的Bean。这样，在容器启动时，我们就可以发现Spring中存在的配置错误，这样有利于检查所依赖属性是否注入。 ApplicationContext启动后预载入所有的单实例Bean，通过预载入单实例bean ,确保当你需要的时候，你就不用等待，因为它们已经创建好了。

  相对于基本的BeanFactory，ApplicationContext 唯一的不足是占用内存空间。当应用程序配置Bean较多时，程序启动较慢。

- **创建方式**

  BeanFactory通常以编程的方式被创建，ApplicationContext还能以声明的方式创建，如使用ContextLoader。

- **注册方式**

  BeanFactory和ApplicationContext都支持BeanPostProcessor、BeanFactoryPostProcessor的使用，但两者之间的区别是：BeanFactory需要手动注册，而ApplicationContext则是自动注册。

## 2.5 Spring如何设计容器的，BeanFactory和ApplicationContext的关系详解

Spring作者Rod Johnson设计了两个接口用以表示容器。

- BeanFactory
- ApplicationContext

BeanFactory简单粗暴，可以理解为就是个HashMap，Key是BeanName，Value是Bean实例。通常只提供注册（put），获取（get）这两个功能。我们可以称之为 **“低级容器”**。

ApplicationContext可以称之为 **“高级容器”**。因为他比BeanFactory多了更多的功能。他继承了多个接口。因此具备了更多的功能。例如资源的获取，支持多种消息（例如JSP tag的支持），对BeanFactory多了工具级别的支持等待。所以你看他的名字，已经不是BeanFactory之类的工厂了，而是“应用上下文”， 代表着整个大容器的所有功能。该接口定义了一个refresh方法，此方法是所有阅读Spring源码的人的最熟悉的方法，用于刷新整个容器，即重新加载/刷新所有的bean。

当然，除了这两个大接口，还有其他的辅助接口，这里就不介绍他们了。

BeanFactory和ApplicationContext的关系

为了更直观的展示 “低级容器” 和 “高级容器” 的关系，这里通过常用的ClassPathXmlApplicationContext类来展示整个容器的层级UML关系。

![ClassPathXmlApplicationContext的UML关系图](https://gitee.com/krislin_zhao/IMGcloud/raw/master/img/20200602100001.png)

最上面的是BeanFactory，下面的3个绿色的，都是功能扩展接口，这里就不展开讲。

看下面的隶属ApplicationContext粉红色的“高级容器”，依赖着“低级容器”，这里说的是依赖，不是继承哦。他依赖着“低级容器”的getBean功能。而高级容器有更多的功能：支持不同的信息源头，可以访问文件资源，支持应用事件（Observer模式）。

通常用户看到的就是“高级容器”。 但BeanFactory也非常够用啦！

左边灰色区域的是“低级容器”， 只负载加载Bean，获取Bean。容器其他的高级功能是没有的。例如上图画的refresh刷新Bean工厂所有配置，生命周期事件回调等。

**小结**

说了这么多，不知道你有没有理解Spring IoC？ 这里小结一下：IoC在Spring中，只需要低级容器就可以实现，2个步骤：

1. 加载配置文件，解析成BeanDefinition放在Map里。
2. 调用getBean的时候，从BeanDefinition所属的Map里，拿出Class对象进行实例化，同时，如果有依赖关系，将递归调用getBean方法 —— 完成依赖注入。

上面就是Spring低级容器（BeanFactory）的IoC。

至于高级容器ApplicationContext，他包含了低级容器的功能，当他执行refresh模板方法的时候，将刷新整个容器的Bean。同时其作为高级容器，包含了太多的功能。一句话，他不仅仅是IoC。他支持不同信息源头，支持BeanFactory工具类，支持层级容器，支持访问文件资源，支持事件发布通知，支持接口回调等等。

## 2.6 ApplicationContext通常的实现是什么

- **FileSystemXmlApplicationContext**：此容器从一个XML文件中加载beans的定义，XML Bean 配置文件的全路径名必须提供给它的构造函数。
- **ClassPathXmlApplicationContext**：此容器也从一个XML文件中加载beans的定义，这里，你需要正确设置classpath因为这个容器将在classpath里找bean配置。
- **WebXmlApplicationContext**：此容器加载一个XML文件，此文件定义了一个WEB应用的所有bean。

## 2.7 什么是Spring的依赖注入

控制反转IOC是一个很大的概念，可以用不同的方式来实现。其主要实现方式有两种：依赖注入和依赖查找

依赖注入：相对于IOC而言，依赖注入(DI)更加准确地描述了IOC的设计理念。所谓依赖注入（Dependency Injection），即组件之间的依赖关系由容器在应用系统运行期来决定，也就是由容器动态地将某种依赖关系的目标对象实例注入到应用系统中的各个关联的组件之中。组件不做定位查询，只提供普通的Java方法让容器去决定依赖关系。

## 2.8 依赖注入的基本原则

应用组件不应该负责查找资源或者其他依赖的协作对象。配置对象的工作应该由IOC容器负责，“查找资源”的逻辑应该从应用组件的代码中抽取出来，交给IOC容器负责。容器全权负责组件的装配，它会把符合依赖关系的对象通过属性（JavaBean中的setter）或者是构造器传递给需要的对象。

## 2.9 依赖注入有什么优势

依赖注入之所以更流行是因为它是一种更可取的方式：让容器全权负责依赖查询，受管组件只需要暴露JavaBean的setter方法或者带参数的构造器或者接口，使容器可以在初始化时组装对象的依赖关系。其与依赖查找方式相比，主要优势为：

- 查找定位操作与应用代码完全无关。
- 不依赖于容器的API，可以很容易地在任何容器以外使用应用对象。
- 不需要特殊的接口，绝大多数对象可以做到完全不必依赖容器。

## 2.10 有哪些不同类型的依赖注入实现方式

依赖注入是时下最流行的IOC实现方式，依赖注入分为接口注入（Interface Injection），Setter方法注入（Setter Injection）和构造器注入（Constructor Injection）三种方式。其中接口注入由于在灵活性和易用性比较差，现在从Spring4开始已被废弃。

**构造器依赖注入**：构造器依赖注入通过容器触发一个类的构造器来实现的，该类有一系列参数，每个参数代表一个对其他类的依赖。

**Setter方法注入**：Setter方法注入是容器通过调用无参构造器或无参static工厂 方法实例化bean之后，调用该bean的setter方法，即实现了基于setter的依赖注入。

## 2.11 构造器依赖注入和 Setter方法注入的区别

| 构造函数注入                 | setter注入                |
| ---------------------------- | ------------------------- |
| 没有部分注入                 | 有部分注入                |
| 不会覆盖setter属性           | 会覆盖setter属性          |
| 任意修改都会创建一个新实例   | 任意修改不会创建一个新实例|
| 适用于设置很多属性           | 适用于设置少量属性        |

两种依赖方式都可以使用，构造器注入和Setter方法注入。最好的解决方案是用构造器参数实现强制依赖，setter方法实现可选依赖。

# 3. Beans

## 3.1 什么是Spring beans

Spring beans 是那些形成Spring应用的主干的java对象。它们被Spring IOC容器初始化，装配，和管理。这些beans通过容器中配置的元数据创建。比如，以XML文件中`<bean/>`的形式定义。

## 3.2 一个 Spring Bean 定义 包含什么

一个Spring Bean 的定义包含容器必知的所有配置元数据，包括如何创建一个bean，它的生命周期详情及它的依赖。

## 3.3 如何给Spring 容器提供配置元数据

这里有三种重要的方法给Spring 容器提供配置元数据。

- XML配置文件。
- 基于注解的配置。
- 基于java的配置。

## 3.4 你怎样定义类的作用域

当定义一个`<bean>`在Spring里，我们还能给这个bean声明一个作用域。它可以通过bean 定义中的scope属性来定义。如，当Spring要在需要的时候每次生产一个新的bean实例，bean的scope属性被指定为prototype。另一方面，一个bean每次使用的时候必须返回同一个实例，这个bean的scope属性 必须设为 singleton。

## 3.5 解释Spring支持的几种bean的作用域

Spring框架支持以下五种bean的作用域：

- **singleton** : bean在每个Spring ioc 容器中只有一个实例。
- **prototype**：一个bean的定义可以有多个实例。
- **request**：每次http请求都会创建一个bean，该作用域仅在基于web的Spring ApplicationContext情形下有效。
- **session**：在一个HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。
- **global-session**：在一个全局的HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。

**注意：** 缺省的Spring bean 的作用域是Singleton。使用 prototype 作用域需要慎重的思考，因为频繁创建和销毁 bean 会带来很大的性能开销。

## 3.6 Spring框架中的单例bean是线程安全的吗

不是，Spring框架中的单例bean不是线程安全的。

spring 中的 bean 默认是单例模式，spring 框架并没有对单例 bean 进行多线程的封装处理。

实际上大部分时候 spring bean 无状态的（比如 dao 类），所有某种程度上来说 bean 也是安全的，但如果 bean 有状态的话（比如 view model 对象），那就要开发者自己去保证线程安全了，最简单的就是改变 bean 的作用域，把“singleton”变更为“prototype”，这样请求 bean 相当于 new Bean()了，所以就可以保证线程安全了。

- 有状态就是有数据存储功能。
- 无状态就是不会保存数据。

## 3.7 解释Spring框架中bean的生命周期

- Spring容器 从XML 文件中读取bean的定义，并实例化bean。
- Spring根据bean的定义填充所有的属性。
- 如果bean实现了BeanNameAware 接口，Spring 传递bean 的ID

2025-08-25 11:22:22,199 - evaluation_logger_Car-Rental-89 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any of the requested information in the user's query."}
2025-08-25 11:22:29,120 - evaluation_logger_Car-Rental-89 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 11:22:29,120 - evaluation_logger_Car-Rental-89 - INFO - Message: Success.
2025-08-25 11:22:29,120 - evaluation_logger_Car-Rental-89 - INFO - Success turn num = 3
2025-08-25 11:22:29,120 - evaluation_logger_Car-Rental-89 - INFO - ----------------------------------------------------------------------------------------------------
