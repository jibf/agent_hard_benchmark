2025-08-25 11:24:29,353 - evaluation_logger_Car-Rental-122 - INFO - Test Example Car-Rental-122
2025-08-25 11:24:29,353 - evaluation_logger_Car-Rental-122 - INFO - Query: My friends are planning a self-driving trip in Germany from November 10th to 17th, 2024. They'll pick up the car at Frankfurt Airport at 8 AM and return it at Munich Airport at 4 PM. Could you provide details of the vehicle, the supplier's ratings, and user comments?
2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Frankfurt Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Munich Airport"
        }
    }
]

2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Frankfurt Airport"
        }
    },
    {
        "name": "Search_Car_Location",
        "arguments": {
            "query": "Munich Airport"
        }
    },
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 50.0507011413574,
            "pick_up_longitude": 8.57182025909424,
            "drop_off_latitude": 48.3540000915527,
            "drop_off_longitude": 11.7885999679565,
            "pick_up_date": "2024-11-10",
            "pick_up_time": "08:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "16:00"
        }
    }
]

2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Frankfurt Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Frankfurt Airport'}}
2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Location', 'arguments': {'query': 'Munich Airport'}}
{'name': 'Search_Car_Location', 'arguments': {'query': 'Munich Airport'}}
2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:24:37,844 - evaluation_logger_Car-Rental-122 - INFO - Success matched: [{'name': 'Search_Car_Location', 'arguments': {'query': 'Frankfurt Airport'}}, {'name': 'Search_Car_Location', 'arguments': {'query': 'Munich Airport'}}]
2025-08-25 11:24:37,845 - evaluation_logger_Car-Rental-122 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "iata_code": "FRA",
                "name": "Frankfurt Airport",
                "type": "airport",
                "country": "Germany",
                "city": "Frankfurt/Main",
                "coordinates": {
                    "latitude": 50.0507011413574,
                    "longitude": 8.57182025909424
                }
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "country": "Germany",
                "coordinates": {
                    "longitude": 11.7885999679565,
                    "latitude": 48.3540000915527
                },
                "city": "Munich",
                "name": "Munich Airport",
                "type": "airport",
                "iata_code": "MUC"
            }
        ]
    }
]

2025-08-25 11:24:50,289 - evaluation_logger_Car-Rental-122 - INFO - Function Calls: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "pick_up_latitude": 50.0507011413574,
            "pick_up_longitude": 8.57182025909424,
            "drop_off_latitude": 48.3540000915527,
            "drop_off_longitude": 11.7885999679565,
            "pick_up_date": "2024-11-10",
            "pick_up_time": "08:00",
            "drop_off_date": "2024-11-17",
            "drop_off_time": "16:00"
        }
    }
]

2025-08-25 11:24:50,290 - evaluation_logger_Car-Rental-122 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Car_Rentals",
        "arguments": {
            "drop_off_date": "2024-11-17",
            "drop_off_latitude": 48.3540000915527,
            "drop_off_longitude": 11.7885999679565,
            "drop_off_time": "16:00",
            "pick_up_date": "2024-11-10",
            "pick_up_latitude": 50.0507011413574,
            "pick_up_longitude": 8.57182025909424,
            "pick_up_time": "08:00"
        }
    },
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    }
]

2025-08-25 11:24:50,290 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 48.3540000915527, 'drop_off_longitude': 11.7885999679565, 'drop_off_time': '16:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 50.0507011413574, 'pick_up_longitude': 8.57182025909424, 'pick_up_time': '08:00'}}
{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 48.3540000915527, 'drop_off_longitude': 11.7885999679565, 'drop_off_time': '16:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 50.0507011413574, 'pick_up_longitude': 8.57182025909424, 'pick_up_time': '08:00'}}
2025-08-25 11:24:50,290 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:24:50,290 - evaluation_logger_Car-Rental-122 - INFO - Success matched: [{'name': 'Search_Car_Rentals', 'arguments': {'drop_off_date': '2024-11-17', 'drop_off_latitude': 48.3540000915527, 'drop_off_longitude': 11.7885999679565, 'drop_off_time': '16:00', 'pick_up_date': '2024-11-10', 'pick_up_latitude': 50.0507011413574, 'pick_up_longitude': 8.57182025909424, 'pick_up_time': '08:00'}}]
2025-08-25 11:24:50,290 - evaluation_logger_Car-Rental-122 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "meta": {
                "response_code": 200
            },
            "title": "Car rentals",
            "search_context": {
                "searchId": "b1b85562-1e41-47cc-85d1-e0a0a9f73359",
                "searchKey": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
                "recommendationsSearchUniqueId": "5d671d71-f00e-46a4-81bb-587ce02b57d0"
            },
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "sort": [
                {
                    "identifier": "recommended",
                    "name": "Recommended – best first",
                    "title_tag": "tr.searchresults.sortBy.recommended"
                },
                {
                    "identifier": "price_low_to_high",
                    "name": "Price - lowest first",
                    "title_tag": "tr.searchresults.sortBy.price.lowHigh"
                },
                {
                    "identifier": "review_score",
                    "title_tag": "tr.searchresults.sortBy.reviews.highLow",
                    "name": "Review score - highest first"
                }
            ],
            "provider": "rentalcars",
            "type": "cars",
            "is_genius_location": true,
            "search_results": [
                {
                    "vehicle_id": "576781971",
                    "vehicle_info": {
                        "doors": "4",
                        "fuel_policy": "Like for like",
                        "special_offer_text": "Price includes winterisation fee",
                        "transmission": "Manual",
                        "mileage": "2210 kilometres per rental",
                        "v_name": "Opel Combo",
                        "unlimited_mileage": 0,
                        "group": "Standard",
                        "seats": "7",
                        "suitcases": {
                            "small": "0",
                            "big": "0"
                        },
                        "airbags": 1,
                        "label": "Standard car with:",
                        "cma_compliant": -1,
                        "aircon": 1,
                        "v_id": "576781971",
                        "free_cancellation": 1,
                        "fuel_type": "N/A"
                    },
                    "pricing_info": {
                        "base_price": 57656.63,
                        "drive_away_price_is_approx": true,
                        "drive_away_price": 685.54,
                        "currency": "USD",
                        "pay_when": "PAY_NOW",
                        "deposit": 685.54,
                        "base_currency": "INR",
                        "price": 685.54,
                        "base_deposit": 57656.63,
                        "fee_breakdown": {
                            "fuel_policy": {
                                "type": "RETURN_SAME",
                                "amount": 0
                            },
                            "known_fees": [
                                {
                                    "type": "THEFT_EXCESS",
                                    "is_tax_included": 1,
                                    "amount": 1150,
                                    "is_always_payable": 0,
                                    "max_amount": 1150,
                                    "currency": "EUR",
                                    "min_amount": 1150
                                },
                                {
                                    "min_amount": 300,
                                    "is_always_payable": 0,
                                    "max_amount": 300,
                                    "currency": "EUR",
                                    "type": "DEPOSIT",
                                    "amount": 300,
                                    "is_tax_included": 1
                                },
                                {
                                    "is_tax_included": 1,
                                    "amount": 1150,
                                    "type": "DAMAGE_EXCESS",
                                    "is_always_payable": 0,
                                    "currency": "EUR",
                                    "max_amount": 1150,
                                    "min_amount": 1150
                                },
                                {
                                    "currency": "EUR",
                                    "max_amount": 0.38,
                                    "is_always_payable": 0,
                                    "min_amount": 0.38,
                                    "is_tax_included": 1,
                                    "amount": 0.38,
                                    "type": "MILEAGE",
                                    "distance_allowed": {
                                        "is_unlimited": 0,
                                        "value": 2210,
                                        "is_km": 1,
                                        "per_duration": "rental"
                                    }
                                }
                            ]
                        },
                        "quote_allowed": 1,
                        "discount": 0
                    },
                    "accessibility": {
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Manual gearbox",
                        "pick_up_location": "Pick-up information: In Terminal",
                        "supplier_rating": "At this location, our customers have rated Sixt as 8.2 out of 10, Very good."
                    },
                    "freebies": [
                        "Amendments"
                    ],
                    "content": {
                        "supplier": {
                            "name": "Sixt",
                            "rating": {
                                "localisedRating": {
                                    "displayValue": "8.2",
                                    "rawValue": 8.2
                                },
                                "subtitle": "1,459 reviews",
                                "title": "Very good",
                                "average": "8.2"
                            }
                        },
                        "badges": [
                            {
                                "type": "CONSTRUCTIVE",
                                "variation": "DEFAULT",
                                "text": "Free cancellation"
                            }
                        ]
                    },
                    "rating_info": {
                        "location": 8.7,
                        "no_of_ratings": 1459,
                        "pickup_time": 6.8,
                        "cleanliness": 9,
                        "condition": 8.9,
                        "average": 8.2,
                        "efficiency": 7.9,
                        "dropoff_time": 9.4,
                        "value_for_money": 7.5,
                        "average_text": "Excellent"
                    },
                    "fee_info": {
                        "tax": 0,
                        "fee": 0
                    },
                    "route_info": {
                        "dropoff": {
                            "country_code": "DE",
                            "location_type": "IN_TERMINAL",
                            "name": "Munich Airport",
                            "latitude": "48.35394649",
                            "address": "Terminalstraße Mitte, München, Germany, 85356",
                            "location_id": "2761076",
                            "longitude": "11.78676203"
                        },
                        "pickup": {
                            "location_type": "IN_TERMINAL",
                            "country_code": "DE",
                            "name": "Frankfurt Airport",
                            "location_hash": "RnJhbmtmdXJ0IEFpcnBvcnQ=",
                            "location_id": "2765461",
                            "longitude": "8.570852",
                            "address": "Hugo-Eckener-Ring, Mietwagenzentrum, Frankfurt am Main, Germany, 60549",
                            "latitude": "50.051329"
                        }
                    },
                    "supplier_info": {
                        "location_type": "In Terminal",
                        "may_require_credit_card_guarantee": false,
                        "logo_url": "https://cdn.rcstatic.com/sp/images/suppliers/207_logo_200.png",
                        "pickup_instructions": "The Sixt office is located in Terminal 1 in the car rental centre in the airport city mall (level 0). Please follow the signs for Car rental and Airport City Mall.",
                        "name": "Sixt",
                        "longitude": "8.570852",
                        "latitude": "50.051329",
                        "address": "Hugo-Eckener-Ring, Mietwagenzentrum, Frankfurt am Main, Germany, 60549"
                    }
                }
            ],
            "content": {
                "items": [
                    {
                        "type": "SHELL_REGION_VIEW",
                        "content": {
                            "contentType": "carsSearchResultsSecondaryPromotional"
                        },
                        "positionInList": 3
                    }
                ],
                "filters": {
                    "countLabel": "315 results"
                }
            },
            "filter": [
                {
                    "layout": {
                        "is_collapsed": "false",
                        "is_collapsable": "false",
                        "collapsed_count": 3,
                        "layout_type": "list"
                    },
                    "id": "depotLocationType",
                    "title": "Location",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "count": 94,
                            "nameWithCount": "All other locations (94)",
                            "name": "All other locations",
                            "id": "depotLocationType::DOWNTOWN"
                        },
                        {
                            "name": "Airport (in terminal)",
                            "id": "depotLocationType::IN_TERMINAL",
                            "count": 284,
                            "nameWithCount": "Airport (in terminal) (284)"
                        },
                        {
                            "nameWithCount": "Airport (car rental centre) (33)",
                            "count": 33,
                            "id": "depotLocationType::CAR_RENTAL_CENTRE",
                            "name": "Airport (car rental centre)"
                        }
                    ]
                },
                {
                    "layout": {
                        "layout_type": "list",
                        "collapsed_count": 5,
                        "is_collapsable": "true",
                        "is_collapsed": "true"
                    },
                    "title": "Car Type",
                    "id": "carCategory",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Small",
                            "id": "carCategory::small",
                            "count": 49,
                            "nameWithCount": "Small (49)"
                        },
                        {
                            "id": "carCategory::medium",
                            "name": "Medium",
                            "nameWithCount": "Medium (195)",
                            "count": 195
                        },
                        {
                            "nameWithCount": "Large (205)",
                            "count": 205,
                            "id": "carCategory::large",
                            "name": "Large"
                        },
                        {
                            "nameWithCount": "Estate (80)",
                            "count": 80,
                            "id": "carCategory::estate",
                            "name": "Estate"
                        },
                        {
                            "nameWithCount": "Premium (89)",
                            "count": 89,
                            "id": "carCategory::premium",
                            "name": "Premium"
                        }
                    ]
                },
                {
                    "layout": {
                        "is_collapsed": "false",
                        "is_collapsable": "false",
                        "collapsed_count": 5,
                        "layout_type": "list"
                    },
                    "categories": [
                        {
                            "id": "pricePerDayBuckets::BUCKET_1",
                            "name": "US$0 - US$50",
                            "nameWithCount": "US$0 - US$50 (31)",
                            "count": 31
                        },
                        {
                            "count": 344,
                            "nameWithCount": "US$50 - US$100 (344)",
                            "name": "US$50 - US$100",
                            "id": "pricePerDayBuckets::BUCKET_2"
                        },
                        {
                            "count": 31,
                            "nameWithCount": "US$100 - US$150 (31)",
                            "name": "US$100 - US$150",
                            "id": "pricePerDayBuckets::BUCKET_3"
                        },
                        {
                            "id": "pricePerDayBuckets::BUCKET_4",
                            "name": "US$150 - US$200",
                            "nameWithCount": "US$150 - US$200 (1)",
                            "count": 1
                        },
                        {
                            "count": 4,
                            "nameWithCount": "US$200+ (4)",
                            "name": "US$200+",
                            "id": "pricePerDayBuckets::BUCKET_5"
                        }
                    ],
                    "type": "multiple_union",
                    "title": "Price per day",
                    "id": "pricePerDayBuckets"
                },
                {
                    "categories": [
                        {
                            "nameWithCount": "Avis (16)",
                            "count": 16,
                            "id": "supplier::Avis",
                            "name": "Avis"
                        },
                        {
                            "nameWithCount": "Buchbinder (88)",
                            "count": 88,
                            "id": "supplier::Buchbinder",
                            "name": "Buchbinder"
                        },
                        {
                            "count": 14,
                            "nameWithCount": "Budget (14)",
                            "name": "Budget",
                            "id": "supplier::Budget"
                        },
                        {
                            "id": "supplier::Europcar",
                            "name": "Europcar",
                            "nameWithCount": "Europcar (134)",
                            "count": 134
                        },
                        {
                            "id": "supplier::OK Mobility",
                            "name": "OK Mobility",
                            "nameWithCount": "OK Mobility (14)",
                            "count": 14
                        }
                    ],
                    "type": "multiple_union",
                    "id": "supplier",
                    "title": "Supplier",
                    "layout": {
                        "is_collapsed": "true",
                        "is_collapsable": "true",
                        "layout_type": "list",
                        "collapsed_count": 5
                    }
                },
                {
                    "id": "transmission",
                    "title": "Transmission",
                    "type": "multiple_union",
                    "categories": [
                        {
                            "name": "Automatic",
                            "id": "transmission::AUTOMATIC",
                            "count": 275,
                            "nameWithCount": "Automatic (275)"
                        },
                        {
                            "nameWithCount": "Manual (136)",
                            "count": 136,
                            "id": "transmission::MANUAL",
                            "name": "Manual"
                        }
                    ],
                    "layout": {
                        "is_collapsed": "true",
                        "is_collapsable": "true",
                        "collapsed_count": 5,
                        "layout_type": "list"
                    }
                }
            ],
            "count": 315
        }
    }
]

2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Function Calls: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "vehicle_id": "576781971",
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19"
        }
    }
]

2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Golden Function Call: 
[
    {
        "name": "Vehicle_Details",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "576781971"
        }
    },
    {
        "name": "Vehicle_Supplier_Ratings",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "576781971"
        }
    },
    {
        "name": "Vehicle_Supplier_Review",
        "arguments": {
            "search_key": "eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19",
            "vehicle_id": "576781971"
        }
    }
]

2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Ratings', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
{'name': 'Vehicle_Supplier_Ratings', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Start compare_single_call: 
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
{'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}
2025-08-25 11:25:50,032 - evaluation_logger_Car-Rental-122 - INFO - Rule-based compare success.
2025-08-25 11:25:50,033 - evaluation_logger_Car-Rental-122 - INFO - Success matched: [{'name': 'Vehicle_Details', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}, {'name': 'Vehicle_Supplier_Ratings', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}, {'name': 'Vehicle_Supplier_Review', 'arguments': {'search_key': 'eyJkcml2ZXJzQWdlIjozMCwiZHJvcE9mZkRhdGVUaW1lIjoiMjAyNC0xMS0xN1QxNjowMDowMCIsImRyb3BPZmZMb2NhdGlvbiI6IjQ4LjM1NDAwMDA5MTU1MjcsMTEuNzg4NTk5OTY3OTU2NSIsImRyb3BPZmZMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicGlja1VwRGF0ZVRpbWUiOiIyMDI0LTExLTEwVDA4OjAwOjAwIiwicGlja1VwTG9jYXRpb24iOiI1MC4wNTA3MDExNDEzNTc0LDguNTcxODIwMjU5MDk0MjQiLCJwaWNrVXBMb2NhdGlvblR5cGUiOiJMQVRMT05HIiwicmVudGFsRHVyYXRpb25JbkRheXMiOjgsInNlcnZpY2VGZWF0dXJlcyI6WyJOT19PUEFRVUVTIiwiU1VQUkVTU19GSVhFRF9QUklDRV9WRUhJQ0xFUyIsIklOQ0xVREVfUFJPRFVDVF9SRUxBVElPTlNISVBTIiwiSU5DTFVERV9FWFRSQVNfQ09OVEFJTklOR19GRUVTIl19', 'vehicle_id': '576781971'}}]
2025-08-25 11:25:50,033 - evaluation_logger_Car-Rental-122 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "extras": [
                {
                    "id": "13959744873010",
                    "type": "SKI_RACK",
                    "price": {
                        "perRental": {
                            "base": {
                                "value": 76,
                                "currency": "EUR"
                            },
                            "display": {
                                "value": 81.89,
                                "currency": "USD"
                            }
                        },
                        "prePayable": false
                    },
                    "maxQuantityAvailable": 1,
                    "name": "Ski rack",
                    "detail": "Lets you transport skis outside the car"
                },
                {
                    "detail": "If you want other people to drive as well",
                    "maxQuantityAvailable": 3,
                    "price": {
                        "perRental": {
                            "display": {
                                "value": 85.12,
                                "currency": "USD"
                            },
                            "base": {
                                "currency": "EUR",
                                "value": 79
                            }
                        },
                        "prePayable": false
                    },
                    "name": "Additional driver",
                    "type": "ADDITIONAL_DRIVER",
                    "id": "13452719051010"
                },
                {
                    "type": "SNOW_CHAINS",
                    "id": "13851369093010",
                    "maxQuantityAvailable": 1,
                    "name": "Snow chains",
                    "price": {
                        "prePayable": false,
                        "perRental": {
                            "base": {
                                "currency": "EUR",
                                "value": 76
                            },
                            "display": {
                                "currency": "USD",
                                "value": 81.89
                            }
                        }
                    },
                    "detail": "Fit onto your tyres to make it safer to drive in snowy conditions"
                },
                {
                    "maxQuantityAvailable": 1,
                    "price": {
                        "perRental": {
                            "base": {
                                "value": 129,
                                "currency": "EUR"
                            },
                            "display": {
                                "currency": "USD",
                                "value": 139
                            }
                        },
                        "prePayable": false
                    },
                    "name": "Winter tyres",
                    "detail": "Special tyres designed for low temperatures",
                    "type": "SNOW_TYRES",
                    "id": "13968360651010"
                },
                {
                    "id": "13452719056010",
                    "type": "BABY_SEAT",
                    "maxQuantityAvailable": 2,
                    "name": "Baby seat",
                    "price": {
                        "prePayable": false,
                        "perRental": {
                            "display": {
                                "currency": "USD",
                                "value": 77.58
                            },
                            "base": {
                                "currency": "EUR",
                                "value": 72
                            }
                        }
                    },
                    "detail": "For babies: up to 9 kg / 20 lbs (about 1 year old)"
                }
            ],
            "supplier": {
                "rating": 8.2,
                "locationType": "In Terminal"
            },
            "metadata": {
                "navigation": {
                    "showExtrasStep": true
                }
            },
            "meta": {
                "response_code": 200
            },
            "content": {
                "carCard": {
                    "supplier": {
                        "name": "Sixt",
                        "rating": {
                            "average": "8.2",
                            "title": "Very good",
                            "localisedRating": {
                                "displayValue": "8.2",
                                "rawValue": 8.2
                            },
                            "subtitle": "1,459 reviews"
                        }
                    },
                    "accessibility": {
                        "fuel_policy": "Fuel policy is: Like for like",
                        "transmission": "Manual gearbox",
                        "supplier_rating": "At this location, our customers have rated Sixt as 8.2 out of 10, Very good.",
                        "pick_up_location": "Pick-up information: In Terminal"
                    },
                    "specialOfferText": "Price includes winterisation fee",
                    "badges": [
                        {
                            "type": "CONSTRUCTIVE",
                            "text": "Free cancellation",
                            "variation": "DEFAULT"
                        }
                    ]
                },
                "reviews": {
                    "supplier": {
                        "rating": {
                            "localisedRating": {
                                "rawValue": 8.2,
                                "displayValue": "8.2"
                            },
                            "average": "8.2",
                            "title": "Very good",
                            "subtitle": "1,459 reviews"
                        },
                        "name": "Sixt"
                    },
                    "title": "Reviews"
                }
            },
            "links": {
                "fullRentalTerms": {
                    "label": "Rental terms"
                }
            },
            "importantInfo": {
                "title": "Important information",
                "cta": {
                    "text": "More details",
                    "title": "Rental terms"
                },
                "subtitle": "Security deposit, damage excess, what you'll need at pick-up, and more",
                "items": [
                    {
                        "text": "<b>Payment card at pick-up:</b> Credit card<br/>The main driver <b>must</b> have a credit card in their own name when picking the car up.",
                        "icon": "CREDIT_CARD"
                    }
                ]
            },
            "depots": {
                "dropoff": {
                    "id": "2761076",
                    "name": "Munich Airport",
                    "address": "Terminalstraße Mitte, München, Germany, 85356",
                    "longitude": "11.78676203",
                    "country_code": "DE",
                    "location_id": "2761076",
                    "location_type": "IN_TERMINAL",
                    "latitude": "48.35394649",
                    "iataCode": "MUC"
                },
                "pickup": {
                    "latitude": "50.051329",
                    "iataCode": "FRA",
                    "country_code": "DE",
                    "location_id": "2765461",
                    "location_type": "IN_TERMINAL",
                    "country": "Germany",
                    "address": "Hugo-Eckener-Ring, Mietwagenzentrum, Frankfurt am Main, Germany, 60549",
                    "longitude": "8.570852",
                    "city": "Frankfurt",
                    "name": "Frankfurt Airport",
                    "id": "2765461"
                }
            },
            "vehicle": {
                "carClass": "Standard",
                "fees": {
                    "otherFees": [
                        {
                            "includedInPrice": false,
                            "unlimited": false,
                            "distanceUnit": "M",
                            "alwaysPayable": true,
                            "price": {
                                "maximumAmount": 1150,
                                "amount": 1150,
                                "taxIncluded": true,
                                "minimumAmount": 1150,
                                "currency": "EUR"
                            },
                            "name": "DAMAGE_EXCESS",
                            "displayPrice": {
                                "maximumAmount": 1239.13,
                                "amount": 1239.13,
                                "minimumAmount": 1239.13,
                                "taxIncluded": true,
                                "currency": "USD"
                            }
                        },
                        {
                            "distanceUnit": "M",
                            "alwaysPayable": true,
                            "price": {
                                "taxIncluded": true,
                                "minimumAmount": 300,
                                "amount": 300,
                                "maximumAmount": 300,
                                "currency": "EUR"
                            },
                            "name": "DEPOSIT",
                            "displayPrice": {
                                "taxIncluded": true,
                                "minimumAmount": 323.25,
                                "maximumAmount": 323.25,
                                "amount": 323.25,
                                "currency": "USD"
                            },
                            "includedInPrice": false,
                            "unlimited": false
                        },
                        {
                            "includedInPrice": false,
                            "distance": 2210,
                            "unlimited": false,
                            "perWhat": "PER_RENTAL",
                            "distanceUnit": "KM",
                            "alwaysPayable": false,
                            "price": {
                                "amount": 0.38,
                                "maximumAmount": 0.38,
                                "minimumAmount": 0.38,
                                "taxIncluded": true,
                                "currency": "EUR"
                            },
                            "name": "MILEAGE",
                            "displayPrice": {
                                "maximumAmount": 0.41,
                                "amount": 0.41,
                                "taxIncluded": true,
                                "minimumAmount": 0.41,
                                "currency": "USD"
                            }
                        },
                        {
                            "includedInPrice": false,
                            "unlimited": false,
                            "name": "THEFT_EXCESS",
                            "price": {
                                "minimumAmount": 1150,
                                "taxIncluded": true,
                                "maximumAmount": 1150,
                                "amount": 1150,
                                "currency": "EUR"
                            },
                            "displayPrice": {
                                "minimumAmount": 1239.13,
                                "taxIncluded": true,
                                "maximumAmount": 1239.13,
                                "amount": 1239.13,
                                "currency": "USD"
                            },
                            "distanceUnit": "M",
                            "alwaysPayable": true
                        }
                    ]
                },
                "label": "Standard car with:",
                "price": {
                    "display": {
                        "value": 685.54,
                        "currency": "USD"
                    },
                    "base": {
                        "currency": "INR",
                        "value": 57656.63
                    },
                    "driveAwayPriceIsApprox": true,
                    "payWhen": "PAY_NOW",
                    "driveAway": {
                        "value": 685.54,
                        "currency": "USD"
                    }
                },
                "freeCancellation": true,
                "rentalDurationInDays": 8,
                "specification": {
                    "fuelPolicy": "Like for like",
                    "mileage": "2210 kilometres per rental",
                    "smallSuitcases": 1,
                    "bigSuitcases": 2,
                    "numberOfDoors": "4",
                    "airConditioning": true,
                    "numberOfSeats": "7",
                    "transmission": "Manual"
                },
                "id": "576781971",
                "makeAndModel": "Opel Combo"
            },
            "whatsIncluded": {
                "items": [
                    {
                        "text": "<b>Free cancellation</b> up to 48 hours before pick-up",
                        "icon": "TICK"
                    },
                    {
                        "text": "Collision Damage Waiver (CDW)",
                        "icon": "TICK"
                    },
                    {
                        "icon": "TICK",
                        "text": "Theft Cover"
                    },
                    {
                        "text": "Third-Party Liability (TPL)",
                        "icon": "TICK"
                    },
                    {
                        "icon": "GIFT",
                        "text": "Price includes winterisation fee"
                    }
                ],
                "title": "What's included"
            },
            "packages": [
                {
                    "content": {
                        "title": "Add insurance...",
                        "included": "Full Protection included",
                        "cta": {
                            "attach": "Read more",
                            "remove": "Remove Full Protection"
                        },
                        "price": {
                            "priceAnnotation": {
                                "text": "Free cancellation"
                            },
                            "displayPrice": "US$158.43",
                            "label": "Total protection price"
                        },
                        "subtitle": "for peace of mind",
                        "description": "You could lose your whole deposit if the car is damaged or stolen, but as long as you have Full Protection, Booking.com will refund you!"
                    },
                    "id": "RC_FULL_PROTECTION"
                }
            ]
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "title": "Rental company",
            "rating": {
                "average": "8.2",
                "breakdown": [
                    {
                        "title": "Overall value for money of your vehicle hire",
                        "localisedRating": {
                            "rawValue": 7.5,
                            "displayValue": "7.5"
                        },
                        "score": "7.5"
                    },
                    {
                        "localisedRating": {
                            "rawValue": 7.9,
                            "displayValue": "7.9"
                        },
                        "title": "Helpfulness",
                        "score": "7.9"
                    },
                    {
                        "title": "Pick-up speed",
                        "localisedRating": {
                            "displayValue": "6.8",
                            "rawValue": 6.8
                        },
                        "score": "6.8"
                    },
                    {
                        "score": "9.4",
                        "title": "Drop-off speed",
                        "localisedRating": {
                            "rawValue": 9.4,
                            "displayValue": "9.4"
                        }
                    },
                    {
                        "localisedRating": {
                            "rawValue": 9,
                            "displayValue": "9"
                        },
                        "title": "Car cleanliness",
                        "score": "9.0"
                    }
                ],
                "title": "Very good",
                "subtitle": "1,459 reviews",
                "localisedRating": {
                    "displayValue": "8.2",
                    "rawValue": 8.2
                }
            },
            "name": "Sixt"
        }
    },
    {
        "status": true,
        "message": "Success",
        "data": {
            "customerReviews": {
                "reviews": [
                    {
                        "epochDay": 20009,
                        "localisedRating": {
                            "displayValue": "6",
                            "rawValue": 6
                        },
                        "positive": "Decent car",
                        "type": "Family",
                        "rating": "6.0",
                        "date": "Sun, Oct 13 2024",
                        "negative": "Failure to inform 2 Sixt rental agencies at Frankfurt airport causing confusion and 2 hour delay.  Failure to deliver car in timely way.\n\nFailure of booking.com to reveal I had prepaid cocer rental plan to Sixt, so had to buy insurance from Sixt.  PLEASE REFUND MY MONEY"
                    },
                    {
                        "epochDay": 20008,
                        "type": "Couple",
                        "localisedRating": {
                            "rawValue": 8.3,
                            "displayValue": "8.3"
                        },
                        "positive": "Sixt is very easy because of its terminal locations",
                        "rating": "8.3",
                        "negative": "Sixt charges way too much for its excess insurance package. ",
                        "date": "Sat, Oct 12 2024"
                    },
                    {
                        "rating": "6.6",
                        "epochDay": 19998,
                        "negative": "The car brake is bad, making loud noise. ",
                        "type": "Family",
                        "localisedRating": {
                            "rawValue": 6.6,
                            "displayValue": "6.6"
                        },
                        "date": "Wed, Oct 2 2024"
                    },
                    {
                        "rating": "8.0",
                        "date": "Mon, Sept 30 2024",
                        "negative": "I",
                        "epochDay": 19996,
                        "localisedRating": {
                            "displayValue": "8",
                            "rawValue": 8
                        },
                        "positive": "Actual car matching the booking, many unexpected extras in the car",
                        "type": "Group"
                    },
                    {
                        "positive": "Location.",
                        "localisedRating": {
                            "displayValue": "7.4",
                            "rawValue": 7.4
                        },
                        "type": "Group",
                        "epochDay": 19994,
                        "date": "Sat, Sept 28 2024",
                        "negative": "The billing was way off.  We paid for 3 days pick up and drop off from the airport through booking.com, then SIXT charged a hefty premium for picking up at the airport!  Not acceptable.  As well we paid booking.com for a three day rental, then SIXT charged us an additional 3 days rental, a charge we do not understand and are disputing.  This remains unresolved.  As well we were offered insurance through Booking.com then the agent advised should something happen we would have to pay out of p[ocket and claim to our third party insurance.  So we ended up paying double for insurance.  Not aa great rental experience at all.  We elected an upgrade and are happy to pay the upgrade fee.  We feel we were taken and this was a very poor rental experience.  We will not do this again either through Booking.com or SIXT.  Hopefully SIXT will make it right as we have filed a dispute with them.",
                        "rating": "7.4"
                    }
                ],
                "sort": {
                    "ctaTitle": "Sort by",
                    "options": {
                        "default": "score.descending",
                        "items": [
                            {
                                "id": "score.descending",
                                "label": "Highest scores"
                            },
                            {
                                "id": "score.ascending",
                                "label": "Lowest scores"
                            },
                            {
                                "label": "Newest first",
                                "id": "date.descending"
                            },
                            {
                                "id": "date.ascending",
                                "label": "Oldest first"
                            }
                        ]
                    },
                    "pageTitle": "Sort by"
                },
                "title": "Customer reviews"
            },
            "supplier": {
                "name": "Sixt",
                "title": "Rental company",
                "rating": {
                    "localisedRating": {
                        "displayValue": "8.2",
                        "rawValue": 8.2
                    },
                    "subtitle": "1,459 reviews",
                    "title": "Very good",
                    "breakdown": [
                        {
                            "localisedRating": {
                                "displayValue": "7.5",
                                "rawValue": 7.5
                            },
                            "title": "Overall value for money of your vehicle hire",
                            "score": "7.5"
                        },
                        {
                            "localisedRating": {
                                "displayValue": "7.9",
                                "rawValue": 7.9
                            },
                            "score": "7.9",
                            "title": "Helpfulness"
                        },
                        {
                            "localisedRating": {
                                "rawValue": 6.8,
                                "displayValue": "6.8"
                            },
                            "title": "Pick-up speed",
                            "score": "6.8"
                        },
                        {
                            "title": "Drop-off speed",
                            "score": "9.4",
                            "localisedRating": {
                                "displayValue": "9.4",
                                "rawValue": 9.4
                            }
                        },
                        {
                            "score": "9.0",
                            "title": "Car cleanliness",
                            "localisedRating": {
                                "rawValue": 9,
                                "displayValue": "9"
                            }
                        }
                    ],
                    "average": "8.2"
                }
            }
        }
    }
]

2025-08-25 11:28:10,400 - evaluation_logger_Car-Rental-122 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 概述

本文，我们来分享 [《精尽 Spring Boot 源码分析 —— SpringApplication》](http://svip.iocoder.cn/Spring-Boot/SpringApplication/) 的**初始化**的源码解析。

在 SpringApplication 实例对象创建时，会进行一些初始化的工作。虽然说，它并不复杂，但是还是蛮重要的。

# 2. 构造方法

SpringApplication 的构造方法，主要代码如下：

```java
// SpringApplication.java

/**
 * 资源加载器
 */
private ResourceLoader resourceLoader;
/**
 * 主要的 Java Config 类的数组
 */
private Set<Class<?>> primarySources;
/**
 * Web 应用类型
 */
private WebApplicationType webApplicationType;

public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources) {
	this.resourceLoader = resourceLoader;
	Assert.notNull(primarySources, "PrimarySources must not be null");
	this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));
	// <1> 判断 Web 应用类型
	this.webApplicationType = WebApplicationType.deduceFromClasspath();
	// <2> 设置初始化器
	setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));
	// <3> 设置监听器
	setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
	// <4> 推导主类
	this.mainApplicationClass = deduceMainApplicationClass();
}
```

`resourceLoader` 属性，资源加载器。可以暂时不理解，后续文章会详细解析。

`primarySources` 属性，主要的 Java Config 类的数组。在文初的示例，就是 `DemoApplication` 类。

`webApplicationType` 属性，Web 应用类型。枚举类型，有 `NONE`、`SERVLET`、`REACTIVE` 三种。

`<1>` 处，调用 `WebApplicationType#deduceFromClasspath()` 方法，通过 classpath ，判断 Web 应用类型。详细解析，见 [「2.1 WebApplicationType」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

`<2>` 处，设置初始化器（Initializer）。详细解析，见 [「2.2 初始化器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

`<3>` 处，设置监听器（Listener）。详细解析，见 [「2.3 监听器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

`<4>` 处，推导主类。详细解析，见 [「2.4 推导主类」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

## 2.1 WebApplicationType

`org.springframework.boot.WebApplicationType` ，Web 应用类型枚举。代码如下：

```java
// WebApplicationType.java

public enum WebApplicationType {

    /**
     * 非 Web 项目
     */
    NONE,
    /**
     * Servlet Web 项目
     */
    SERVLET,
    /**
     * Reactive Web 项目
     */
    REACTIVE;

    private static final String[] SERVLET_INDICATOR_CLASSES = { "javax.servlet.Servlet",
            "org.springframework.web.context.ConfigurableWebApplicationContext" };

    private static final String WEBMVC_INDICATOR_CLASS = "org.springframework.web.servlet.DispatcherServlet";

    private static final String WEBFLUX_INDICATOR_CLASS = "org.springframework.web.reactive.DispatcherHandler";

    private static final String JERSEY_INDICATOR_CLASS = "org.glassfish.jersey.servlet.ServletContainer";

    private static final String SERVLET_APPLICATION_CONTEXT_CLASS = "org.springframework.web.context.WebApplicationContext";

    private static final String REACTIVE_APPLICATION_CONTEXT_CLASS = "org.springframework.boot.web.reactive.context.ReactiveWebApplicationContext";

    /**
     * 通过 classpath ，判断 Web 应用类型
     *
     * @return Web 应用类型
     */
    static WebApplicationType deduceFromClasspath() {
        // 如果存在 org.springframework.web.reactive.DispatcherHandler ，并且不存在 org.springframework.web.servlet.DispatcherServlet 和 org.glassfish.jersey.servlet.ServletContainer ，则定义为 REACTIVE 类型
        if (ClassUtils.isPresent(WEBFLUX_INDICATOR_CLASS, null) && !ClassUtils.isPresent(WEBMVC_INDICATOR_CLASS, null)
                && !ClassUtils.isPresent(JERSEY_INDICATOR_CLASS, null)) {
            return WebApplicationType.REACTIVE;
        }
        // 如果不存在 javax.servlet.Servlet 和 org.springframework.web.context.ConfigurableWebApplicationContext 任何一个类，则定义为 NONE 类型
        for (String className : SERVLET_INDICATOR_CLASSES) {
            if (!ClassUtils.isPresent(className, null)) {
                return WebApplicationType.NONE;
            }
        }
        // 否则，定义为 SERVLET 类型
        return WebApplicationType.SERVLET;
    }

}
```

根据不同的 classpath 环境下，判断不同的 Web 应用类型。

## 2.2 初始化器

`org.springframework.context.ApplicationContextInitializer` 接口，应用上下文初始化器接口。代码如下：

```java
// ApplicationContextInitializer.java

@FunctionalInterface
public interface ApplicationContextInitializer<C extends ConfigurableApplicationContext> {

	/**
	 * Initialize the given application context.
	 * @param applicationContext the application to configure
	 */
	void initialize(C applicationContext);

}
```

在 Spring 上下文被刷新之前进行初始化的操作。典型地比如在 Web 环境中，注册属性源或者激活 Profiles 。

`<2>` 处，调用 `#getSpringFactoriesInstances(Class<T> type)` 方法，获得对应的初始化器的实例数组。代码如下：

```java
// SpringApplication.java

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type) {
	return getSpringFactoriesInstances(type, new Class<?>[] {});
}

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, Object... args) {
	ClassLoader classLoader = getClassLoader();
	// Use names and ensure unique to protect against duplicates
	// <1> 加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组
	Set<String> names = new LinkedHashSet<>(SpringFactoriesLoader.loadFactoryNames(type, classLoader));
	// <2> 创建对象
	List<T> instances = createSpringFactoriesInstances(type, parameterTypes, classLoader, args, names);
	// <3> 排序
	AnnotationAwareOrderComparator.sort(instances);
	return instances;
}
```

`<1>` 处，调用 `SpringFactoriesLoader#loadFactoryNames(Class<?> factoryClass, ClassLoader classLoader)` 方法，加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组。

关于 SpringFactoriesLoader 的机制，本文暂时不分享。胖友只需要知道，通过它，可以读取到每个 jar 包的 `META-INF/spring.factories` 配置文件。

例如，`spring-boot-autoconfigure` 的 `META-INF/spring.factories` 配置文件，如下：

```properties
# Initializers
org.springframework.context.ApplicationContextInitializer=\
org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer,\
org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener
```

`<2>` 处，调用 `#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` 方法，创建对象。代码如下：

```java
// SpringApplication.java

/**
 * 创建对象的数组
 *
 * @param type 类型
 * @param parameterTypes 构造方法的参数类型
 * @param classLoader 类加载器
 * @param args 参数
 * @param names 类名集合
 * @param <T> 泛型
 * @return 对象数组
 */
@SuppressWarnings("unchecked")
private <T> List<T> createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes,
		ClassLoader classLoader, Object[] args, Set<String> names) {
	List<T> instances = new ArrayList<>(names.size());
	for (String name : names) {
		try {
			Class<?> instanceClass = ClassUtils.forName(name, classLoader);
			Assert.isAssignable(type, instanceClass);
			Constructor<?> constructor = instanceClass.getDeclaredConstructor(parameterTypes);
			T instance = (T) BeanUtils.instantiateClass(constructor, args);
			instances.add(instance);
		} catch (Throwable ex) {
			throw new IllegalArgumentException("Cannot instantiate " + type + " : " + name, ex);
		}
	}
	return instances;
}
```

通过反射，创建对象。

`<3>` 处，调用 `AnnotationAwareOrderComparator#sort(List<?> list)` 方法，排序对象数组。因为 ApplicationContextInitializer 可能有顺序，所以需要排序。关于 Order 的顺序，胖友可以看看 [《Spring 关于 Order 排序》](https://www.jianshu.com/p/62d5d5c4d09d) 文章。

`<2>` 处，调用 `#setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers)` 方法，设置初始化器。代码如下：

```java
// SpringApplication.java

/**
 * 初始化器集合
 */
private List<ApplicationContextInitializer<?>> initializers;

public void setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers) {
	this.initializers = new ArrayList<>();
	this.initializers.addAll(initializers);
}
```

## 2.3 监听器

`org.springframework.context.ApplicationListener` 接口，应用监听器接口。代码如下：

```java
// ApplicationListener.java

@FunctionalInterface
public interface ApplicationListener<E extends ApplicationEvent> extends EventListener {

	/**
	 * Handle an application event.
	 * @param event the event to respond to
	 */
	void onApplicationEvent(E event);

}
```

用于监听 Spring 应用的事件。关于 Spring 事件，可以看看 [《Spring 事件（Application Event）》》](https://blog.csdn.net/weixin_38106322/article/details/80386927) 文章。

`<3>` 处，和 [「2.2 初始化器」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 处，基本一致，也是加载监听器的实例数组，进行排序后，设置到 `listeners` 属性中。代码如下：

```java
// SpringApplication.java

/**
 * 监听器集合
 */
private List<ApplicationListener<?>> listeners;

public void setListeners(Collection<? extends ApplicationListener<?>> listeners) {
	this.listeners = new ArrayList<>();
	this.listeners.addAll(listeners);
}
```

## 2.4 推导主类

`#deduceMainApplicationClass()` 方法，推导主类。代码如下：

```java
// SpringApplication.java

/**
 * 主类
 */
private Class<?> mainApplicationClass;

private Class<?> deduceMainApplicationClass() {
	try {
		// 获得当前栈
		StackTraceElement[] stackTrace = new RuntimeException().getStackTrace();
		// 遍历，判断哪个执行 main 方法
		for (StackTraceElement stackTraceElement : stackTrace) {
			if ("main".equals(stackTraceElement.getMethodName())) {
				return Class.forName(stackTraceElement.getClassName());
			}
		}
	} catch (ClassNotFoundException ex) {
		// Swallow and continue
	}
	return null;
}
```

通过构造一个 RuntimeException 异常，通过异常栈中，哪个方法执行 `main` 方法，从而推导出主类。

# 3. 小结

至此，SpringApplication 对象的初始化，就已经完成。我们再来看一眼 `SpringApplication` 的构造方法，代码如下：

```java
// SpringApplication.java

public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources) {
	this.resourceLoader = resourceLoader;
	Assert.notNull(primarySources, "PrimarySources must not be null");
	this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));
	// <1> 判断 Web 应用类型
	this.webApplicationType = WebApplicationType.deduceFromClasspath();
	// <2> 设置初始化器
	setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));
	// <3> 设置监听器
	setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
	// <4> 推导主类
	this.mainApplicationClass = deduceMainApplicationClass();
}
```

`<1>` 处，通过 classpath 环境，判断 Web 应用类型。

`<2>` + `<3>` 处，通过 `spring.factories` 配置文件中，获得 ApplicationContextInitializer 和 ApplicationListener 的实现类，并进行排序。这样，就实现了 Spring Boot 的 SPI 机制，胖友可以好好体会下。

`<4>` 处，通过异常栈的方式，推导出主类。

2025-08-25 11:28:15,586 - evaluation_logger_Car-Rental-122 - INFO - Complete Result: {'score': 0, 'reason': "The response does not address any of the requested information about the vehicle, supplier's ratings, or user comments for the self-driving trip in Germany."}
2025-08-25 11:28:22,222 - evaluation_logger_Car-Rental-122 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 11:28:22,222 - evaluation_logger_Car-Rental-122 - INFO - Message: Success.
2025-08-25 11:28:22,222 - evaluation_logger_Car-Rental-122 - INFO - Success turn num = 3
2025-08-25 11:28:22,222 - evaluation_logger_Car-Rental-122 - INFO - ----------------------------------------------------------------------------------------------------
