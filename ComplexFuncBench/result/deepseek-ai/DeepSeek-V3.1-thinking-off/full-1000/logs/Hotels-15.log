2025-08-25 12:33:24,820 - evaluation_logger_Hotels-15 - INFO - Test Example Hotels-15
2025-08-25 12:33:24,821 - evaluation_logger_Hotels-15 - INFO - Query: Today is November 25th, 2024. I'm currently at a location with a latitude of 40.9042 and a longitude of 106.4074. Check the detailed information about all the available hotel rooms within 100 kilometers of here for tonight.
2025-08-25 12:33:37,986 - evaluation_logger_Hotels-15 - INFO - Function Calls: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "latitude": "40.9042",
            "longitude": "106.4074",
            "arrival_date": "2024-11-25",
            "departure_date": "2024-11-26",
            "radius": 100
        }
    }
]

2025-08-25 12:33:37,986 - evaluation_logger_Hotels-15 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Hotels_By_Coordinates",
        "arguments": {
            "latitude": "40.9042",
            "longitude": "106.4074",
            "arrival_date": "2024-11-25",
            "departure_date": "2024-11-26",
            "radius": 100
        }
    }
]

2025-08-25 12:33:37,986 - evaluation_logger_Hotels-15 - INFO - Start compare_single_call: 
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'latitude': '40.9042', 'longitude': '106.4074', 'radius': 100}}
{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'latitude': '40.9042', 'longitude': '106.4074', 'radius': 100}}
2025-08-25 12:33:37,986 - evaluation_logger_Hotels-15 - INFO - Rule-based compare success.
2025-08-25 12:33:37,986 - evaluation_logger_Hotels-15 - INFO - Success matched: [{'name': 'Search_Hotels_By_Coordinates', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'latitude': '40.9042', 'longitude': '106.4074', 'radius': 100}}]
2025-08-25 12:33:37,987 - evaluation_logger_Hotels-15 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "count": 1,
            "has_low_availability": 1,
            "page_loading_threshold": 10,
            "unfiltered_count": 2,
            "unfiltered_primary_count": 2,
            "result": [
                {
                    "hotel_id": 10279801,
                    "composite_price_breakdown": {
                        "gross_amount": {
                            "amount_unrounded": "US$41.94",
                            "amount_rounded": "US$42",
                            "value": 41.9441653492952,
                            "currency": "USD"
                        },
                        "included_taxes_and_charges_amount": {
                            "amount_unrounded": "US$0",
                            "amount_rounded": "US$0",
                            "value": 0,
                            "currency": "USD"
                        },
                        "net_amount": {
                            "value": 41.9441653492952,
                            "currency": "USD",
                            "amount_unrounded": "US$41.94",
                            "amount_rounded": "US$42"
                        },
                        "charges_details": {
                            "amount": {
                                "currency": "USD",
                                "value": 7
                            },
                            "mode": "extra_charges"
                        },
                        "price_display_config": [
                            {
                                "value": 0,
                                "key": "use_nightly_prices"
                            }
                        ],
                        "excluded_amount": {
                            "value": 6.962731447983,
                            "currency": "USD",
                            "amount_unrounded": "US$6.96",
                            "amount_rounded": "US$7"
                        },
                        "gross_amount_per_night": {
                            "value": 41.9441653492952,
                            "currency": "USD",
                            "amount_unrounded": "US$41.94",
                            "amount_rounded": "US$42"
                        },
                        "all_inclusive_amount_hotel_currency": {
                            "currency": "CNY",
                            "value": 348.00436,
                            "amount_rounded": "CNY 348",
                            "amount_unrounded": "CNY 348"
                        },
                        "gross_amount_hotel_currency": {
                            "value": 298.46,
                            "currency": "CNY",
                            "amount_unrounded": "CNY 298.46",
                            "amount_rounded": "CNY 298"
                        },
                        "has_long_stays_monthly_rate_price": 0,
                        "has_long_stays_weekly_rate_price": 0,
                        "items": [
                            {
                                "name": "VAT",
                                "base": {
                                    "percentage": 6,
                                    "kind": "percentage"
                                },
                                "kind": "charge",
                                "details": "6 % VAT",
                                "item_amount": {
                                    "currency": "USD",
                                    "value": 2.76831491305348,
                                    "amount_rounded": "US$3",
                                    "amount_unrounded": "US$2.77"
                                },
                                "inclusion_type": "excluded"
                            },
                            {
                                "details": "10 % Service charge",
                                "item_amount": {
                                    "amount_unrounded": "US$4.19",
                                    "amount_rounded": "US$4",
                                    "value": 4.19441653492952,
                                    "currency": "USD"
                                },
                                "inclusion_type": "excluded",
                                "name": "Service charge",
                                "base": {
                                    "percentage": 10,
                                    "kind": "percentage"
                                },
                                "kind": "charge"
                            }
                        ],
                        "all_inclusive_amount": {
                            "currency": "USD",
                            "value": 48.9068967972782,
                            "amount_rounded": "US$49",
                            "amount_unrounded": "US$48.91"
                        },
                        "client_translations": {
                            "tooltip_total_text": "Total"
                        }
                    },
                    "class_is_estimated": 1,
                    "has_free_parking": 1,
                    "ufi": 900055251,
                    "review_score": 10,
                    "block_ids": [
                        "1027980103_375544730_2_0_0"
                    ],
                    "is_free_cancellable": 1,
                    "hotel_has_vb_boost": 0,
                    "id": "property_card_10279801",
                    "city": "Bayannur",
                    "preferred_plus": 0,
                    "last_reservation_data": {
                        "last_reservation_ellapsed_months": 1
                    },
                    "currencycode": "CNY",
                    "class": 4,
                    "checkout": {
                        "until": "14:00"
                    },
                    "extended": 0,
                    "unit_configuration_label": "<b>Hotel room</b>: 1 bed",
                    "review_nr": 1,
                    "bwallet": {
                        "hotel_eligibility": 0
                    },
                    "timezone": "Asia/Shanghai",
                    "default_language": "zh",
                    "hotel_name": "Ramada by Wyndham Bayannur",
                    "review_score_word": "Exceptional",
                    "is_genius_deal": 0,
                    "type": "property_card",
                    "accommodation_type": 204,
                    "is_smart_deal": 0,
                    "longitude": 107.404785,
                    "is_no_prepayment_block": 1,
                    "default_wishlist_name": "Bayannur",
                    "preferred": 0,
                    "hotel_include_breakfast": 0,
                    "min_total_price": 298.46,
                    "genius_discount_percentage": 0,
                    "countrycode": "cn",
                    "city_in_trans": "in Bayannur",
                    "hotel_name_trans": "Ramada by Wyndham Bayannur",
                    "latitude": 40.760276,
                    "soldout": 0,
                    "checkin": {
                        "from": "14:00"
                    },
                    "main_photo_id": 471362017
                }
            ],
            "primary_count": 1,
            "extended_count": 0,
            "b_max_los_data": {
                "default_los": 45,
                "max_allowed_los": 90,
                "has_extended_los": 1,
                "is_fullon": 0,
                "extended_los": 90,
                "experiment": "long_stays_ios_extend_los_2"
            },
            "room_distribution": [
                {
                    "adults": "1"
                }
            ]
        }
    }
]

2025-08-25 12:33:48,857 - evaluation_logger_Hotels-15 - INFO - Function Calls: 
[
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "10279801",
            "arrival_date": "2024-11-25",
            "departure_date": "2024-11-26"
        }
    }
]

2025-08-25 12:33:48,857 - evaluation_logger_Hotels-15 - INFO - Golden Function Call: 
[
    {
        "name": "Get_Room_List_With_Availability",
        "arguments": {
            "hotel_id": "10279801",
            "arrival_date": "2024-11-25",
            "departure_date": "2024-11-26"
        }
    }
]

2025-08-25 12:33:48,857 - evaluation_logger_Hotels-15 - INFO - Start compare_single_call: 
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'hotel_id': '10279801'}}
{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'hotel_id': '10279801'}}
2025-08-25 12:33:48,857 - evaluation_logger_Hotels-15 - INFO - Rule-based compare success.
2025-08-25 12:33:48,857 - evaluation_logger_Hotels-15 - INFO - Success matched: [{'name': 'Get_Room_List_With_Availability', 'arguments': {'arrival_date': '2024-11-25', 'departure_date': '2024-11-26', 'hotel_id': '10279801'}}]
2025-08-25 12:33:48,859 - evaluation_logger_Hotels-15 - INFO - Observations:
[
    {
        "status": true,
        "available": [
            {
                "room_name": "Superior King Room - Non-Smoking",
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "content": "General",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "refundable_until": "2024-11-23 23:59:59 +0800",
                "is_domestic_rate": 0,
                "name_without_policy": "Superior King Room - Non-Smoking",
                "max_children_free_age": 12,
                "is_dormitory": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "genius_discount_percentage": 0,
                "breakfast_included": 0,
                "nr_adults": 2,
                "transactional_policy_objects": [
                    {
                        "icon": "checkmark_fill",
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "type": "datetime",
                                "value": "2024-11-24T00:00:00+08:00",
                                "key": "date"
                            },
                            {
                                "key": "timezone",
                                "value": "Asia/Shanghai",
                                "type": "timezone"
                            }
                        ],
                        "key": "FreeCancellationKey",
                        "text": "<b>Free cancellation</b> before {date}"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey"
                    }
                ],
                "room_id": 1027980103,
                "deposit_required": 0,
                "package_id": 0,
                "product_price_breakdown": {
                    "gross_amount_hotel_currency": {
                        "currency": "CNY",
                        "amount_rounded": "CNY 298",
                        "value": 298.46,
                        "amount_unrounded": "CNY 298.46"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "amount_unrounded": "CNY 348",
                        "amount_rounded": "CNY 348",
                        "value": 348.00436,
                        "currency": "CNY"
                    },
                    "has_long_stays_weekly_rate_price": 0,
                    "nr_stays": 9,
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "amount_unrounded": "US$41.94",
                        "amount_rounded": "US$42",
                        "value": 41.9441653492952
                    },
                    "gross_amount": {
                        "amount_unrounded": "US$41.94",
                        "value": 41.9441653492952,
                        "amount_rounded": "US$42",
                        "currency": "USD"
                    },
                    "charges_details": {
                        "mode": "extra_charges",
                        "amount": {
                            "currency": "USD",
                            "value": 7
                        }
                    },
                    "excluded_amount": {
                        "value": 6.962731447983,
                        "amount_rounded": "US$7",
                        "amount_unrounded": "US$6.96",
                        "currency": "USD"
                    },
                    "all_inclusive_amount": {
                        "amount_unrounded": "US$48.91",
                        "amount_rounded": "US$49",
                        "value": 48.9068967972782,
                        "currency": "USD"
                    },
                    "included_taxes_and_charges_amount": {
                        "value": 0,
                        "amount_rounded": "US$0",
                        "amount_unrounded": "US$0",
                        "currency": "USD"
                    },
                    "items": [
                        {
                            "inclusion_type": "excluded",
                            "details": "6 % VAT",
                            "name": "VAT",
                            "item_amount": {
                                "amount_unrounded": "US$2.77",
                                "amount_rounded": "US$3",
                                "value": 2.76831491305348,
                                "currency": "USD"
                            },
                            "kind": "charge",
                            "base": {
                                "percentage": 6,
                                "kind": "percentage"
                            }
                        },
                        {
                            "item_amount": {
                                "amount_rounded": "US$4",
                                "value": 4.19441653492952,
                                "amount_unrounded": "US$4.19",
                                "currency": "USD"
                            },
                            "name": "Service charge",
                            "inclusion_type": "excluded",
                            "details": "10 % Service charge",
                            "kind": "charge",
                            "base": {
                                "kind": "percentage",
                                "percentage": 10
                            }
                        }
                    ],
                    "net_amount": {
                        "amount_unrounded": "US$41.94",
                        "value": 41.9441653492952,
                        "amount_rounded": "US$42",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0
                },
                "smoking": 0,
                "nr_children": 0,
                "max_occupancy": 2,
                "mealplan": "There is no meal option with this room.",
                "is_block_fit": 1,
                "roomtype_id": 9,
                "name": "Superior King Room - Free cancellation - Non-Smoking",
                "must_reserve_free_parking": 0,
                "block_id": "1027980103_375544730_2_0_0",
                "paymentterms": {
                    "prepayment": {
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today",
                        "type": "no_prepayment",
                        "extended_type_translation": "No payment needed today",
                        "type_extended": "non_refundable_prepayment",
                        "timeline": {
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_raw": "2024-11-25 23:59:59",
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "18 October 2024 04:44",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "u_fee_pretty": "US$ 0",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1,
                                    "limit_until": "25 November 2024 23:59",
                                    "fee_remaining": 298.46,
                                    "u_stage_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "effective_number": 0,
                                    "b_number": 0,
                                    "fee_rounded": 0,
                                    "limit_from_time": "04:44",
                                    "text": "Before you stay you'll pay",
                                    "amount": "0.00",
                                    "amount_pretty": "US$ 0",
                                    "u_fee": "0.00",
                                    "is_free": 1,
                                    "u_fee_remaining": "41.94",
                                    "fee_remaining_pretty": "CNY 298",
                                    "fee": 0,
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 41",
                                    "limit_until_date": "25 November 2024",
                                    "b_state": "FREE",
                                    "limit_from_date": "18 October 2024"
                                },
                                {
                                    "amount": "41.94",
                                    "text": "At the property you'll pay",
                                    "after_checkin": 1,
                                    "is_free": 0,
                                    "amount_pretty": "US$ 41"
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-",
                            "currency_code": "CNY"
                        },
                        "description": "You'll pay during your stay."
                    },
                    "cancellation": {
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "timeline": {
                            "stages": [
                                {
                                    "b_number": 0,
                                    "effective_number": 0,
                                    "fee_rounded": 0,
                                    "text": "Free cancellation until 23:59 on 23 Nov",
                                    "limit_from_time": "04:44",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 23 November 2024.",
                                    "u_fee": "0.00",
                                    "is_free": 1,
                                    "u_fee_remaining": "41.94",
                                    "fee_remaining_pretty": "CNY 298",
                                    "fee": 0,
                                    "u_fee_remaining_pretty": "US$ 41",
                                    "stage_fee": 0,
                                    "b_state": "FREE",
                                    "limit_until_date": "23 November 2024",
                                    "limit_from_date": "18 October 2024",
                                    "limit_until_raw": "2024-11-23 23:59:59",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "stage_translation": "Free to cancel",
                                    "limit_from": "18 October 2024 04:44",
                                    "u_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-23 23:59:59 +0800",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1,
                                    "limit_until": "23 November 2024 23:59",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 298.46,
                                    "stage_fee_pretty": "CNY 0"
                                },
                                {
                                    "limit_until_raw": "2024-11-24 00:00:00",
                                    "limit_from_raw": "2024-11-24 00:00:00",
                                    "u_fee_pretty": "US$ 42",
                                    "is_effective": 1,
                                    "stage_translation": "No refund if you cancel",
                                    "fee_pretty": "CNY 298",
                                    "limit_from": "24 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 42",
                                    "limit_until_time": "00:00",
                                    "current_stage": 0,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 298",
                                    "u_stage_fee": "41.94",
                                    "fee_remaining": 0,
                                    "limit_until": "24 November 2024 00:00",
                                    "amount": 41.94,
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 24 Nov",
                                    "fee_rounded": 298,
                                    "b_number": 1,
                                    "effective_number": 1,
                                    "u_fee_remaining": "0.00",
                                    "is_free": 0,
                                    "u_fee": "41.94",
                                    "date_from": "2024-11-24 00:00:00 +0800",
                                    "amount_pretty": "US$ 42",
                                    "text_refundable": "If you cancel from 24 November 2024, you will no longer be eligible for a refund.",
                                    "fee": 298.46,
                                    "fee_remaining_pretty": "CNY 0",
                                    "limit_from_date": "24 November 2024",
                                    "b_state": "NONREF",
                                    "limit_until_date": "24 November 2024",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "stage_fee": 298.46
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-",
                            "u_currency_code": "USD",
                            "currency_code": "CNY"
                        },
                        "non_refundable_anymore": 0,
                        "guaranteed_non_refundable": 0,
                        "type": "free_cancellation",
                        "type_translation": "Free cancellation",
                        "bucket": "SMP_FLEX",
                        "info": {
                            "refundable_date": "2024-11-24T00:00:00+08:00",
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-23",
                            "is_midnight": 1,
                            "date_raw": "2024-11-24 00:00:00",
                            "time": "00:00",
                            "refundable": 1,
                            "date": "24 November 2024",
                            "refundable_date_midnight": "2024-11-23T23:59:59+08:00",
                            "date_before": "23 November 2024",
                            "timezone_offset": "28800",
                            "timezone": "CST"
                        }
                    }
                },
                "number_of_bedrooms": 0,
                "room_surface_in_feet2": 322.917312,
                "extrabed_available": 0,
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "description": "No prepayment is needed.",
                            "key": "NoPrepaymentKey",
                            "text": "Prepayment",
                            "type": "prepayment",
                            "icon": "credit_card"
                        },
                        {
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "key": "date",
                                    "format": "dMMMy",
                                    "type": "datetime"
                                },
                                {
                                    "value": "Asia/Shanghai",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    ],
                    "policies": [
                        {
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "key": "FreeCancellationKey",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "parameters": [
                                {
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "key": "date",
                                    "type": "datetime",
                                    "format": "dMMMy"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Shanghai",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill"
                        },
                        {
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "icon": "checkmark_fill"
                        }
                    ]
                },
                "all_inclusive": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "max_children_free": 0,
                "is_smart_deal": 0,
                "is_secret_deal": 0,
                "is_mobile_deal": 0,
                "policy_display_details": {
                    "prepayment": {
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment",
                        "title_details": {
                            "tag": "payment_npn_patp_name",
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1,
                            "translation": "<b>No prepayment needed</b> – pay at the property"
                        },
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        }
                    },
                    "cancellation": {
                        "policy_type_key": "free_cancellation",
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Shanghai)",
                            "parameters": {
                                "timezone": "Asia/Shanghai",
                                "date": "2024-11-24T00:00:00+08:00"
                            }
                        },
                        "type": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "title_details": {
                            "has_html": 1,
                            "translation": "<b>Free cancellation</b> before 24 November 2024",
                            "parameters": {
                                "timezone": "Asia/Shanghai",
                                "date": "24 November 2024",
                                "free_cancellation_deadline": "2024-11-24T00:00:00+08:00"
                            },
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}"
                        }
                    }
                },
                "babycots_available": 0,
                "full_board": 0,
                "is_last_minute_deal": 0,
                "refundable": 1,
                "room_surface_in_m2": 30,
                "number_of_bathrooms": 0,
                "room_count": 18,
                "is_flash_deal": 0,
                "half_board": 0,
                "can_reserve_free_parking": 1
            },
            {
                "breakfast_included": 0,
                "nr_adults": 2,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "genius_discount_percentage": 0,
                "max_children_free_age": 12,
                "is_dormitory": 0,
                "is_domestic_rate": 0,
                "name_without_policy": "Superior Room with Two Single Beds,  Non-Smoking",
                "block_text": {
                    "policies": [
                        {
                            "content": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "class": "POLICY_CANCELLATION"
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "General"
                        }
                    ]
                },
                "refundable_until": "2024-11-23 23:59:59 +0800",
                "room_name": "Superior Room with Two Single Beds,  Non-Smoking",
                "smoking": 0,
                "max_occupancy": 2,
                "nr_children": 0,
                "mealplan": "There is no meal option with this room.",
                "product_price_breakdown": {
                    "gross_amount_per_night": {
                        "amount_rounded": "US$42",
                        "value": 41.9441653492952,
                        "amount_unrounded": "US$41.94",
                        "currency": "USD"
                    },
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "nr_stays": 9,
                    "has_long_stays_weekly_rate_price": 0,
                    "all_inclusive_amount_hotel_currency": {
                        "amount_unrounded": "CNY 348",
                        "value": 348.00436,
                        "amount_rounded": "CNY 348",
                        "currency": "CNY"
                    },
                    "gross_amount_hotel_currency": {
                        "value": 298.46,
                        "amount_rounded": "CNY 298",
                        "amount_unrounded": "CNY 298.46",
                        "currency": "CNY"
                    },
                    "charges_details": {
                        "amount": {
                            "currency": "USD",
                            "value": 7
                        },
                        "mode": "extra_charges"
                    },
                    "gross_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$41.94",
                        "amount_rounded": "US$42",
                        "value": 41.9441653492952
                    },
                    "net_amount": {
                        "amount_unrounded": "US$41.94",
                        "value": 41.9441653492952,
                        "amount_rounded": "US$42",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "amount_rounded": "US$0",
                        "value": 0,
                        "amount_unrounded": "US$0"
                    },
                    "items": [
                        {
                            "name": "VAT",
                            "item_amount": {
                                "amount_unrounded": "US$2.77",
                                "value": 2.76831491305348,
                                "amount_rounded": "US$3",
                                "currency": "USD"
                            },
                            "details": "6 % VAT",
                            "inclusion_type": "excluded",
                            "kind": "charge",
                            "base": {
                                "percentage": 6,
                                "kind": "percentage"
                            }
                        },
                        {
                            "inclusion_type": "excluded",
                            "details": "10 % Service charge",
                            "item_amount": {
                                "amount_rounded": "US$4",
                                "value": 4.19441653492952,
                                "amount_unrounded": "US$4.19",
                                "currency": "USD"
                            },
                            "name": "Service charge",
                            "kind": "charge",
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            }
                        }
                    ],
                    "all_inclusive_amount": {
                        "amount_unrounded": "US$48.91",
                        "amount_rounded": "US$49",
                        "value": 48.9068967972782,
                        "currency": "USD"
                    },
                    "excluded_amount": {
                        "currency": "USD",
                        "amount_rounded": "US$7",
                        "value": 6.962731447983,
                        "amount_unrounded": "US$6.96"
                    }
                },
                "package_id": 0,
                "deposit_required": 0,
                "room_id": 1027980106,
                "transactional_policy_objects": [
                    {
                        "text": "<b>Free cancellation</b> before {date}",
                        "key": "FreeCancellationKey",
                        "icon": "checkmark_fill",
                        "parameters": [
                            {
                                "type": "datetime",
                                "format": "dMMMy",
                                "value": "2024-11-24T00:00:00+08:00",
                                "key": "date"
                            },
                            {
                                "type": "timezone",
                                "key": "timezone",
                                "value": "Asia/Shanghai"
                            }
                        ]
                    },
                    {
                        "key": "NoPrepaymentConstructiveKey",
                        "icon": "checkmark_fill",
                        "text": "<b>No prepayment needed</b> – pay at the property"
                    }
                ],
                "room_surface_in_feet2": 322.917312,
                "extrabed_available": 0,
                "number_of_bedrooms": 0,
                "transactional_policy_data": {
                    "booking_conditions": [
                        {
                            "icon": "credit_card",
                            "type": "prepayment",
                            "text": "Prepayment",
                            "key": "NoPrepaymentKey",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment"
                        },
                        {
                            "key": "FreeCancellationKey",
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "type": "datetime",
                                    "key": "date",
                                    "value": "2024-11-24T00:00:00+08:00"
                                },
                                {
                                    "value": "Asia/Shanghai",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}"
                        }
                    ],
                    "policies": [
                        {
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "key": "FreeCancellationKey",
                            "text": "<b>Free cancellation</b> before {date}",
                            "type": "cancellation",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "type": "timezone",
                                    "key": "timezone",
                                    "value": "Asia/Shanghai"
                                }
                            ],
                            "icon": "checkmark_fill"
                        },
                        {
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "icon": "checkmark_fill"
                        }
                    ]
                },
                "all_inclusive": 0,
                "paymentterms": {
                    "cancellation": {
                        "timeline": {
                            "currency_code": "CNY",
                            "stages": [
                                {
                                    "fee_rounded": 0,
                                    "b_number": 0,
                                    "effective_number": 0,
                                    "limit_from_time": "04:44",
                                    "text": "Free cancellation until 23:59 on 23 Nov",
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 23 November 2024.",
                                    "u_fee_remaining": "41.94",
                                    "fee_remaining_pretty": "CNY 298",
                                    "fee": 0,
                                    "u_fee_remaining_pretty": "US$ 41",
                                    "stage_fee": 0,
                                    "limit_from_date": "18 October 2024",
                                    "limit_until_date": "23 November 2024",
                                    "b_state": "FREE",
                                    "limit_until_raw": "2024-11-23 23:59:59",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "stage_translation": "Free to cancel",
                                    "fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "limit_from": "18 October 2024 04:44",
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-23 23:59:59 +0800",
                                    "u_fee_pretty": "US$ 0",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1,
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 298.46,
                                    "limit_until": "23 November 2024 23:59",
                                    "stage_fee_pretty": "CNY 0"
                                },
                                {
                                    "current_stage": 0,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 298",
                                    "fee_remaining": 0,
                                    "u_stage_fee": "41.94",
                                    "limit_until": "24 November 2024 00:00",
                                    "limit_from_raw": "2024-11-24 00:00:00",
                                    "limit_until_raw": "2024-11-24 00:00:00",
                                    "u_fee_pretty": "US$ 42",
                                    "limit_from": "24 November 2024 00:00",
                                    "fee_pretty": "CNY 298",
                                    "is_effective": 1,
                                    "stage_translation": "No refund if you cancel",
                                    "u_stage_fee_pretty": "US$ 42",
                                    "limit_until_time": "00:00",
                                    "fee": 298.46,
                                    "fee_remaining_pretty": "CNY 0",
                                    "limit_from_date": "24 November 2024",
                                    "limit_until_date": "24 November 2024",
                                    "b_state": "NONREF",
                                    "stage_fee": 298.46,
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 24 Nov",
                                    "amount": 41.94,
                                    "fee_rounded": 298,
                                    "effective_number": 1,
                                    "b_number": 1,
                                    "u_fee_remaining": "0.00",
                                    "u_fee": "41.94",
                                    "is_free": 0,
                                    "date_from": "2024-11-24 00:00:00 +0800",
                                    "text_refundable": "If you cancel from 24 November 2024, you will no longer be eligible for a refund.",
                                    "amount_pretty": "US$ 42"
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-",
                            "u_currency_code": "USD"
                        },
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "non_refundable_anymore": 0,
                        "guaranteed_non_refundable": 0,
                        "type_translation": "Free cancellation",
                        "type": "free_cancellation",
                        "bucket": "SMP_FLEX",
                        "info": {
                            "refundable_date": "2024-11-24T00:00:00+08:00",
                            "date_before_raw": "2024-11-23",
                            "time_before_midnight": "23:59",
                            "is_midnight": 1,
                            "date_raw": "2024-11-24 00:00:00",
                            "time": "00:00",
                            "refundable": 1,
                            "date": "24 November 2024",
                            "refundable_date_midnight": "2024-11-23T23:59:59+08:00",
                            "timezone_offset": "28800",
                            "date_before": "23 November 2024",
                            "timezone": "CST"
                        }
                    },
                    "prepayment": {
                        "type_translation": "No payment needed today",
                        "type": "no_prepayment",
                        "simple_translation": "No prepayment",
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "timeline": {
                            "policygroup_instance_id": "36/152/-",
                            "nr_stages": 2,
                            "stages": [
                                {
                                    "stage_fee_pretty": "CNY 0",
                                    "limit_until": "25 November 2024 23:59",
                                    "fee_remaining": 298.46,
                                    "u_stage_fee": "0.00",
                                    "current_stage": 1,
                                    "limit_timezone": "Bayannur",
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "18 October 2024 04:44",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_raw": "2024-11-25 23:59:59",
                                    "b_state": "FREE",
                                    "limit_until_date": "25 November 2024",
                                    "limit_from_date": "18 October 2024",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 41",
                                    "fee": 0,
                                    "fee_remaining_pretty": "CNY 298",
                                    "u_fee_remaining": "41.94",
                                    "amount_pretty": "US$ 0",
                                    "u_fee": "0.00",
                                    "is_free": 1,
                                    "text": "Before you stay you'll pay",
                                    "limit_from_time": "04:44",
                                    "amount": "0.00",
                                    "effective_number": 0,
                                    "b_number": 0,
                                    "fee_rounded": 0
                                },
                                {
                                    "after_checkin": 1,
                                    "is_free": 0,
                                    "amount_pretty": "US$ 41",
                                    "amount": "41.94",
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "u_currency_code": "USD",
                            "currency_code": "CNY"
                        },
                        "extended_type_translation": "No payment needed today",
                        "type_extended": "non_refundable_prepayment",
                        "description": "You'll pay during your stay."
                    }
                },
                "must_reserve_free_parking": 0,
                "block_id": "1027980106_375544730_2_0_0",
                "is_block_fit": 1,
                "name": "Superior Room with Two Single Beds,  Non-Smoking - Free cancellation",
                "roomtype_id": 9,
                "is_flash_deal": 0,
                "half_board": 0,
                "can_reserve_free_parking": 1,
                "number_of_bathrooms": 0,
                "room_count": 9,
                "room_surface_in_m2": 30,
                "refundable": 1,
                "full_board": 0,
                "is_last_minute_deal": 0,
                "policy_display_details": {
                    "prepayment": {
                        "title_details": {
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name"
                        },
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        },
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment"
                    },
                    "cancellation": {
                        "type": "free_cancellation",
                        "clarification_details": {
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Shanghai)",
                            "parameters": {
                                "date": "2024-11-24T00:00:00+08:00",
                                "timezone": "Asia/Shanghai"
                            }
                        },
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "title_details": {
                            "translation": "<b>Free cancellation</b> before 24 November 2024",
                            "parameters": {
                                "free_cancellation_deadline": "2024-11-24T00:00:00+08:00",
                                "timezone": "Asia/Shanghai",
                                "date": "24 November 2024"
                            },
                            "has_html": 1,
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "tag": "cxl_fc_before_short_date_with_year_name"
                        },
                        "policy_type_key": "free_cancellation",
                        "description_details": {
                            "translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        }
                    }
                },
                "babycots_available": 0,
                "is_mobile_deal": 0,
                "is_smart_deal": 0,
                "is_secret_deal": 0,
                "max_children_free": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0
            },
            {
                "transactional_policy_objects": [
                    {
                        "key": "FreeCancellationKey",
                        "icon": "checkmark_fill",
                        "parameters": [
                            {
                                "value": "2024-11-24T00:00:00+08:00",
                                "key": "date",
                                "format": "dMMMy",
                                "type": "datetime"
                            },
                            {
                                "type": "timezone",
                                "value": "Asia/Shanghai",
                                "key": "timezone"
                            }
                        ],
                        "text": "<b>Free cancellation</b> before {date}"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey"
                    }
                ],
                "room_id": 1027980101,
                "deposit_required": 0,
                "package_id": 0,
                "product_price_breakdown": {
                    "items": [
                        {
                            "name": "VAT",
                            "item_amount": {
                                "currency": "USD",
                                "value": 3.24562338127613,
                                "amount_rounded": "US$3",
                                "amount_unrounded": "US$3.25"
                            },
                            "details": "6 % VAT",
                            "inclusion_type": "excluded",
                            "kind": "charge",
                            "base": {
                                "kind": "percentage",
                                "percentage": 6
                            }
                        },
                        {
                            "name": "Service charge",
                            "kind": "charge",
                            "item_amount": {
                                "value": 4.91761118375172,
                                "amount_rounded": "US$5",
                                "amount_unrounded": "US$4.92",
                                "currency": "USD"
                            },
                            "base": {
                                "kind": "percentage",
                                "percentage": 10
                            },
                            "inclusion_type": "excluded",
                            "details": "10 % Service charge"
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "amount_rounded": "US$0",
                        "value": 0,
                        "amount_unrounded": "US$0"
                    },
                    "excluded_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$8.16",
                        "amount_rounded": "US$8",
                        "value": 8.16323456502785
                    },
                    "all_inclusive_amount": {
                        "amount_rounded": "US$57",
                        "value": 57.339346402545,
                        "amount_unrounded": "US$57.34",
                        "currency": "USD"
                    },
                    "net_amount": {
                        "amount_rounded": "US$49",
                        "value": 49.1761118375172,
                        "amount_unrounded": "US$49.18",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "has_long_stays_weekly_rate_price": 0,
                    "gross_amount_hotel_currency": {
                        "currency": "CNY",
                        "amount_unrounded": "CNY 349.92",
                        "value": 349.92,
                        "amount_rounded": "CNY 350"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "amount_rounded": "CNY 408",
                        "value": 408.00672,
                        "amount_unrounded": "CNY 408.01",
                        "currency": "CNY"
                    },
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "amount_unrounded": "US$49.18",
                        "value": 49.1761118375172,
                        "amount_rounded": "US$49"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "price_display_config": [
                        {
                            "value": 0,
                            "key": "use_nightly_prices"
                        }
                    ],
                    "nr_stays": 9,
                    "charges_details": {
                        "amount": {
                            "value": 8,
                            "currency": "USD"
                        },
                        "mode": "extra_charges"
                    },
                    "gross_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$49.18",
                        "value": 49.1761118375172,
                        "amount_rounded": "US$49"
                    }
                },
                "smoking": 0,
                "nr_children": 0,
                "max_occupancy": 2,
                "mealplan": "There is no meal option with this room.",
                "room_name": "Executive King Room - Non-Smoking",
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "class": "POLICY_TITLE",
                            "content": "General"
                        }
                    ]
                },
                "refundable_until": "2024-11-23 23:59:59 +0800",
                "is_domestic_rate": 0,
                "name_without_policy": "Executive King Room - Non-Smoking",
                "max_children_free_age": 12,
                "is_dormitory": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "genius_discount_percentage": 0,
                "breakfast_included": 0,
                "nr_adults": 2,
                "max_children_free": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "is_secret_deal": 0,
                "is_smart_deal": 0,
                "is_mobile_deal": 0,
                "policy_display_details": {
                    "cancellation": {
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "policy_type_key": "free_cancellation",
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "title_details": {
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "has_html": 1,
                            "translation": "<b>Free cancellation</b> before 24 November 2024",
                            "parameters": {
                                "free_cancellation_deadline": "2024-11-24T00:00:00+08:00",
                                "date": "24 November 2024",
                                "timezone": "Asia/Shanghai"
                            }
                        },
                        "clarification_details": {
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Shanghai)",
                            "parameters": {
                                "timezone": "Asia/Shanghai",
                                "date": "2024-11-24T00:00:00+08:00"
                            },
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone"
                        },
                        "type": "free_cancellation"
                    },
                    "prepayment": {
                        "type": "no_prepayment",
                        "policy_type_key": "patp_without_prepayment",
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "title_details": {
                            "has_html": 1,
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property"
                        }
                    }
                },
                "babycots_available": 0,
                "full_board": 0,
                "is_last_minute_deal": 0,
                "refundable": 1,
                "room_surface_in_m2": 32,
                "number_of_bathrooms": 0,
                "room_count": 9,
                "is_flash_deal": 0,
                "half_board": 0,
                "can_reserve_free_parking": 1,
                "is_block_fit": 1,
                "name": "Executive King Room - Free cancellation - Non-Smoking",
                "roomtype_id": 9,
                "must_reserve_free_parking": 0,
                "block_id": "1027980101_375544730_2_0_0",
                "paymentterms": {
                    "cancellation": {
                        "type": "free_cancellation",
                        "type_translation": "Free cancellation",
                        "bucket": "SMP_FLEX",
                        "info": {
                            "refundable_date": "2024-11-24T00:00:00+08:00",
                            "is_midnight": 1,
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-23",
                            "date_raw": "2024-11-24 00:00:00",
                            "refundable_date_midnight": "2024-11-23T23:59:59+08:00",
                            "timezone_offset": "28800",
                            "date_before": "23 November 2024",
                            "timezone": "CST",
                            "time": "00:00",
                            "date": "24 November 2024",
                            "refundable": 1
                        },
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "timeline": {
                            "currency_code": "CNY",
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "fee_remaining_pretty": "CNY 349",
                                    "fee": 0,
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 49",
                                    "limit_until_date": "23 November 2024",
                                    "b_state": "FREE",
                                    "limit_from_date": "18 October 2024",
                                    "effective_number": 0,
                                    "b_number": 0,
                                    "fee_rounded": 0,
                                    "text": "Free cancellation until 23:59 on 23 Nov",
                                    "limit_from_time": "04:44",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 23 November 2024.",
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "u_fee_remaining": "49.18",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1,
                                    "limit_until": "23 November 2024 23:59",
                                    "fee_remaining": 349.92,
                                    "u_stage_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_raw": "2024-11-23 23:59:59",
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "18 October 2024 04:44",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "stage_translation": "Free to cancel",
                                    "u_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-23 23:59:59 +0800"
                                },
                                {
                                    "limit_until_raw": "2024-11-24 00:00:00",
                                    "limit_from_raw": "2024-11-24 00:00:00",
                                    "u_fee_pretty": "US$ 49",
                                    "fee_pretty": "CNY 349",
                                    "stage_translation": "No refund if you cancel",
                                    "is_effective": 1,
                                    "limit_from": "24 November 2024 00:00",
                                    "limit_until_time": "00:00",
                                    "u_stage_fee_pretty": "US$ 49",
                                    "current_stage": 0,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 350",
                                    "u_stage_fee": "49.18",
                                    "fee_remaining": 0,
                                    "limit_until": "24 November 2024 00:00",
                                    "amount": 49.18,
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 24 Nov",
                                    "fee_rounded": 350,
                                    "b_number": 1,
                                    "effective_number": 1,
                                    "u_fee_remaining": "0.00",
                                    "is_free": 0,
                                    "u_fee": "49.18",
                                    "text_refundable": "If you cancel from 24 November 2024, you will no longer be eligible for a refund.",
                                    "date_from": "2024-11-24 00:00:00 +0800",
                                    "amount_pretty": "US$ 49",
                                    "fee": 349.92,
                                    "fee_remaining_pretty": "CNY 0",
                                    "limit_from_date": "24 November 2024",
                                    "limit_until_date": "24 November 2024",
                                    "b_state": "NONREF",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "stage_fee": 349.92
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-"
                        },
                        "non_refundable_anymore": 0,
                        "guaranteed_non_refundable": 0
                    },
                    "prepayment": {
                        "type_extended": "non_refundable_prepayment",
                        "extended_type_translation": "No payment needed today",
                        "timeline": {
                            "policygroup_instance_id": "36/152/-",
                            "nr_stages": 2,
                            "stages": [
                                {
                                    "amount_pretty": "US$ 0",
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "u_fee_remaining": "49.18",
                                    "effective_number": 0,
                                    "b_number": 0,
                                    "fee_rounded": 0,
                                    "text": "Before you stay you'll pay",
                                    "limit_from_time": "04:44",
                                    "amount": "0.00",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 49",
                                    "b_state": "FREE",
                                    "limit_until_date": "25 November 2024",
                                    "limit_from_date": "18 October 2024",
                                    "fee_remaining_pretty": "CNY 349",
                                    "fee": 0,
                                    "limit_until_time": "23:59",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_from": "18 October 2024 04:44",
                                    "fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "u_fee_pretty": "US$ 0",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_raw": "2024-11-25 23:59:59",
                                    "limit_until": "25 November 2024 23:59",
                                    "fee_remaining": 349.92,
                                    "u_stage_fee": "0.00",
                                    "stage_fee_pretty": "CNY 0",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1
                                },
                                {
                                    "text": "At the property you'll pay",
                                    "amount": "49.18",
                                    "amount_pretty": "US$ 49",
                                    "is_free": 0,
                                    "after_checkin": 1
                                }
                            ],
                            "u_currency_code": "USD",
                            "currency_code": "CNY"
                        },
                        "description": "You'll pay during your stay.",
                        "simple_translation": "No prepayment",
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "type_translation": "No payment needed today",
                        "type": "no_prepayment"
                    }
                },
                "room_surface_in_feet2": 344.4451328,
                "extrabed_available": 0,
                "number_of_bedrooms": 0,
                "transactional_policy_data": {
                    "policies": [
                        {
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "key": "date",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "type": "datetime",
                                    "format": "dMMMy"
                                },
                                {
                                    "value": "Asia/Shanghai",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "key": "FreeCancellationKey"
                        },
                        {
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentConstructiveKey",
                            "type": "prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "icon": "checkmark_fill"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentKey",
                            "type": "prepayment",
                            "text": "Prepayment",
                            "icon": "credit_card"
                        },
                        {
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "key": "FreeCancellationKey",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "key": "date",
                                    "value": "2024-11-24T00:00:00+08:00"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Shanghai",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill"
                        }
                    ]
                },
                "all_inclusive": 0
            },
            {
                "availableText": "Only 6 rooms left on Booking.com",
                "available": 6,
                "block_id": "1027980105_375544730_2_0_0",
                "must_reserve_free_parking": 0,
                "name": "Executive Room with Two Single Beds, Non-Smoking - Free cancellation",
                "roomtype_id": 9,
                "is_block_fit": 1,
                "all_inclusive": 0,
                "transactional_policy_data": {
                    "policies": [
                        {
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "text": "<b>Free cancellation</b> before {date}",
                            "icon": "checkmark_fill",
                            "parameters": [
                                {
                                    "format": "dMMMy",
                                    "type": "datetime",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "type": "timezone",
                                    "value": "Asia/Shanghai",
                                    "key": "timezone"
                                }
                            ],
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "key": "FreeCancellationKey"
                        },
                        {
                            "key": "NoPrepaymentConstructiveKey",
                            "policy_type_key": "patp_without_prepayment",
                            "description": "No prepayment is needed.",
                            "icon": "checkmark_fill",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "type": "prepayment"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "policy_type_key": "patp_without_prepayment",
                            "description": "No prepayment is needed.",
                            "key": "NoPrepaymentKey",
                            "text": "Prepayment",
                            "type": "prepayment",
                            "icon": "credit_card"
                        },
                        {
                            "parameters": [
                                {
                                    "key": "date",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "type": "datetime",
                                    "format": "dMMMy"
                                },
                                {
                                    "value": "Asia/Shanghai",
                                    "key": "timezone",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "key": "FreeCancellationKey",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation"
                        }
                    ]
                },
                "extrabed_available": 0,
                "room_surface_in_feet2": 344.4451328,
                "number_of_bedrooms": 0,
                "paymentterms": {
                    "cancellation": {
                        "timeline": {
                            "policygroup_instance_id": "36/152/-",
                            "stages": [
                                {
                                    "u_fee_pretty": "US$ 0",
                                    "date_until": "2024-11-23 23:59:59 +0800",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59",
                                    "limit_from": "18 October 2024 04:44",
                                    "fee_pretty": "CNY 0",
                                    "stage_translation": "Free to cancel",
                                    "is_effective": 1,
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "limit_until_raw": "2024-11-23 23:59:59",
                                    "stage_fee_pretty": "CNY 0",
                                    "limit_until": "23 November 2024 23:59",
                                    "fee_remaining": 349.92,
                                    "u_stage_fee": "0.00",
                                    "current_stage": 1,
                                    "limit_timezone": "Bayannur",
                                    "u_fee_remaining": "49.18",
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 23 November 2024.",
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "limit_from_time": "04:44",
                                    "text": "Free cancellation until 23:59 on 23 Nov",
                                    "effective_number": 0,
                                    "b_number": 0,
                                    "fee_rounded": 0,
                                    "b_state": "FREE",
                                    "limit_until_date": "23 November 2024",
                                    "limit_from_date": "18 October 2024",
                                    "stage_fee": 0,
                                    "u_fee_remaining_pretty": "US$ 49",
                                    "fee": 0,
                                    "fee_remaining_pretty": "CNY 349"
                                },
                                {
                                    "limit_from": "24 November 2024 00:00",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 349",
                                    "stage_translation": "No refund if you cancel",
                                    "limit_until_time": "00:00",
                                    "u_stage_fee_pretty": "US$ 49",
                                    "u_fee_pretty": "US$ 49",
                                    "limit_from_raw": "2024-11-24 00:00:00",
                                    "limit_until_raw": "2024-11-24 00:00:00",
                                    "fee_remaining": 0,
                                    "u_stage_fee": "49.18",
                                    "limit_until": "24 November 2024 00:00",
                                    "stage_fee_pretty": "CNY 350",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 0,
                                    "is_free": 0,
                                    "u_fee": "49.18",
                                    "date_from": "2024-11-24 00:00:00 +0800",
                                    "text_refundable": "If you cancel from 24 November 2024, you will no longer be eligible for a refund.",
                                    "amount_pretty": "US$ 49",
                                    "u_fee_remaining": "0.00",
                                    "fee_rounded": 350,
                                    "effective_number": 1,
                                    "b_number": 1,
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 24 Nov",
                                    "amount": 49.18,
                                    "stage_fee": 349.92,
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "limit_from_date": "24 November 2024",
                                    "b_state": "NONREF",
                                    "limit_until_date": "24 November 2024",
                                    "fee_remaining_pretty": "CNY 0",
                                    "fee": 349.92
                                }
                            ],
                            "nr_stages": 2,
                            "u_currency_code": "USD",
                            "currency_code": "CNY"
                        },
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "non_refundable_anymore": 0,
                        "guaranteed_non_refundable": 0,
                        "type_translation": "Free cancellation",
                        "type": "free_cancellation",
                        "bucket": "SMP_FLEX",
                        "info": {
                            "refundable_date_midnight": "2024-11-23T23:59:59+08:00",
                            "timezone_offset": "28800",
                            "date_before": "23 November 2024",
                            "timezone": "CST",
                            "time": "00:00",
                            "date": "24 November 2024",
                            "refundable": 1,
                            "refundable_date": "2024-11-24T00:00:00+08:00",
                            "is_midnight": 1,
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-23",
                            "date_raw": "2024-11-24 00:00:00"
                        }
                    },
                    "prepayment": {
                        "timeline": {
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "amount_pretty": "US$ 0",
                                    "u_fee_remaining": "49.18",
                                    "fee_rounded": 0,
                                    "b_number": 0,
                                    "effective_number": 0,
                                    "amount": "0.00",
                                    "text": "Before you stay you'll pay",
                                    "limit_from_time": "04:44",
                                    "u_fee_remaining_pretty": "US$ 49",
                                    "stage_fee": 0,
                                    "limit_from_date": "18 October 2024",
                                    "limit_until_date": "25 November 2024",
                                    "b_state": "FREE",
                                    "fee_remaining_pretty": "CNY 349",
                                    "fee": 0,
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "limit_from": "18 October 2024 04:44",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59",
                                    "u_fee_pretty": "US$ 0",
                                    "limit_until_raw": "2024-11-25 23:59:59",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 349.92,
                                    "limit_until": "25 November 2024 23:59",
                                    "stage_fee_pretty": "CNY 0",
                                    "limit_timezone": "Bayannur",
                                    "current_stage": 1
                                },
                                {
                                    "after_checkin": 1,
                                    "is_free": 0,
                                    "amount_pretty": "US$ 49",
                                    "amount": "49.18",
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-",
                            "currency_code": "CNY"
                        },
                        "type_extended": "non_refundable_prepayment",
                        "extended_type_translation": "No payment needed today",
                        "description": "You'll pay during your stay.",
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        },
                        "simple_translation": "No prepayment",
                        "type_translation": "No payment needed today",
                        "type": "no_prepayment"
                    }
                },
                "babycots_available": 0,
                "policy_display_details": {
                    "cancellation": {
                        "policy_type_key": "free_cancellation",
                        "description_details": {
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "clarification_details": {
                            "parameters": {
                                "date": "2024-11-24T00:00:00+08:00",
                                "timezone": "Asia/Shanghai"
                            },
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Shanghai)",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "tag": "clarification_cancellation_deadline_in_property_timezone"
                        },
                        "type": "free_cancellation",
                        "title_details": {
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "tag": "cxl_fc_before_short_date_with_year_name",
                            "parameters": {
                                "date": "24 November 2024",
                                "timezone": "Asia/Shanghai",
                                "free_cancellation_deadline": "2024-11-24T00:00:00+08:00"
                            },
                            "translation": "<b>Free cancellation</b> before 24 November 2024",
                            "has_html": 1
                        },
                        "parameters": {
                            "has_cancellation_fee": 0
                        }
                    },
                    "prepayment": {
                        "title_details": {
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1,
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name"
                        },
                        "description_details": {
                            "translation": "No prepayment is needed.",
                            "placeholder_translation": "No prepayment is needed."
                        },
                        "policy_type_key": "patp_without_prepayment",
                        "type": "no_prepayment"
                    }
                },
                "is_secret_deal": 0,
                "is_mobile_deal": 0,
                "is_smart_deal": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "max_children_free": 0,
                "can_reserve_free_parking": 1,
                "half_board": 0,
                "is_flash_deal": 0,
                "room_count": 6,
                "number_of_bathrooms": 0,
                "room_surface_in_m2": 32,
                "refundable": 1,
                "is_last_minute_deal": 0,
                "full_board": 0,
                "name_without_policy": "Executive Room with Two Single Beds, Non-Smoking",
                "is_domestic_rate": 0,
                "refundable_until": "2024-11-23 23:59:59 +0800",
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "content": "No prepayment is needed.",
                            "class": "POLICY_PREPAY"
                        },
                        {
                            "content": "General",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "room_name": "Executive Room with Two Single Beds, Non-Smoking",
                "nr_adults": 2,
                "breakfast_included": 0,
                "genius_discount_percentage": 0,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "is_dormitory": 0,
                "max_children_free_age": 12,
                "deposit_required": 0,
                "room_id": 1027980105,
                "transactional_policy_objects": [
                    {
                        "text": "<b>Free cancellation</b> before {date}",
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "type": "datetime",
                                "value": "2024-11-24T00:00:00+08:00",
                                "key": "date"
                            },
                            {
                                "key": "timezone",
                                "value": "Asia/Shanghai",
                                "type": "timezone"
                            }
                        ],
                        "icon": "checkmark_fill",
                        "key": "FreeCancellationKey"
                    },
                    {
                        "text": "<b>No prepayment needed</b> – pay at the property",
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey"
                    }
                ],
                "mealplan": "There is no meal option with this room.",
                "max_occupancy": 2,
                "nr_children": 0,
                "smoking": 0,
                "product_price_breakdown": {
                    "gross_amount_per_night": {
                        "currency": "USD",
                        "amount_unrounded": "US$49.18",
                        "amount_rounded": "US$49",
                        "value": 49.1761118375172
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "nr_stays": 6,
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "has_long_stays_weekly_rate_price": 0,
                    "gross_amount_hotel_currency": {
                        "currency": "CNY",
                        "amount_unrounded": "CNY 349.92",
                        "value": 349.92,
                        "amount_rounded": "CNY 350"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "currency": "CNY",
                        "value": 408.00672,
                        "amount_rounded": "CNY 408",
                        "amount_unrounded": "CNY 408.01"
                    },
                    "charges_details": {
                        "mode": "extra_charges",
                        "amount": {
                            "currency": "USD",
                            "value": 8
                        }
                    },
                    "gross_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$49.18",
                        "value": 49.1761118375172,
                        "amount_rounded": "US$49"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "net_amount": {
                        "amount_rounded": "US$49",
                        "value": 49.1761118375172,
                        "amount_unrounded": "US$49.18",
                        "currency": "USD"
                    },
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$0",
                        "value": 0,
                        "amount_rounded": "US$0"
                    },
                    "items": [
                        {
                            "details": "6 % VAT",
                            "inclusion_type": "excluded",
                            "name": "VAT",
                            "item_amount": {
                                "amount_unrounded": "US$3.25",
                                "value": 3.24562338127613,
                                "amount_rounded": "US$3",
                                "currency": "USD"
                            },
                            "kind": "charge",
                            "base": {
                                "kind": "percentage",
                                "percentage": 6
                            }
                        },
                        {
                            "details": "10 % Service charge",
                            "inclusion_type": "excluded",
                            "item_amount": {
                                "currency": "USD",
                                "amount_unrounded": "US$4.92",
                                "amount_rounded": "US$5",
                                "value": 4.91761118375172
                            },
                            "name": "Service charge",
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            },
                            "kind": "charge"
                        }
                    ],
                    "all_inclusive_amount": {
                        "currency": "USD",
                        "amount_rounded": "US$57",
                        "value": 57.339346402545,
                        "amount_unrounded": "US$57.34"
                    },
                    "excluded_amount": {
                        "amount_unrounded": "US$8.16",
                        "amount_rounded": "US$8",
                        "value": 8.16323456502785,
                        "currency": "USD"
                    }
                },
                "package_id": 0
            },
            {
                "availableText": "Only 3 left on Booking.com",
                "available": 3,
                "room_name": "Superior King Suite - Non-Smoking",
                "refundable_until": "2024-11-23 23:59:59 +0800",
                "block_text": {
                    "policies": [
                        {
                            "class": "POLICY_CANCELLATION",
                            "content": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        {
                            "class": "POLICY_PREPAY",
                            "content": "No prepayment is needed."
                        },
                        {
                            "content": "General",
                            "class": "POLICY_TITLE"
                        }
                    ]
                },
                "name_without_policy": "Superior King Suite - Non-Smoking",
                "is_domestic_rate": 0,
                "is_dormitory": 0,
                "max_children_free_age": 12,
                "deals": {
                    "deal_attributes": {
                        "has_secret_channel_option": 0
                    }
                },
                "genius_discount_percentage": 0,
                "breakfast_included": 0,
                "nr_adults": 2,
                "transactional_policy_objects": [
                    {
                        "text": "<b>Free cancellation</b> before {date}",
                        "key": "FreeCancellationKey",
                        "parameters": [
                            {
                                "format": "dMMMy",
                                "type": "datetime",
                                "key": "date",
                                "value": "2024-11-24T00:00:00+08:00"
                            },
                            {
                                "value": "Asia/Shanghai",
                                "key": "timezone",
                                "type": "timezone"
                            }
                        ],
                        "icon": "checkmark_fill"
                    },
                    {
                        "icon": "checkmark_fill",
                        "key": "NoPrepaymentConstructiveKey",
                        "text": "<b>No prepayment needed</b> – pay at the property"
                    }
                ],
                "room_id": 1027980104,
                "deposit_required": 0,
                "package_id": 0,
                "product_price_breakdown": {
                    "net_amount": {
                        "value": 72.0763388148932,
                        "amount_rounded": "US$72",
                        "amount_unrounded": "US$72.08",
                        "currency": "USD"
                    },
                    "has_long_stays_monthly_rate_price": 0,
                    "excluded_amount": {
                        "amount_rounded": "US$12",
                        "value": 11.9646722432723,
                        "amount_unrounded": "US$11.96",
                        "currency": "USD"
                    },
                    "all_inclusive_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$84.04",
                        "value": 84.0410110581655,
                        "amount_rounded": "US$84"
                    },
                    "items": [
                        {
                            "base": {
                                "percentage": 6,
                                "kind": "percentage"
                            },
                            "kind": "charge",
                            "name": "VAT",
                            "item_amount": {
                                "currency": "USD",
                                "amount_unrounded": "US$4.76",
                                "value": 4.75703836178295,
                                "amount_rounded": "US$5"
                            },
                            "inclusion_type": "excluded",
                            "details": "6 % VAT"
                        },
                        {
                            "details": "10 % Service charge",
                            "inclusion_type": "excluded",
                            "name": "Service charge",
                            "item_amount": {
                                "amount_unrounded": "US$7.21",
                                "amount_rounded": "US$7",
                                "value": 7.20763388148932,
                                "currency": "USD"
                            },
                            "base": {
                                "percentage": 10,
                                "kind": "percentage"
                            },
                            "kind": "charge"
                        }
                    ],
                    "included_taxes_and_charges_amount": {
                        "currency": "USD",
                        "amount_unrounded": "US$0",
                        "value": 0,
                        "amount_rounded": "US$0"
                    },
                    "gross_amount": {
                        "amount_rounded": "US$72",
                        "value": 72.0763388148932,
                        "amount_unrounded": "US$72.08",
                        "currency": "USD"
                    },
                    "charges_details": {
                        "amount": {
                            "value": 12,
                            "currency": "USD"
                        },
                        "mode": "extra_charges"
                    },
                    "client_translations": {
                        "tooltip_total_text": "Total"
                    },
                    "price_display_config": [
                        {
                            "key": "use_nightly_prices",
                            "value": 0
                        }
                    ],
                    "nr_stays": 3,
                    "gross_amount_per_night": {
                        "amount_unrounded": "US$72.08",
                        "amount_rounded": "US$72",
                        "value": 72.0763388148932,
                        "currency": "USD"
                    },
                    "all_inclusive_amount_hotel_currency": {
                        "value": 598.00642,
                        "amount_rounded": "CNY 598",
                        "amount_unrounded": "CNY 598.01",
                        "currency": "CNY"
                    },
                    "gross_amount_hotel_currency": {
                        "value": 512.87,
                        "amount_rounded": "CNY 513",
                        "amount_unrounded": "CNY 512.87",
                        "currency": "CNY"
                    },
                    "has_long_stays_weekly_rate_price": 0
                },
                "nr_children": 0,
                "max_occupancy": 2,
                "smoking": 0,
                "mealplan": "There is no meal option with this room.",
                "is_block_fit": 1,
                "name": "Superior King Suite - Free cancellation - Non-Smoking",
                "roomtype_id": 5,
                "must_reserve_free_parking": 0,
                "block_id": "1027980104_375544730_2_0_0",
                "paymentterms": {
                    "prepayment": {
                        "timeline": {
                            "u_currency_code": "USD",
                            "policygroup_instance_id": "36/152/-",
                            "nr_stages": 2,
                            "stages": [
                                {
                                    "fee": 0,
                                    "fee_remaining_pretty": "CNY 512",
                                    "limit_from_date": "18 October 2024",
                                    "b_state": "FREE",
                                    "limit_until_date": "25 November 2024",
                                    "u_fee_remaining_pretty": "US$ 72",
                                    "stage_fee": 0,
                                    "amount": "0.00",
                                    "limit_from_time": "04:44",
                                    "text": "Before you stay you'll pay",
                                    "fee_rounded": 0,
                                    "b_number": 0,
                                    "effective_number": 0,
                                    "u_fee_remaining": "72.08",
                                    "is_free": 1,
                                    "u_fee": "0.00",
                                    "amount_pretty": "US$ 0",
                                    "current_stage": 1,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 0",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 512.87,
                                    "limit_until": "25 November 2024 23:59",
                                    "limit_until_raw": "2024-11-25 23:59:59",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "u_fee_pretty": "US$ 0",
                                    "fee_pretty": "CNY 0",
                                    "is_effective": 1,
                                    "limit_from": "18 October 2024 04:44",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59"
                                },
                                {
                                    "amount_pretty": "US$ 72",
                                    "after_checkin": 1,
                                    "is_free": 0,
                                    "amount": "72.08",
                                    "text": "At the property you'll pay"
                                }
                            ],
                            "currency_code": "CNY"
                        },
                        "extended_type_translation": "No payment needed today",
                        "type_extended": "non_refundable_prepayment",
                        "description": "You'll pay during your stay.",
                        "type_translation": "No payment needed today",
                        "type": "no_prepayment",
                        "simple_translation": "No prepayment",
                        "info": {
                            "prepayment_at_booktime": 0,
                            "refundable": "anytime"
                        }
                    },
                    "cancellation": {
                        "bucket": "SMP_FLEX",
                        "type": "free_cancellation",
                        "type_translation": "Free cancellation",
                        "info": {
                            "timezone_offset": "28800",
                            "date_before": "23 November 2024",
                            "refundable_date_midnight": "2024-11-23T23:59:59+08:00",
                            "timezone": "CST",
                            "time": "00:00",
                            "date": "24 November 2024",
                            "refundable": 1,
                            "is_midnight": 1,
                            "time_before_midnight": "23:59",
                            "date_before_raw": "2024-11-23",
                            "refundable_date": "2024-11-24T00:00:00+08:00",
                            "date_raw": "2024-11-24 00:00:00"
                        },
                        "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                        "timeline": {
                            "u_currency_code": "USD",
                            "stages": [
                                {
                                    "text": "Free cancellation until 23:59 on 23 Nov",
                                    "limit_from_time": "04:44",
                                    "fee_rounded": 0,
                                    "b_number": 0,
                                    "effective_number": 0,
                                    "u_fee_remaining": "72.08",
                                    "u_fee": "0.00",
                                    "is_free": 1,
                                    "text_refundable": "You'll get a full refund if you cancel before 23:59 on 23 November 2024.",
                                    "fee": 0,
                                    "fee_remaining_pretty": "CNY 512",
                                    "limit_from_date": "18 October 2024",
                                    "limit_until_date": "23 November 2024",
                                    "b_state": "FREE",
                                    "u_fee_remaining_pretty": "US$ 72",
                                    "stage_fee": 0,
                                    "limit_until_raw": "2024-11-23 23:59:59",
                                    "limit_from_raw": "2024-10-18 04:44:03",
                                    "date_until": "2024-11-23 23:59:59 +0800",
                                    "u_fee_pretty": "US$ 0",
                                    "is_effective": 1,
                                    "fee_pretty": "CNY 0",
                                    "stage_translation": "Free to cancel",
                                    "limit_from": "18 October 2024 04:44",
                                    "u_stage_fee_pretty": "US$ 0",
                                    "limit_until_time": "23:59",
                                    "current_stage": 1,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 0",
                                    "u_stage_fee": "0.00",
                                    "fee_remaining": 512.87,
                                    "limit_until": "23 November 2024 23:59"
                                },
                                {
                                    "limit_until_raw": "2024-11-24 00:00:00",
                                    "limit_from_raw": "2024-11-24 00:00:00",
                                    "u_fee_pretty": "US$ 72",
                                    "stage_translation": "No refund if you cancel",
                                    "fee_pretty": "CNY 512",
                                    "is_effective": 1,
                                    "limit_from": "24 November 2024 00:00",
                                    "u_stage_fee_pretty": "US$ 72",
                                    "limit_until_time": "00:00",
                                    "current_stage": 0,
                                    "limit_timezone": "Bayannur",
                                    "stage_fee_pretty": "CNY 513",
                                    "u_stage_fee": "72.08",
                                    "fee_remaining": 0,
                                    "limit_until": "24 November 2024 00:00",
                                    "amount": 72.08,
                                    "limit_from_time": "00:00",
                                    "text": "From 00:00 on 24 Nov",
                                    "fee_rounded": 513,
                                    "b_number": 1,
                                    "effective_number": 1,
                                    "u_fee_remaining": "0.00",
                                    "u_fee": "72.08",
                                    "is_free": 0,
                                    "text_refundable": "If you cancel from 24 November 2024, you will no longer be eligible for a refund.",
                                    "date_from": "2024-11-24 00:00:00 +0800",
                                    "amount_pretty": "US$ 72",
                                    "fee": 512.87,
                                    "fee_remaining_pretty": "CNY 0",
                                    "limit_from_date": "24 November 2024",
                                    "b_state": "NONREF",
                                    "limit_until_date": "24 November 2024",
                                    "u_fee_remaining_pretty": "US$ 0",
                                    "stage_fee": 512.87
                                }
                            ],
                            "nr_stages": 2,
                            "policygroup_instance_id": "36/152/-",
                            "currency_code": "CNY"
                        },
                        "guaranteed_non_refundable": 0,
                        "non_refundable_anymore": 0
                    }
                },
                "transactional_policy_data": {
                    "policies": [
                        {
                            "policy_type_key": "free_cancellation",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "key": "FreeCancellationKey",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation",
                            "parameters": [
                                {
                                    "type": "datetime",
                                    "format": "dMMMy",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "key": "date"
                                },
                                {
                                    "type": "timezone",
                                    "value": "Asia/Shanghai",
                                    "key": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill"
                        },
                        {
                            "icon": "checkmark_fill",
                            "type": "prepayment",
                            "text": "<b>No prepayment needed</b> – pay at the property",
                            "key": "NoPrepaymentConstructiveKey",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment"
                        }
                    ],
                    "booking_conditions": [
                        {
                            "text": "Prepayment",
                            "type": "prepayment",
                            "icon": "credit_card",
                            "description": "No prepayment is needed.",
                            "policy_type_key": "patp_without_prepayment",
                            "key": "NoPrepaymentKey"
                        },
                        {
                            "key": "FreeCancellationKey",
                            "description": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "policy_type_key": "free_cancellation",
                            "parameters": [
                                {
                                    "key": "date",
                                    "value": "2024-11-24T00:00:00+08:00",
                                    "type": "datetime",
                                    "format": "dMMMy"
                                },
                                {
                                    "key": "timezone",
                                    "value": "Asia/Shanghai",
                                    "type": "timezone"
                                }
                            ],
                            "icon": "checkmark_fill",
                            "text": "<b>Free cancellation</b> before {date}",
                            "footer": "(Cancellation deadlines are in the property's timezone – {timezone})",
                            "type": "cancellation"
                        }
                    ]
                },
                "extrabed_available": 0,
                "room_surface_in_feet2": 968.751936,
                "number_of_bedrooms": 1,
                "all_inclusive": 0,
                "max_children_free": 0,
                "pod_ios_migrate_policies_to_smp_fullon": 0,
                "is_mobile_deal": 0,
                "is_secret_deal": 0,
                "is_smart_deal": 0,
                "policy_display_details": {
                    "cancellation": {
                        "policy_type_key": "free_cancellation",
                        "description_details": {
                            "translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee.",
                            "placeholder_translation": "You may cancel free of charge until 1 day before arrival. You will be charged the total price of the reservation if you cancel within 1 day before arrival. If you don't show up, the no-show fee will be the same as the cancellation fee."
                        },
                        "type": "free_cancellation",
                        "clarification_details": {
                            "parameters": {
                                "date": "2024-11-24T00:00:00+08:00",
                                "timezone": "Asia/Shanghai"
                            },
                            "translation": "(Cancellation deadlines are in the property's timezone – Asia/Shanghai)",
                            "tag": "clarification_cancellation_deadline_in_property_timezone",
                            "placeholder_translation": "(Cancellation deadlines are in the property's timezone – {timezone})"
                        },
                        "parameters": {
                            "has_cancellation_fee": 0
                        },
                        "title_details": {
                            "parameters": {
                                "date": "24 November 2024",
                                "timezone": "Asia/Shanghai",
                                "free_cancellation_deadline": "2024-11-24T00:00:00+08:00"
                            },
                            "translation": "<b>Free cancellation</b> before 24 November 2024",
                            "has_html": 1,
                            "placeholder_translation": "<b>Free cancellation</b> before {date}",
                            "tag": "cxl_fc_before_short_date_with_year_name"
                        }
                    },
                    "prepayment": {
                        "type": "no_prepayment",
                        "policy_type_key": "patp_without_prepayment",
                        "description_details": {
                            "placeholder_translation": "No prepayment is needed.",
                            "translation": "No prepayment is needed."
                        },
                        "title_details": {
                            "placeholder_translation": "<b>No prepayment needed</b> – pay at the property",
                            "tag": "payment_npn_patp_name",
                            "translation": "<b>No prepayment needed</b> – pay at the property",
                            "has_html": 1
                        }
                    }
                },
                "babycots_available": 0,
                "is_last_minute_deal": 0,
                "full_board": 0,
                "refundable": 1,
                "room_surface_in_m2": 90,
                "number_of_bathrooms": 1,
                "room_count": 3,
                "half_board": 0,
                "is_flash_deal": 0,
                "can_reserve_free_parking": 1
            }
        ]
    }
]

2025-08-25 12:34:42,779 - evaluation_logger_Hotels-15 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 前言

在上一篇文章中，我们实现了`axios`的请求和响应配置化，即用户可以配置`config`对象中的`url`、`method`、`params`、`data`、`headers`、`timeout`、`responseType`等属性。我们也说了，`axios`的参数不仅支持我们前面介绍的那种形式，还支持`axios(config)`和`axios(url[, config])`这两种形式。那么接下来，我们就来实现这两种形式的参数。

# 2. 接口需求分析

我们先来回顾一下`axios`支持的两种调用方式：

## 2.1 axios(config)

```javascript
axios({
  method: "post",
  url: "/api/base/post",
  data: {
    a: 1,
    b: 2,
  },
});
```

## 2.2 axios(url[, config])

```javascript
axios("/api/base/post", {
  method: "post",
  data: {
    a: 1,
    b: 2,
  },
});
```

# 3. 实现思路

从上面两种调用方式中，我们可以看到：第一种调用方式只接收一个参数，即`config`对象；第二种方式接收两个参数，第一个是`url`字符串，第二个是`config`对象。

那么，我们如何实现这两种调用方式呢？其实很简单，我们只需在`axios`方法内部判断用户传入参数的个数以及类型，然后根据不同的情况处理即可。

- 如果只传入一个参数，那么判断该参数的类型：
  - 如果该参数是字符串类型，那么认为该参数是`url`，然后`config`对象为空对象；
  - 如果该参数是对象类型，那么认为该参数是`config`对象；
- 如果传入两个参数，那么第一个参数必须是字符串类型，代表`url`，第二个参数必须是对象类型，代表`config`对象；

然后，我们再把处理好的`config`对象传给真正的请求发出口`request`函数即可。

# 4. 代码实现

我们首先修改`src/index.ts`文件，在`axios`函数内部添加参数处理逻辑：

```typescript
import { AxiosRequestConfig } from "./types";
import xhr from "./xhr";

function axios(config: AxiosRequestConfig): void {
  // 如果第一个参数是字符串，那么认为它是url，并且如果存在第二个参数，那么第二个参数就是config
  if (typeof config === "string") {
    config = arguments[1] || {};
    config.url = arguments[0];
  } else {
    config = config || {};
  }
  xhr(config);
}

export default axios;
```

OK，这样我们就实现了`axios`的两种调用方式。

# 5. 编写 demo

接下来，我们在`examples/base/app.ts`文件中添加测试两种调用方式的代码：

```typescript
// 第一种调用方式
axios({
  method: "post",
  url: "/api/base/post",
  data: {
    a: 1,
    b: 2,
  },
});

// 第二种调用方式
axios("/api/base/post", {
  method: "post",
  data: {
    a: 1,
    b: 2,
  },
});
```

然后运行项目，在浏览器中查看发送的两条请求，发现两条请求都已经正常发出，并且请求体和请求头都正确。

![](~@/axios/07/01.png)

![](~@/axios/07/02.png)

# 6. 遗留问题

虽然我们实现了`axios`的两种调用方式，但是细心的小伙伴可能已经发现了，我们之前定义的`axios`函数是没有返回值的，即`void`类型。但是官方`axios`函数是有返回值的，并且返回值是一个`promise`对象，这样用户就可以使用`then`方法获取响应数据。所以，接下来我们就来实现`axios`函数的`promise`化。

# 7. 后续章节

下一章，我们就来实现`axios`函数的`promise`化，让`axios`函数返回一个`promise`对象。


2025-08-25 12:34:48,713 - evaluation_logger_Hotels-15 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about hotel rooms within 100 kilometers of the specified location.'}
2025-08-25 12:34:55,925 - evaluation_logger_Hotels-15 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 12:34:55,925 - evaluation_logger_Hotels-15 - INFO - Message: Success.
2025-08-25 12:34:55,925 - evaluation_logger_Hotels-15 - INFO - Success turn num = 2
2025-08-25 12:34:55,925 - evaluation_logger_Hotels-15 - INFO - ----------------------------------------------------------------------------------------------------
