2025-08-25 13:14:21,037 - evaluation_logger_Flights-0 - INFO - Test Example Flights-0
2025-08-25 13:14:21,037 - evaluation_logger_Flights-0 - INFO - Query: My partner and I are gonna fly from Los Angeles to Paris on November 5th, 2024. Then we'll fly from Paris to London on November 9th, 2024. Finally, we'll go back to Los Angeles on November 19th, 2024. Can you give us the info about economy class?
2025-08-25 13:14:30,256 - evaluation_logger_Flights-0 - INFO - Function Calls: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Los Angeles"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Paris"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "London"
        }
    }
]

2025-08-25 13:14:30,256 - evaluation_logger_Flights-0 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Los Angeles"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "Paris"
        }
    },
    {
        "name": "Search_Flight_Location",
        "arguments": {
            "query": "London"
        }
    },
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "legs": [
                {
                    "fromId": "LAX.CITY",
                    "toId": "PAR.CITY",
                    "date": "2024-11-05"
                },
                {
                    "fromId": "PAR.CITY",
                    "toId": "LON.CITY",
                    "date": "2024-11-09"
                },
                {
                    "fromId": "LON.CITY",
                    "toId": "LAX.CITY",
                    "date": "2024-11-19"
                }
            ],
            "cabinClass": "ECONOMY",
            "adults": 2
        }
    }
]

2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Los Angeles'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Los Angeles'}}
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Rule-based compare success.
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Rule-based compare success.
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Start compare_single_call: 
{'name': 'Search_Flight_Location', 'arguments': {'query': 'London'}}
{'name': 'Search_Flight_Location', 'arguments': {'query': 'London'}}
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Rule-based compare success.
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Success matched: [{'name': 'Search_Flight_Location', 'arguments': {'query': 'Los Angeles'}}, {'name': 'Search_Flight_Location', 'arguments': {'query': 'Paris'}}, {'name': 'Search_Flight_Location', 'arguments': {'query': 'London'}}]
2025-08-25 13:14:30,257 - evaluation_logger_Flights-0 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "LAX.CITY",
                "type": "CITY",
                "name": "Los Angeles",
                "code": "LAX",
                "regionName": "California",
                "country": "US",
                "countryName": "United States"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "PAR.CITY",
                "type": "CITY",
                "name": "Paris",
                "code": "PAR",
                "regionName": "Ile de France",
                "country": "FR",
                "countryName": "France"
            }
        ]
    },
    {
        "status": true,
        "message": "Success",
        "data": [
            {
                "id": "LON.CITY",
                "type": "CITY",
                "name": "London",
                "code": "LON",
                "regionName": "Greater London",
                "country": "GB",
                "countryName": "United Kingdom"
            }
        ]
    }
]

2025-08-25 13:14:43,320 - evaluation_logger_Flights-0 - INFO - Function Calls: 
[
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "cabinClass": "ECONOMY",
            "legs": [
                {
                    "fromId": "LAX.CITY",
                    "toId": "PAR.CITY",
                    "date": "2024-11-05"
                },
                {
                    "fromId": "PAR.CITY",
                    "toId": "LON.CITY",
                    "date": "2024-11-09"
                },
                {
                    "fromId": "LON.CITY",
                    "toId": "LAX.CITY",
                    "date": "2024-11-19"
                }
            ],
            "adults": 2
        }
    }
]

2025-08-25 13:14:43,320 - evaluation_logger_Flights-0 - INFO - Golden Function Call: 
[
    {
        "name": "Search_Flights_Multi_Stops",
        "arguments": {
            "adults": 2,
            "cabinClass": "ECONOMY",
            "legs": [
                {
                    "fromId": "LAX.CITY",
                    "toId": "PAR.CITY",
                    "date": "2024-11-05"
                },
                {
                    "fromId": "PAR.CITY",
                    "toId": "LON.CITY",
                    "date": "2024-11-09"
                },
                {
                    "fromId": "LON.CITY",
                    "toId": "LAX.CITY",
                    "date": "2024-11-19"
                }
            ]
        }
    }
]

2025-08-25 13:14:43,320 - evaluation_logger_Flights-0 - INFO - Start compare_single_call: 
{'name': 'Search_Flights_Multi_Stops', 'arguments': {'adults': 2, 'cabinClass': 'ECONOMY', 'legs': [{'fromId': 'LAX.CITY', 'toId': 'PAR.CITY', 'date': '2024-11-05'}, {'fromId': 'PAR.CITY', 'toId': 'LON.CITY', 'date': '2024-11-09'}, {'fromId': 'LON.CITY', 'toId': 'LAX.CITY', 'date': '2024-11-19'}]}}
{'name': 'Search_Flights_Multi_Stops', 'arguments': {'adults': 2, 'cabinClass': 'ECONOMY', 'legs': [{'fromId': 'LAX.CITY', 'toId': 'PAR.CITY', 'date': '2024-11-05'}, {'fromId': 'PAR.CITY', 'toId': 'LON.CITY', 'date': '2024-11-09'}, {'fromId': 'LON.CITY', 'toId': 'LAX.CITY', 'date': '2024-11-19'}]}}
2025-08-25 13:14:43,320 - evaluation_logger_Flights-0 - INFO - Rule-based compare success.
2025-08-25 13:14:43,320 - evaluation_logger_Flights-0 - INFO - Success matched: [{'name': 'Search_Flights_Multi_Stops', 'arguments': {'adults': 2, 'cabinClass': 'ECONOMY', 'legs': [{'fromId': 'LAX.CITY', 'toId': 'PAR.CITY', 'date': '2024-11-05'}, {'fromId': 'PAR.CITY', 'toId': 'LON.CITY', 'date': '2024-11-09'}, {'fromId': 'LON.CITY', 'toId': 'LAX.CITY', 'date': '2024-11-19'}]}}]
2025-08-25 13:14:43,322 - evaluation_logger_Flights-0 - INFO - Observations:
[
    {
        "status": true,
        "message": "Success",
        "data": {
            "flightOffers": [
                {
                    "token": "d7699_H4sIAAAAAAAA_1WQ23KbMBCGn8a5KgKJc2Y0HWxomoSDEw6ufaPBgDGxazpIDQ5P3-Vw05FG-_3_SjvaPQvxhz_K8una1GfBpb8c1a1o61xUqGh_y6cOjmPbXppbLedNJ_vOr63zruhhlH0D8KNQsUcGgBQeWSayBKt43H-v7kLiXUEfmmOFcirZtj0jLyheqKMG0jzrsFP9eLKKVlAN6VgzD68B0dTZ7OhT6GbqYVIlDTZ977seDz44RIePOhocM0w4CV2Og-RN3V1EEA6HPPrCcdr0Ir0-8yDJtmHT38PUIvAeJ8Oe77zrz5FTdz_m38Klpp_8ePE3yj2OexEMHk9SDTyPv3vKSnWnj1QFNIKQZtpzO23Ol8baQlBTmbEUNPZfnCybpaAEm0SbR3GnWFUt_YFX16oQTXt7rb7o2oGKlgRjbj-JJkVs7WAD6_8ZKlElmP2kY-Y4hm1pEl6MaEU2N8JNowFYqQ7smiloWsDniTEiwDl7WqNsj9It2uqgj8wKIBTMHm-WjCinY6kBVozkpgFwYqNsGFmqfbDnHYSBlV3-eSH_AGZ1rh9UAgAA",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "departureTime": "2024-11-05T09:47:00",
                            "arrivalTime": "2024-11-06T08:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-05T09:47:00",
                                    "arrivalTime": "2024-11-05T17:47:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 4798,
                                        "planeType": "32Q",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 18000,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "32Q"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "4"
                                },
                                {
                                    "departureTime": "2024-11-05T19:10:00",
                                    "arrivalTime": "2024-11-06T08:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1615,
                                        "planeType": "787",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 25800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "787"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "A",
                                    "arrivalTerminal": "2B"
                                }
                            ],
                            "totalTime": 48780,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "departureTime": "2024-11-09T18:25:00",
                            "arrivalTime": "2024-11-09T18:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-09T18:25:00",
                                    "arrivalTime": "2024-11-09T18:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 323,
                                        "planeType": "320",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 4800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A320"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "2C",
                                    "arrivalTerminal": "5"
                                }
                            ],
                            "totalTime": 4800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-11-19T15:05:00",
                            "arrivalTime": "2024-11-19T18:25:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-19T15:05:00",
                                    "arrivalTime": "2024-11-19T18:25:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 6984,
                                        "planeType": "380",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "AA"
                                        }
                                    },
                                    "carriers": [
                                        "AA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 40800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A380"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "5",
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 40800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d7699_H4sIAAAAAAAA_1WQ226jMBCGnya9Wgw2EEIla0UC7bbhkJZDmtxYnEJosmGFvSXl6Xc43Kxseb7_H3vkmbMQf_ijLJ-udXUWXPrLUdWIpkpFifLmt3xq4cia5lLfKjmtW9m1PnbWu6L7QfIDwA18xRwYAFJ4YJnIEqz88fCzvAuJtzl9qLMSpVQyTXNCnlM8U0uXSHNWx73qhqOVN4JqSMeacdx6RCOT2dJn307U46gK6m26zrUd7n1yiBYfdNBbhh9x4tsce9Gbur8Iz--PafCNw7juRHx94V6U7Py6u_vxisB7HPUHvneuvwaO7cOQf_Pnmm709OpulHsYdsLrHR7FGngOf3eUhWqPHylzaAQhzTCndpqUz401uaCGMmEhaOi-WkkySUEJNog2jeJOsaqu9AdeXstc1M1tW37TtQUVVxKMufkimhSwtYWXWP_PUIkqwexHHTLLWpomkfBsBAuyuZEsL3SAhWrBrpiCxgV8HhkjApyy5zVKDijeoW0MOmMrD0LOzOFmwYhyygoNsGQkNZYAJzbImpG52id72UPoWdGmXxfyDxy5APJUAgAA",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "departureTime": "2024-11-05T09:47:00",
                            "arrivalTime": "2024-11-06T08:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-05T09:47:00",
                                    "arrivalTime": "2024-11-05T17:47:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 4798,
                                        "planeType": "32Q",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 18000,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "32Q"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "4"
                                },
                                {
                                    "departureTime": "2024-11-05T19:10:00",
                                    "arrivalTime": "2024-11-06T08:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1615,
                                        "planeType": "787",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 25800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "787"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "A",
                                    "arrivalTerminal": "2B"
                                }
                            ],
                            "totalTime": 48780,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "departureTime": "2024-11-09T18:25:00",
                            "arrivalTime": "2024-11-09T18:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-09T18:25:00",
                                    "arrivalTime": "2024-11-09T18:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 323,
                                        "planeType": "320",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 4800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A320"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "2C",
                                    "arrivalTerminal": "5"
                                }
                            ],
                            "totalTime": 4800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-11-19T12:30:00",
                            "arrivalTime": "2024-11-19T15:50:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-19T12:30:00",
                                    "arrivalTime": "2024-11-19T15:50:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 6992,
                                        "planeType": "773",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "AA"
                                        }
                                    },
                                    "carriers": [
                                        "AA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 40800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "777"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "5",
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 40800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d7699_H4sIAAAAAAAA_1WQ23KbMBCGn8a5KgIJMJAZTUc2NE3CwQkH177RYMA2sWs6SA0OT9_lcNORRvv9_0o72j1L-Uc8qurxWp_OUih_BTo1sjnlskJF81s9tnAcmuZS305qXreqz35t2LtmhlH2DcCPQs0ZGABSeGCVqAqs4nH3vbpLRbQFfagPFcqp4jjOhKKgeKaWLpHh2fut7sejVTSSGsjEhrV_DYixnMyWPoVupu9HVdJg3XW-64ngQ0BkYtBRz6wwESR0BQ6SN317kUHY7_PoC8dp3cn0-iyCJNuEdXcPU5vAe5z0O7H1rj8HTt3dkH8L55p-8uPFX2v3OO5k0HsiSQ3wPPHuaQvdHT9SFdAIQoblTO00uZgbawpJLW3CUtLYf2FZNklJCbaIMY3iTrGu2-aDqK5VIevm9lp90RWDirYCY24-iaFEfMXwEpv_GTrRFZj9qGPOGNZNBc86WpB1bTtGdwNY6Az2iWtoXMDnkTEiwDl_WqFsh9INii3QB24HEAruDDdLTrTjoTQAK05yawlw5IOsOZmrffDnLYSel23-eSH_AE9Se9dTAgAA",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "departureTime": "2024-11-05T09:47:00",
                            "arrivalTime": "2024-11-06T08:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-05T09:47:00",
                                    "arrivalTime": "2024-11-05T17:47:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 4798,
                                        "planeType": "32Q",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 18000,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "32Q"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "4"
                                },
                                {
                                    "departureTime": "2024-11-05T19:10:00",
                                    "arrivalTime": "2024-11-06T08:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1615,
                                        "planeType": "787",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 25800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "787"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "A",
                                    "arrivalTerminal": "2B"
                                }
                            ],
                            "totalTime": 48780,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "departureTime": "2024-11-09T18:25:00",
                            "arrivalTime": "2024-11-09T18:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-09T18:25:00",
                                    "arrivalTime": "2024-11-09T18:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 323,
                                        "planeType": "320",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 4800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A320"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "2C",
                                    "arrivalTerminal": "5"
                                }
                            ],
                            "totalTime": 4800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-11-19T16:55:00",
                            "arrivalTime": "2024-11-19T20:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-19T16:55:00",
                                    "arrivalTime": "2024-11-19T20:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 135,
                                        "planeType": "77W",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "AA"
                                        }
                                    },
                                    "carriers": [
                                        "AA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 41100,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "777"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "3",
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 41100,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d7699_H4sIAAAAAAAA_1WQ23KbMBCGn8a5KgIJMJAZTQcbmibh4JiDa99oMGBM7JoOUo3D03c53HSk0X7_v9KOds9C_OHPsny61tVZcOkvR1UjmioTJcqb3_KphePYNJf6VslZ3cqe_WtjbxU9CNNvAF4YKNbAAJDCA8tElmDlz_vv5UNIvM3pU30sUUYly7Im5DnFM7V0iTTXPOxULxqtvBFUQzrWjMO7TzR9Mlv6EjipehhVQf1113mOy_1PDtHmgw572whiTgKHYz_-UHcX4Qf9IQu_cJTUnUiur9yP001Qd48gMQm8x3G_5zv3-nPgxNkP-Y9grunFP968tfKIok74vcvjRAPP5VtXWajO-JEyh0YQ0gxraqfJ-NxYkwtqKBMWgkbem52mkxSUYINo0ygeFKuqqT_x8lrmom5u7-UXXdlQ0ZRgzM2daFLIVjZeYv0_Q8WWBLMfdcRse2mZmoRnI1yQ9c28nvkdYKHasCumoHEBn0fGiABn7GWF0j3ammijgz4y04eQM2u4WTCinI6FBlgykhlLgBMbZM3IXO2Tve4g9Kxos_uF_AOaUbkVVAIAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "departureTime": "2024-11-05T09:47:00",
                            "arrivalTime": "2024-11-06T08:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-05T09:47:00",
                                    "arrivalTime": "2024-11-05T17:47:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 4798,
                                        "planeType": "32Q",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 18000,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "32Q"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "4"
                                },
                                {
                                    "departureTime": "2024-11-05T19:10:00",
                                    "arrivalTime": "2024-11-06T08:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1615,
                                        "planeType": "787",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 25800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "787"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "A",
                                    "arrivalTerminal": "2B"
                                }
                            ],
                            "totalTime": 48780,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "departureTime": "2024-11-09T16:20:00",
                            "arrivalTime": "2024-11-09T16:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-09T16:20:00",
                                    "arrivalTime": "2024-11-09T16:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 319,
                                        "planeType": "320",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 5100,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A320"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "2C",
                                    "arrivalTerminal": "5"
                                }
                            ],
                            "totalTime": 5100,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-11-19T15:05:00",
                            "arrivalTime": "2024-11-19T18:25:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-19T15:05:00",
                                    "arrivalTime": "2024-11-19T18:25:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 6984,
                                        "planeType": "380",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "AA"
                                        }
                                    },
                                    "carriers": [
                                        "AA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 40800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A380"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "5",
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 40800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                },
                {
                    "token": "d7699_H4sIAAAAAAAA_1WQ226jMBCGnya9Wgw2ToBK1ooEttuGQxsO2eTGIkASmjSssFtSnn6Hw83Kluf7_7FHnjlL-Vc8qurxWp3OUiifAp1qWZ8yWaK8_lCPDRyHur5Ut5OaVY3q2X9e7Y02D8L0B4AXBprVMwCkcM8qURVY-ePuZ3mXimhy9lAdSpQxxbKsEUXO8EQNWyDqmvut7kWDldeSUTTH1NivfULpaDbsKXBSfT-ogvmrtvUcV_jvAqIteh12thHEggSOwH78pm8v0g-6fRZ-4yipWplcn4Ufp69B1d6DxCTwHsfdTmzd6--eE2fX59-CqaYX_3rxVto9ilrpd66IEwqeKzauNtOd4SNlDo0gRA1rbKfOxNRYnUtmaCMWkkXei52mo5SMYIPQcRR3hnXdnD-I8lrmsqpv6_KbLW2oaCow5vqLUCXkSxsv8Pw_Q8eWArMfdMRte2FZRMGTEc7I6mbSj64CmOk27BPX0LCAzwNjRIAz_rRE6Q5tTLROQB-46UPIudXfLDjRjoeCApacZMYC4Mh7WXEyVXvnz1sIHS-a7OtC_gGKpUtBVAIAAA..",
                    "segments": [
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "departureTime": "2024-11-05T09:47:00",
                            "arrivalTime": "2024-11-06T08:20:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-05T09:47:00",
                                    "arrivalTime": "2024-11-05T17:47:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 4798,
                                        "planeType": "32Q",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 18000,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "32Q"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "4"
                                },
                                {
                                    "departureTime": "2024-11-05T19:10:00",
                                    "arrivalTime": "2024-11-06T08:20:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "PHL",
                                        "name": "Philadelphia International Airport",
                                        "city": "PHL",
                                        "cityName": "Philadelphia",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 1615,
                                        "planeType": "787",
                                        "carrierInfo": {
                                            "operatingCarrier": "AA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "AA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        }
                                    ],
                                    "totalTime": 25800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "787"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "power_outlet",
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "A",
                                    "arrivalTerminal": "2B"
                                }
                            ],
                            "totalTime": 48780,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "CDG",
                                "name": "Paris - Charles de Gaulle Airport",
                                "city": "PAR",
                                "cityName": "Paris",
                                "country": "FR",
                                "countryName": "France"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "departureTime": "2024-11-09T16:20:00",
                            "arrivalTime": "2024-11-09T16:45:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-09T16:20:00",
                                    "arrivalTime": "2024-11-09T16:45:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "CDG",
                                        "name": "Paris - Charles de Gaulle Airport",
                                        "city": "PAR",
                                        "cityName": "Paris",
                                        "country": "FR",
                                        "countryName": "France"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 319,
                                        "planeType": "320",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "BA"
                                        }
                                    },
                                    "carriers": [
                                        "BA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 5100,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "A320"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "paid",
                                            "type": "light_meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "2C",
                                    "arrivalTerminal": "5"
                                }
                            ],
                            "totalTime": 5100,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        },
                        {
                            "departureAirport": {
                                "type": "AIRPORT",
                                "code": "LHR",
                                "name": "London Heathrow Airport",
                                "city": "LON",
                                "cityName": "London",
                                "country": "GB",
                                "countryName": "United Kingdom"
                            },
                            "arrivalAirport": {
                                "type": "AIRPORT",
                                "code": "LAX",
                                "name": "Los Angeles International Airport",
                                "city": "LAX",
                                "cityName": "Los Angeles",
                                "country": "US",
                                "countryName": "United States"
                            },
                            "departureTime": "2024-11-19T12:30:00",
                            "arrivalTime": "2024-11-19T15:50:00",
                            "legs": [
                                {
                                    "departureTime": "2024-11-19T12:30:00",
                                    "arrivalTime": "2024-11-19T15:50:00",
                                    "departureAirport": {
                                        "type": "AIRPORT",
                                        "code": "LHR",
                                        "name": "London Heathrow Airport",
                                        "city": "LON",
                                        "cityName": "London",
                                        "country": "GB",
                                        "countryName": "United Kingdom"
                                    },
                                    "arrivalAirport": {
                                        "type": "AIRPORT",
                                        "code": "LAX",
                                        "name": "Los Angeles International Airport",
                                        "city": "LAX",
                                        "cityName": "Los Angeles",
                                        "country": "US",
                                        "countryName": "United States"
                                    },
                                    "cabinClass": "ECONOMY",
                                    "flightInfo": {
                                        "flightNumber": 6992,
                                        "planeType": "773",
                                        "carrierInfo": {
                                            "operatingCarrier": "BA",
                                            "marketingCarrier": "AA"
                                        }
                                    },
                                    "carriers": [
                                        "AA",
                                        "BA"
                                    ],
                                    "carriersData": [
                                        {
                                            "name": "American Airlines",
                                            "code": "AA"
                                        },
                                        {
                                            "name": "British Airways",
                                            "code": "BA"
                                        }
                                    ],
                                    "totalTime": 40800,
                                    "amenities": [
                                        {
                                            "category": "AIRCRAFT",
                                            "model": "777"
                                        },
                                        {
                                            "category": "ENTERTAINMENT",
                                            "cost": "free"
                                        },
                                        {
                                            "category": "FOOD",
                                            "cost": "free",
                                            "type": "meal"
                                        },
                                        {
                                            "category": "POWER",
                                            "cost": "free",
                                            "type": [
                                                "usb_port"
                                            ]
                                        },
                                        {
                                            "category": "WIFI",
                                            "cost": "paid"
                                        }
                                    ],
                                    "departureTerminal": "5",
                                    "arrivalTerminal": "B"
                                }
                            ],
                            "totalTime": 40800,
                            "isAtolProtected": false,
                            "showWarningDestinationAirport": false,
                            "showWarningOriginAirport": false
                        }
                    ]
                }
            ],
            "flightDeals": [
                {
                    "key": "CHEAPEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_3WRX2-bMBTFP037NIzNnwCVrCkNaZVinKQQKHmxCFAKaUsXe4Pm0--SZFP3MF3sc87voouMX5T6kDe6_vza1C9Kaj8lqjvV1bmqUNG96c8H2HZdt2_eaz1vDjqbPq2mj9jmy-QbGLbk2Bs9GGiR0euGrkEVN9n3alCaPBT0utlVKKea53lnKwtqpdvgEg50gqy5u01NFp1Q0SlqIZtYzjYISbw6wwO9XxgWWZxSScNZ3zN_KsOoH5i_kGHTfy6PkGeX_Nlj5m8kb1XA_GRz8tEQjBrh3gnbQv5nObxdS5Y8RMwf19wGzZifYTYj0aaVJIzXZrpXIT-WK5g3cL_MYabJMZY8nmNOPljsF2bcyoFvXANmkPiYyTBOVrzph_AuI8D6pN2MbM1bqcLNXrL47oHN8BHORHibST4vCOThdOSqKChByHI8cspdLik-u0JR5_xru1LRiD1Mk-QcFSWOB3VKAyWm6drXsnqtCtV070H1SdOI2MTU4E67X4alzQUA90tMsolneRqenEEmUmtiWliDi_8CMNEI_gPuFpZta-TywpNY3hPoG5f-o-ABwZ75F2RXxmzf7NwfH2CuzCk8tcDonwL2cmEEyhgLWC5ul2g7RamP1jG6tVB2j1YB2o69nXBDkEJ4BKQUxPNw6YKtBCkrJwf3LCzYG2FcPtGKRQpyFHVddu3bb792zNsfAwAA",
                    "price": {
                        "currencyCode": "USD",
                        "units": 1797,
                        "nanos": 970000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 898,
                                    "nanos": 990000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 389,
                                    "nanos": 950000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 61,
                                    "nanos": 250000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 447,
                                    "nanos": 790000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 899
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 898,
                                    "nanos": 990000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 899
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        },
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 898,
                                    "nanos": 980000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 389,
                                    "nanos": 950000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 61,
                                    "nanos": 240000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 447,
                                    "nanos": 790000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 899
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 898,
                                    "nanos": 980000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 899
                                }
                            },
                            "travellerReference": "2",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "FASTEST",
                    "offerToken": "d6a1f_H4sIAAAAAAAA_z2Ra2_aMBSGfw39tFzsOCSpZE1RQruCY0hzofSLFUyAAG0q7I2UX7-TwCafy_O-x7Itea_1l3q0rO2p2e21Mn4rc9fqdlfp2pTth7U9Q1m37bH53FlVc7ZY-LYIX22Xz8sfAGzO7aBnABihni1sGbDk4-pn3WlDnSV9aNa1WVEjCIIbKknd6I5nOjbJxH9fOiwbLNlqSkwXEe99lqA0vZln-rzArHge1IYm0aVj8Yv3v-crleQh5MpLCqLu6fFDqu7p8Xxic_TF8lg62fcFJXnqLI864ddNwuKi4_GmyuyLw1HosXKasQhlRXPpeOFjFk9Qfu3vKBe86VZZIXtOeT8vQzy_wt3RRSfFUbH8acoi-5pkMMvAy7pJno6cGGJ4fi0lRaZJvAANuq0U9ckNpaaef8ONphmbhmV5k5r6iPi2O6iOIsfx3QdVn2qpm_ZzVn_T8Am7BnxO-wcT45cosE9sYsAPDcZKzBh20dhA_4wRjg4nOd4rgJETQuyEbcIC2gMhEwNVoijMOTNf30CshZ9AkyLoN22EJ4mPfMBaSKeCvhUEaiPw_ZyDeFlCu4qAbMnx4y_x1kBNcgIAAA..",
                    "price": {
                        "currencyCode": "USD",
                        "units": 8148,
                        "nanos": 50000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 4074,
                                    "nanos": 30000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 3437,
                                    "nanos": 320000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 1,
                                    "nanos": 570000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 635,
                                    "nanos": 140000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 4075
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 4074,
                                    "nanos": 30000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 4075
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        },
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 4074,
                                    "nanos": 20000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 3437,
                                    "nanos": 320000000
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 1,
                                    "nanos": 560000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 635,
                                    "nanos": 140000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 4075
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 4074,
                                    "nanos": 20000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 4075
                                }
                            },
                            "travellerReference": "2",
                            "travellerType": "ADULT"
                        }
                    ]
                },
                {
                    "key": "BEST",
                    "offerToken": "d7699_H4sIAAAAAAAA_1WQ23KbMBCGn8a5KgKJc2Y0HWxomoSDEw6ufaPBgDGxazpIDQ5P3-Vw05FG-_3_SjvaPQvxhz_K8una1GfBpb8c1a1o61xUqGh_y6cOjmPbXppbLedNJ_vOr63zruhhlH0D8KNQsUcGgBQeWSayBKt43H-v7kLiXUEfmmOFcirZtj0jLyheqKMG0jzrsFP9eLKKVlAN6VgzD68B0dTZ7OhT6GbqYVIlDTZ977seDz44RIePOhocM0w4CV2Og-RN3V1EEA6HPPrCcdr0Ir0-8yDJtmHT38PUIvAeJ8Oe77zrz5FTdz_m38Klpp_8ePE3yj2OexEMHk9SDTyPv3vKSnWnj1QFNIKQZtpzO23Ol8baQlBTmbEUNPZfnCybpaAEm0SbR3GnWFUt_YFX16oQTXt7rb7o2oGKlgRjbj-JJkVs7WAD6_8ZKlElmP2kY-Y4hm1pEl6MaEU2N8JNowFYqQ7smiloWsDniTEiwDl7WqNsj9It2uqgj8wKIBTMHm-WjCinY6kBVozkpgFwYqNsGFmqfbDnHYSBlV3-eSH_AGZ1rh9UAgAA",
                    "price": {
                        "currencyCode": "USD",
                        "units": 2172,
                        "nanos": 490000000
                    },
                    "travellerPrices": [
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 1086,
                                    "nanos": 250000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 444,
                                    "nanos": 0
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 5,
                                    "nanos": 440000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 636,
                                    "nanos": 810000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 1087
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 1086,
                                    "nanos": 250000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 1087
                                }
                            },
                            "travellerReference": "1",
                            "travellerType": "ADULT"
                        },
                        {
                            "travellerPriceBreakdown": {
                                "total": {
                                    "currencyCode": "USD",
                                    "units": 1086,
                                    "nanos": 240000000
                                },
                                "baseFare": {
                                    "currencyCode": "USD",
                                    "units": 444,
                                    "nanos": 0
                                },
                                "fee": {
                                    "currencyCode": "USD",
                                    "units": 5,
                                    "nanos": 430000000
                                },
                                "tax": {
                                    "currencyCode": "USD",
                                    "units": 636,
                                    "nanos": 810000000
                                },
                                "totalRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 1087
                                },
                                "discount": {
                                    "currencyCode": "USD",
                                    "units": 0,
                                    "nanos": 0
                                },
                                "totalWithoutDiscount": {
                                    "currencyCode": "USD",
                                    "units": 1086,
                                    "nanos": 240000000
                                },
                                "totalWithoutDiscountRounded": {
                                    "currencyCode": "USD",
                                    "nanos": 0,
                                    "units": 1087
                                }
                            },
                            "travellerReference": "2",
                            "travellerType": "ADULT"
                        }
                    ]
                }
            ],
            "atolProtectedStatus": "NONE",
            "searchId": "24C13645AD22639044438D57930459F0",
            "displayOptions": {
                "brandedFaresShownByDefault": false,
                "directFlightsOnlyFilterIgnored": false,
                "hideFlexiblePricesBanner": false
            },
            "isOffersCabinClassExtended": false,
            "searchCriteria": {
                "cabinClass": "ECONOMY"
            }
        }
    }
]

2025-08-25 13:17:54,484 - evaluation_logger_Flights-0 - INFO - Final Response: <｜begin▁of▁sentence｜># 1. 概述

本文，我们来分享 [《精尽 Spring Boot 源码分析 —— SpringApplication》](http://svip.iocoder.cn/Spring-Boot/SpringApplication/) 的**初始化**的源码解析。

在 SpringApplication 实例初始化的过程中，它会进行一些初始化的动作。同时，因为 SpringApplication 的构建过程，相对而言会简单很多，所以我们会补充说说「SpringApplication 的构建过程」。

# 2. 构造方法

`org.springframework.boot.SpringApplication` ，Spring 应用启动器。它的构造方法的代码如下：

```java
// SpringApplication.java

/**
 * Create a new {@link SpringApplication} instance. The application context will load
 * beans from the specified primary sources. See {@link #SpringApplication(ResourceLoader, Class...)}
 * for more details.
 * @param primarySources the primary bean sources
 * @see #SpringApplication(ResourceLoader, Class...)
 */
public SpringApplication(Class<?>... primarySources) {
    this(null, primarySources);
}

/**
 * Create a new {@link SpringApplication} instance. The application context will load
 * beans from the specified primary sources.
 * @param resourceLoader the resource loader to use
 * @param primarySources the primary bean sources
 */
@SuppressWarnings({ "unchecked", "rawtypes" })
public SpringApplication(ResourceLoader resourceLoader, Class<?>... primarySources) {
    // <1> 设置 resourceLoader 属性
    this.resourceLoader = resourceLoader;
    // 断言 primarySources 非空
    Assert.notNull(primarySources, "PrimarySources must not be null");
    // <2> 设置 primarySources 属性
    this.primarySources = new LinkedHashSet<>(Arrays.asList(primarySources));
    // <3> 推断 Web 应用类型
    this.webApplicationType = WebApplicationType.deduceFromClasspath();
    // <4> 设置 ApplicationContextInitializer
    setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class));
    // <5> 设置 ApplicationListener
    setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class));
    // <6> 推断 main 方法所在的类
    this.mainApplicationClass = deduceMainApplicationClass();
}
```

- `primarySources` 参数，**主源**。在文初提供的示例中，就是 `DemoApplication` 类。
- `resourceLoader` 参数，资源加载器。呃，貌似暂时没用到。
- `<1>` 处，设置 `resourceLoader` 属性。
- `<2>` 处，设置 `primarySources` 属性。
- `<3>` 处，调用 `WebApplicationType#deduceFromClasspath()` 方法，推断 Web 应用类型。详细解析，见 [「3. WebApplicationType」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<4>` 处，设置 `ApplicationContextInitializer` 到 `initializers` 属性。详细解析，见 [「4. ApplicationContextInitializer」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<5>` 处，设置 `ApplicationListener` 到 `listeners` 属性。详细解析，见 [「5. ApplicationListener」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。
- `<6>` 处，调用 `#deduceMainApplicationClass()` 方法，推断 `main` 方法所在的类。详细解析，见 [「6. deduceMainApplicationClass」](http://svip.iocoder.cn/Spring-Boot/SpringApplication/#) 。

# 3. WebApplicationType

`org.springframework.boot.WebApplicationType` ，Web 应用类型。枚举类，代码如下：

```java
// WebApplicationType.java

public enum WebApplicationType {

    /**
     * The application should not run as a web application and should not start an
     * embedded web server.
     */
    NONE,

    /**
     * The application should run as a servlet-based web application and should start an
     * embedded servlet web server.
     */
    SERVLET,

    /**
     * The application should run as a reactive web application and should start an
     * embedded reactive web server.
     */
    REACTIVE;

}
```

- 一共有三种类型：
  - `NONE` ：非 Web 项目。
  - `SERVLET` ：Web 项目，基于 Servlet 的。
  - `REACTIVE` ：Web 项目，基于响应式的。
- 那么，具体如何推断呢？继续来看 `WebApplicationType#deduceFromClasspath()` 方法。代码如下：

```java
// WebApplicationType.java

private static final String[] SERVLET_INDICATOR_CLASSES = { "javax.servlet.Servlet",
        "org.springframework.web.context.ConfigurableWebApplicationContext" };

private static final String WEBMVC_INDICATOR_CLASS = "org.springframework.web.servlet.DispatcherServlet";

private static final String WEBFLUX_INDICATOR_CLASS = "org.springframework.web.reactive.DispatcherHandler";

private static final String JERSEY_INDICATOR_CLASS = "org.glassfish.jersey.servlet.ServletContainer";

private static final String SERVLET_APPLICATION_CONTEXT_CLASS = "org.springframework.web.context.WebApplicationContext";

private static final String REACTIVE_APPLICATION_CONTEXT_CLASS = "org.springframework.boot.web.reactive.context.ReactiveWebApplicationContext";

static WebApplicationType deduceFromClasspath() {
    // 如果存在 REACTIVE 相关的类，不存在 SERVLET 相关的类，则返回 REACTIVE
    if (ClassUtils.isPresent(WEBFLUX_INDICATOR_CLASS, null) && !ClassUtils.isPresent(WEBMVC_INDICATOR_CLASS, null)
            && !ClassUtils.isPresent(JERSEY_INDICATOR_CLASS, null)) {
        return WebApplicationType.REACTIVE;
    }
    // 如果不存在 SERVLET 相关的类，则返回 NONE
    for (String className : SERVLET_INDICATOR_CLASSES) {
        if (!ClassUtils.isPresent(className, null)) {
            return WebApplicationType.NONE;
        }
    }
    // 否则，返回 SERVLET
    return WebApplicationType.SERVLET;
}
```

- 逻辑比较简单，根据类是否存在，进行判断。具体的判断逻辑，看代码注释。

# 4. ApplicationContextInitializer

`org.springframework.context.ApplicationContextInitializer` ，ApplicationContext 初始化器。代码如下：

```java
// ApplicationContextInitializer.java

/**
 * Callback interface for initializing a Spring {@link ConfigurableApplicationContext}
 * prior to being {@linkplain ConfigurableApplicationContext#refresh() refreshed}.
 *
 * <p>Typically used within web applications that require some programmatic initialization
 * of the application context. For example, registering property sources or activating
 * profiles against the {@linkplain ConfigurableApplicationContext#getEnvironment()
 * environment}. See {@code ContextLoader} and {@code FrameworkServlet} support for
 * declaring a "contextInitializerClasses" context-param and init-param, respectively.
 *
 * <p>{@code ApplicationContextInitializer} processors are encouraged to detect
 * whether Spring's {@link org.springframework.core.Ordered Ordered} interface has been
 * implemented or if the @{@link org.springframework.core.annotation.Order Order}
 * annotation is present and to sort instances accordingly if so prior to invocation.
 *
 * @author Chris Beams
 * @since 3.1
 * @param <C> the application context type
 * @see org.springframework.web.context.ContextLoader#customizeContext
 * @see org.springframework.web.context.ContextLoader#CONTEXT_INITIALIZER_CLASSES_PARAM
 * @see org.springframework.web.servlet.FrameworkServlet#setContextInitializerClasses
 * @see org.springframework.web.servlet.FrameworkServlet#applyInitializers
 */
@FunctionalInterface
public interface ApplicationContextInitializer<C extends ConfigurableApplicationContext> {

	/**
	 * Initialize the given application context.
	 * @param applicationContext the application to configure
	 */
	void initialize(C applicationContext);

}
```

- 用于在 Spring 容器刷新之前，初始化 Spring ConfigurableApplicationContext 的回调接口。
- 简单来说，就是对 Spring 容器进行初始化。例如说，注册一些属性，激活一些配置。

## 4.1 getSpringFactoriesInstances

在 SpringApplication 的构造方法中，有 `<4>` 和 `<5>` 处，会调用 `#getSpringFactoriesInstances(Class<T> type)` 方法，获得指定类型的数组。代码如下：

```java
// SpringApplication.java

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type) {
    return getSpringFactoriesInstances(type, new Class<?>[] {});
}

private <T> Collection<T> getSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, Object... args) {
    // 获得当前类加载器
    ClassLoader classLoader = getClassLoader();
    // Use names and ensure unique to protect against duplicates
    // <1> 加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组
    Set<String> names = new LinkedHashSet<>(SpringFactoriesLoader.loadFactoryNames(type, classLoader));
    // <2> 创建对象
    List<T> instances = createSpringFactoriesInstances(type, parameterTypes, classLoader, args, names);
    // <3> 排序
    AnnotationAwareOrderComparator.sort(instances);
    return instances;
}
```

- `<1>` 处，调用 `SpringFactoriesLoader#loadFactoryNames(Class<?> factoryClass, ClassLoader classLoader)` 方法，加载指定类型对应的，在 `META-INF/spring.factories` 里的类名的数组。
- `<2>` 处，调用 `#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` 方法，创建对象数组。
- `<3>` 处，调用 `AnnotationAwareOrderComparator#sort(List<?> list)` 方法，排序对象数组。

### 4.1.1 loadFactoryNames

`org.springframework.core.io.support.SpringFactoriesLoader` 类，会读取 `META-INF/spring.factories` 资源，获得每个 `factoryClass` 对应的实现类的类名的数组。代码如下：

```java
// SpringFactoriesLoader.java

/**
 * The location to look for factories.
 * <p>Can be present in multiple JAR files.
 */
public static final String FACTORIES_RESOURCE_LOCATION = "META-INF/spring.factories";

private static final Map<ClassLoader, MultiValueMap<String, String>> cache = new ConcurrentReferenceHashMap<>();

/**
 * Load the fully qualified class names of factory implementations of the given type
 * from {@value #FACTORIES_RESOURCE_LOCATION}, using the given class loader.
 * @param factoryClass the interface or abstract class representing the factory
 * @param classLoader the ClassLoader to use for loading resources; can be {@code null}
 * for using the default
 * @throws IllegalArgumentException if any error occurs while loading factory names
 * @see #loadFactories
 */
public static List<String> loadFactoryNames(Class<?> factoryClass, @Nullable ClassLoader classLoader) {
    // 获得 factoryClass 的名字
    String factoryClassName = factoryClass.getName();
    // 加载指定资源，返回 factoryClassName 对应的值
    return loadSpringFactories(classLoader).getOrDefault(factoryClassName, Collections.emptyList());
}

private static Map<String, List<String>> loadSpringFactories(@Nullable ClassLoader classLoader) {
    // 首先，从缓存中，获得 classLoader 对应的 MultiValueMap 对象
    MultiValueMap<String, String> result = cache.get(classLoader);
    if (result != null) {
        return result;
    }

    try {
        // 其次，从 `META-INF/spring.factories` 中，加载资源。
        Enumeration<URL> urls = (classLoader != null ?
                classLoader.getResources(FACTORIES_RESOURCE_LOCATION) :
                ClassLoader.getSystemResources(FACTORIES_RESOURCE_LOCATION));
        result = new LinkedMultiValueMap<>();
        // 遍历 URL 数组
        while (urls.hasMoreElements()) {
            URL url = urls.nextElement();
            UrlResource resource = new UrlResource(url);
            // 创建 Properties 对象，并从 resource 中加载
            Properties properties = PropertiesLoaderUtils.loadProperties(resource);
            // 遍历 properties 数组
            for (Map.Entry<?, ?> entry : properties.entrySet()) {
                // 获得 key 和 value
                String factoryClassName = ((String) entry.getKey()).trim();
                for (String factoryName : StringUtils.commaDelimitedListToStringArray((String) entry.getValue())) {
                    // 添加
                    result.add(factoryClassName, factoryName.trim());
                }
            }
        }
        // 添加到缓存中
        cache.put(classLoader, result);
        return result;
    } catch (IOException ex) {
        throw new IllegalArgumentException("Unable to load factories from location [" +
                FACTORIES_RESOURCE_LOCATION + "]", ex);
    }
}
```

- 比较简单，胖友自己瞅瞅。这里，我们以 `ApplicationContextInitializer` 为例子，在 `spring-boot-autoconfigure` 项目中，`META-INF/spring.factories` 文件，配置如下：

```properties
# Initializers
org.springframework.context.ApplicationContextInitializer=\
org.springframework.boot.autoconfigure.SharedMetadataReaderFactoryContextInitializer,\
org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener
```

- 所以，`ApplicationContextInitializer` 对应的实现类，有两个。

### 4.1.2 createSpringFactoriesInstances

`#createSpringFactoriesInstances(Class<T> type, Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args, Set<String> names)` 方法，创建对象数组。代码如下：

```java
// SpringApplication.java

/**
 * Creates the spring factories instances. Called by {@link #getSpringFactoriesInstances(Class, Class[], Object[])}.
 * @param type the type of factory
 * @param parameterTypes the constructor parameter types
 * @param classLoader the class loader to use
 * @param args the arguments to pass to the constructor
 * @param names the class names to instantiate
 * @return the instances
 */
@SuppressWarnings("unchecked")
private <T> List<T> createSpringFactoriesInstances(Class<T> type,
        Class<?>[] parameterTypes, ClassLoader classLoader, Object[] args,
        Set<String> names) {
    // 创建对象数组
    List<T> instances = new ArrayList<>(names.size());
    // 遍历 names 数组
    for (String name : names) {
        try {
            // 获得 name 对应的类
            Class<?> instanceClass = ClassUtils.forName(name, classLoader);
            // 判断是否是 type 类型
            Assert.isAssignable(type, instanceClass);
            // 获得构造方法
            Constructor<?> constructor = instanceClass.getDeclaredConstructor(parameterTypes);
            // 创建对象
            T instance = (T) BeanUtils.instantiateClass(constructor, args);
            // 添加到 instances 中
            instances.add(instance);
        } catch (Throwable ex) {
            throw new IllegalArgumentException("Cannot instantiate " + type + " : " + name, ex);
        }
    }
    return instances;
}
```

- 比较简单，胖友自己瞅瞅。

### 4.1.3 sort

`org.springframework.core.annotation.AnnotationAwareOrderComparator` 类，排序器。排序规则如下：

- 若对象实现 Ordered 接口，根据该接口的排序。
- 若对象有 `@Order` 注解，根据该注解的排序。
- 其它，默认为 0 。

## 4.2 setInitializers

`#setInitializers(Collection<? extends ApplicationContextInitializer<?>> initializers)` 方法，设置 `initializers` 属性。代码如下：

```java
// SpringApplication.java

/**
 * The ApplicationContextInitializers to apply to the context when it is created.
 */
private List<ApplicationContextInitializer<?>> initializers;

public void setInitializers(
		Collection<? extends ApplicationContextInitializer<?>> initializers) {
	this.initializers = new ArrayList<>(initializers);
}
```

# 5. ApplicationListener

`org.springframework.context.ApplicationListener` ，应用事件监听器接口。代码如下：

```java
// ApplicationListener.java

@FunctionalInterface
public interface ApplicationListener<E extends ApplicationEvent> extends EventListener {

	/**
	 * Handle an application event.
	 * @param event the event to respond to
	 */
	void onApplicationEvent(E event);

}
```

- 比较简单，监听 ApplicationEvent 事件。

## 5.1 setListeners

`#setListeners(Collection<? extends ApplicationListener<?>> listeners)` 方法，设置 `listeners` 属性。代码如下：

```java
// SpringApplication.java

/**
 * The ApplicationListeners to apply to the context and to register with the
 * {@link org.springframework.context.ApplicationEventMulticaster}.
 */
private List<ApplicationListener<?>> listeners;

public void setListeners(Collection<? extends ApplicationListener<?>> listeners) {
	this.listeners = new ArrayList<>(listeners);
}
```

# 6. deduceMainApplicationClass

`#deduceMainApplicationClass()` 方法，推断 `main` 方法所在的类。代码如下：

```java
// SpringApplication.java

private Class<?> deduceMainApplicationClass() {
    try {
        // 获得当前 StackTraceElement 数组
        StackTraceElement[] stackTrace = new RuntimeException().getStackTrace();
        // 遍历 StackTraceElement 数组，判断哪个执行了 main 方法
        for (StackTraceElement stackTraceElement : stackTrace) {
            if ("main".equals(stackTraceElement.getMethodName())) {
                return Class.forName(stackTraceElement.getClassName());
            }
        }
    } catch (ClassNotFoundException ex) {
        // Swallow and continue
    }
    return null;
}
```

- 通过异常的方式，获取当前 StackTraceElement 数组，然后判断哪个执行了 `main` 方法，从而获得对应的类。

# 7. 小结

至此，SpringApplication 实例已经初始化完成。让我们在回顾一下，SpringApplication 实例的属性：

- `resourceLoader` 属性，资源加载器。暂时为 `null` 。
- `primarySources` 属性，主源。例如说，`DemoApplication` 类。
- `webApplicationType` 属性，Web 应用类型。通过 `WebApplicationType#deduceFromClasspath()` 方法，进行推断。
- `initializers` 属性，ApplicationContextInitializer 数组。通过 `SpringFactoriesLoader#loadFactoryNames(...)` 方法，进行加载。
- `listeners` 属性，ApplicationListener 数组。通过 `SpringFactoriesLoader

2025-08-25 13:17:59,979 - evaluation_logger_Flights-0 - INFO - Complete Result: {'score': 0, 'reason': 'The response does not address any of the requested information about economy class for the specified flights.'}
2025-08-25 13:18:06,858 - evaluation_logger_Flights-0 - INFO - Correct Result: {'score': 0, 'reason': 'All information in the response is incorrect.'}
2025-08-25 13:18:06,858 - evaluation_logger_Flights-0 - INFO - Message: Success.
2025-08-25 13:18:06,858 - evaluation_logger_Flights-0 - INFO - Success turn num = 2
2025-08-25 13:18:06,858 - evaluation_logger_Flights-0 - INFO - ----------------------------------------------------------------------------------------------------
